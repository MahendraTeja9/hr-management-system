{"ast":null,"code":"import _objectSpread from\"/Users/stalin_j/Downloads/test2/onboard/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{FaCalendarAlt,FaTable,FaCheck,FaHome,FaTimes,FaClock,FaArrowLeft}from\"react-icons/fa\";import{toast}from\"react-toastify\";import{useAuth}from\"../contexts/AuthContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EmployeeAttendance=()=>{const{user}=useAuth();const navigate=useNavigate();const[view,setView]=useState(\"weekly\");// weekly, calendar\nconst[currentMonth,setCurrentMonth]=useState(new Date());const[attendance,setAttendance]=useState([]);const[loading,setLoading]=useState(false);const[settings,setSettings]=useState({});const[projectInputs,setProjectInputs]=useState({});const[taskInputs,setTaskInputs]=useState({});// Get week start (Monday) and end (Sunday)\nconst getWeekDates=date=>{const start=new Date(date);const day=start.getDay();const diff=start.getDate()-day+(day===0?-6:1);// Adjust when day is Sunday\nstart.setDate(diff);const end=new Date(start);end.setDate(start.getDate()+6);return{start,end};};// Get month start and end\nconst getMonthDates=date=>{const start=new Date(date.getFullYear(),date.getMonth(),1);const end=new Date(date.getFullYear(),date.getMonth()+1,0);return{start,end};};// Fetch attendance data\nconst fetchAttendance=async(startDate,endDate)=>{try{setLoading(true);const token=localStorage.getItem(\"token\");if(!token){console.log(\"No token found, skipping attendance fetch\");toast.error(\"Please login to view attendance\");setLoading(false);return;}// Validate date parameters\nif(!startDate||!endDate){console.error(\"Missing date parameters\");toast.error(\"Invalid date range provided\");setLoading(false);return;}const response=await fetch(\"http://localhost:5001/api/attendance/my-attendance?start_date=\".concat(startDate,\"&end_date=\").concat(endDate),{headers:{Authorization:\"Bearer \".concat(token)}});if(response.ok){const contentType=response.headers.get(\"content-type\");if(contentType&&contentType.includes(\"application/json\")){const data=await response.json();setAttendance(data.attendance||[]);// Data loaded successfully - no popup needed for empty results\n}else{console.error(\"Response is not JSON:\",contentType);toast.error(\"Invalid response format from server\");setAttendance([]);}}else if(response.status===400){const errorData=await response.json().catch(()=>({}));const message=errorData.error||\"Invalid request parameters\";toast.error(message);setAttendance([]);}else if(response.status===401){console.log(\"Unauthorized - user needs to login\");// Clear invalid token\nlocalStorage.removeItem(\"token\");toast.error(\"Please login again to continue\");setAttendance([]);}else if(response.status===404){const errorData=await response.json().catch(()=>({}));const message=errorData.error||\"No attendance records found\";// Don't show popup for 404 - this is normal when no records exist\nsetAttendance([]);}else if(response.status===500){console.error(\"Server error fetching attendance:\",response.status);toast.error(\"Failed to fetch attendance. Please try again.\");setAttendance([]);}else{console.error(\"Failed to fetch attendance:\",response.status);toast.error(\"Failed to fetch attendance. Please try again.\");setAttendance([]);}}catch(error){console.error(\"Error fetching attendance:\",error);toast.error(\"Failed to fetch attendance. Please try again.\");setAttendance([]);}finally{setLoading(false);}};// Fetch attendance settings\nconst fetchSettings=async()=>{try{const token=localStorage.getItem(\"token\");if(!token){console.log(\"No token found, skipping settings fetch\");return;}const response=await fetch(\"http://localhost:5001/api/attendance/settings\",{headers:{Authorization:\"Bearer \".concat(token)}});if(response.ok){const contentType=response.headers.get(\"content-type\");if(contentType&&contentType.includes(\"application/json\")){const data=await response.json();setSettings(data.settings);}else{console.error(\"Response is not JSON:\",contentType);}}else if(response.status===401){console.log(\"Unauthorized - user needs to login\");// Clear invalid token\nlocalStorage.removeItem(\"token\");}else{console.error(\"Failed to fetch settings:\",response.status);}}catch(error){console.error(\"Error fetching settings:\",error);}};// Mark attendance for a single day\nconst markAttendance=async function(date,status){let checkInTime=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let checkOutTime=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;let notes=arguments.length>4&&arguments[4]!==undefined?arguments[4]:\"\";try{const token=localStorage.getItem(\"token\");const response=await fetch(\"http://localhost:5001/api/attendance/mark\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)},body:JSON.stringify({date,status,check_in_time:checkInTime,check_out_time:checkOutTime,notes})});if(response.ok){toast.success(\"Attendance marked successfully\");// Refresh attendance data\nconst{start,end}=view===\"weekly\"?getWeekDates(new Date()):getMonthDates(currentMonth);fetchAttendance(start.toISOString().split(\"T\")[0],end.toISOString().split(\"T\")[0]);}else{const error=await response.json();toast.error(error.error||\"Failed to mark attendance\");}}catch(error){console.error(\"Error marking attendance:\",error);toast.error(\"Failed to mark attendance\");}};// Get attendance status for a specific date\nconst getAttendanceForDate=date=>{// Format the input date as YYYY-MM-DD without timezone issues\nconst inputDate=new Date(date);const inputYear=inputDate.getFullYear();const inputMonth=String(inputDate.getMonth()+1).padStart(2,\"0\");const inputDay=String(inputDate.getDate()).padStart(2,\"0\");const formattedInputDate=\"\".concat(inputYear,\"-\").concat(inputMonth,\"-\").concat(inputDay);return attendance.find(a=>{// Format the attendance date as YYYY-MM-DD for comparison\nconst attendanceDate=new Date(a.date);const attendanceYear=attendanceDate.getFullYear();const attendanceMonth=String(attendanceDate.getMonth()+1).padStart(2,\"0\");const attendanceDay=String(attendanceDate.getDate()).padStart(2,\"0\");const formattedAttendanceDate=\"\".concat(attendanceYear,\"-\").concat(attendanceMonth,\"-\").concat(attendanceDay);return formattedAttendanceDate===formattedInputDate;})||null;};// Get status icon and color\nconst getStatusDisplay=status=>{switch(status){case\"present\":return{icon:/*#__PURE__*/_jsx(FaCheck,{className:\"text-green-600\"}),color:\"bg-green-100 text-green-800\"};case\"wfh\":return{icon:/*#__PURE__*/_jsx(FaHome,{className:\"text-blue-600\"}),color:\"bg-blue-100 text-blue-800\"};case\"leave\":return{icon:/*#__PURE__*/_jsx(FaTimes,{className:\"text-red-600\"}),color:\"bg-red-100 text-red-800\"};case\"absent\":return{icon:/*#__PURE__*/_jsx(FaTimes,{className:\"text-gray-600\"}),color:\"bg-gray-100 text-gray-800\"};case\"half_day\":return{icon:/*#__PURE__*/_jsx(FaClock,{className:\"text-orange-600\"}),color:\"bg-orange-100 text-orange-800\"};default:return{icon:null,color:\"bg-gray-100 text-gray-800\"};}};// Generate week days - Only Monday to Friday\nconst generateWeekDays=()=>{const{start}=getWeekDates(new Date());const days=[];for(let i=0;i<7;i++){const date=new Date(start);date.setDate(start.getDate()+i);const dayOfWeek=date.getDay();// Skip Saturday (6) and Sunday (0)\nif(dayOfWeek!==0&&dayOfWeek!==6){days.push(date);}}return days;};// Format week range showing only weekdays (Mon-Fri)\nconst formatWeekRange=()=>{const weekDays=generateWeekDays();if(weekDays.length===0)return\"\";const firstDay=weekDays[0];const lastDay=weekDays[weekDays.length-1];const formatDate=date=>{return date.toLocaleDateString(\"en-US\",{month:\"short\",day:\"numeric\"});};return\"\".concat(formatDate(firstDay),\" - \").concat(formatDate(lastDay));};// Generate calendar days\nconst generateCalendarDays=()=>{const{start,end}=getMonthDates(currentMonth);const days=[];// Add days from previous month to fill first week\nconst firstDay=start.getDay();for(let i=firstDay-1;i>=0;i--){const date=new Date(start);date.setDate(start.getDate()-i-1);days.push({date,isCurrentMonth:false});}// Add current month days\nfor(let i=0;i<end.getDate();i++){const date=new Date(start);date.setDate(start.getDate()+i);days.push({date,isCurrentMonth:true});}// Add days from next month to fill last week\nconst lastDay=end.getDay();for(let i=1;i<=6-lastDay;i++){const date=new Date(end);date.setDate(end.getDate()+i);days.push({date,isCurrentMonth:false});}return days;};// Navigation functions - Only for calendar view (managers can navigate months)\nconst goToPreviousMonth=()=>{const newDate=new Date(currentMonth);newDate.setMonth(newDate.getMonth()-1);setCurrentMonth(newDate);};const goToNextMonth=()=>{const newDate=new Date(currentMonth);newDate.setMonth(newDate.getMonth()+1);setCurrentMonth(newDate);};// Initialize component\nuseEffect(()=>{if(user&&user.id){fetchSettings();}},[user]);useEffect(()=>{if(user&&user.id){if(view===\"weekly\"){// Always use current week (today's week)\nconst today=new Date();const{start,end}=getWeekDates(today);fetchAttendance(start.toISOString().split(\"T\")[0],end.toISOString().split(\"T\")[0]);}else if(view===\"calendar\"){const{start,end}=getMonthDates(currentMonth);fetchAttendance(start.toISOString().split(\"T\")[0],end.toISOString().split(\"T\")[0]);}}},[user,view,currentMonth]);// Show loading or authentication message\nif(!user){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Loading attendance data...\"})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate(\"/employee/dashboard\"),className:\"flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors duration-200\",children:[/*#__PURE__*/_jsx(FaHome,{className:\"w-4 h-4 mr-2\"}),\"Home\"]}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900\",children:\"My Attendance\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setView(\"weekly\"),className:\"px-4 py-2 rounded-lg flex items-center space-x-2 \".concat(view===\"weekly\"?\"bg-blue-600 text-white\":\"bg-gray-200 text-gray-700 hover:bg-gray-300\"),children:[/*#__PURE__*/_jsx(FaTable,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Weekly View\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setView(\"calendar\"),className:\"px-4 py-2 rounded-lg flex items-center space-x-2 \".concat(view===\"calendar\"?\"bg-blue-600 text-white\":\"bg-gray-200 text-gray-700 hover:bg-gray-300\"),children:[/*#__PURE__*/_jsx(FaCalendarAlt,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Calendar View\"})]})]})]}),view===\"weekly\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-semibold text-gray-800 text-center\",children:[\"Current Week: \",formatWeekRange()]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto rounded-lg border border-gray-200\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wider\",children:\"Day\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wider\",children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wider\",children:\"Project\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wider\",children:\"Tasks\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:generateWeekDays().map((date,index)=>{const attendanceRecord=getAttendanceForDate(date.toISOString().split(\"T\")[0]);const isToday=date.toDateString()===new Date().toDateString();const isPast=date<new Date().setHours(0,0,0,0);return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 transition-colors duration-200 \".concat(isToday?\"bg-blue-50 border-l-4 border-blue-500\":\"\"),children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-5 whitespace-nowrap text-sm font-semibold text-gray-900\",children:date.toLocaleDateString(\"en-US\",{weekday:\"short\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-5 whitespace-nowrap text-sm text-gray-700\",children:date.toLocaleDateString(\"en-US\",{month:\"short\",day:\"numeric\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-5 whitespace-nowrap\",children:attendanceRecord?/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex px-3 py-1 rounded-full text-sm font-medium \".concat(getStatusDisplay(attendanceRecord.status).color),children:attendanceRecord.status.charAt(0).toUpperCase()+attendanceRecord.status.slice(1)}):/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 text-sm\",children:\"Not marked\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-5 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter project name\",className:\"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200\",value:projectInputs[date.toISOString().split(\"T\")[0]]||\"\",onChange:e=>{const dateKey=date.toISOString().split(\"T\")[0];setProjectInputs(prev=>_objectSpread(_objectSpread({},prev),{},{[dateKey]:e.target.value}));}})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-5 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Describe your tasks\",className:\"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200\",value:taskInputs[date.toISOString().split(\"T\")[0]]||\"\",onChange:e=>{const dateKey=date.toISOString().split(\"T\")[0];setTaskInputs(prev=>_objectSpread(_objectSpread({},prev),{},{[dateKey]:e.target.value}));}})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-5 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white\",value:(attendanceRecord===null||attendanceRecord===void 0?void 0:attendanceRecord.status)||\"\",onChange:e=>{if(e.target.value){// Format date as YYYY-MM-DD without timezone issues\nconst year=date.getFullYear();const month=String(date.getMonth()+1).padStart(2,\"0\");const day=String(date.getDate()).padStart(2,\"0\");const formattedDate=\"\".concat(year,\"-\").concat(month,\"-\").concat(day);markAttendance(formattedDate,e.target.value);}},disabled:false,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"present\",children:\"Present\"}),/*#__PURE__*/_jsx(\"option\",{value:\"wfh\",children:\"WFH\"}),/*#__PURE__*/_jsx(\"option\",{value:\"leave\",children:\"Leave\"}),/*#__PURE__*/_jsx(\"option\",{value:\"absent\",children:\"Absent\"}),/*#__PURE__*/_jsx(\"option\",{value:\"half_day\",children:\"Half Day\"})]})})]},index);})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-6 border-t border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-6\",children:loading?\"Loading...\":\"\".concat(attendance.filter(a=>{const attendanceDate=new Date(a.date);const weekStart=getWeekDates(new Date()).start;const weekEnd=getWeekDates(new Date()).end;return attendanceDate>=weekStart&&attendanceDate<=weekEnd;}).length,\" days marked this week\")}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-5 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center bg-white rounded-lg p-4 shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-green-600 mb-1\",children:attendance.filter(record=>record.status===\"present\").length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-700\",children:\"Present\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center bg-white rounded-lg p-4 shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-blue-600 mb-1\",children:attendance.filter(record=>record.status===\"wfh\").length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-700\",children:\"WFH\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center bg-white rounded-lg p-4 shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-red-600 mb-1\",children:attendance.filter(record=>record.status===\"leave\").length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-700\",children:\"Leave\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center bg-white rounded-lg p-4 shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-gray-600 mb-1\",children:attendance.filter(record=>record.status===\"absent\").length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-700\",children:\"Absent\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center bg-white rounded-lg p-4 shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-orange-600 mb-1\",children:attendance.filter(record=>record.status===\"half_day\").length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-700\",children:\"Half Day\"})]})]})]})})]}),view===\"calendar\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-4 border-b\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setView(\"weekly\"),className:\"flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors duration-200\",children:[/*#__PURE__*/_jsx(FaArrowLeft,{className:\"w-4 h-4 mr-2\"}),\"Back\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:goToPreviousMonth,className:\"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300\",children:\"Previous Month\"})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:currentMonth.toLocaleDateString(\"en-US\",{month:\"long\",year:\"numeric\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:goToNextMonth,className:\"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300\",children:\"Next Month\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-7 gap-1\",children:[[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"].map(day=>/*#__PURE__*/_jsx(\"div\",{className:\"p-2 text-center text-sm font-medium text-gray-500\",children:day},day)),generateCalendarDays().map((_ref,index)=>{let{date,isCurrentMonth}=_ref;// Format date as YYYY-MM-DD without timezone issues\nconst year=date.getFullYear();const month=String(date.getMonth()+1).padStart(2,\"0\");const day=String(date.getDate()).padStart(2,\"0\");const formattedDate=\"\".concat(year,\"-\").concat(month,\"-\").concat(day);const attendanceRecord=getAttendanceForDate(formattedDate);const isToday=date.toDateString()===new Date().toDateString();const isPast=date<new Date().setHours(0,0,0,0);return/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 min-h-[80px] border border-gray-200 \".concat(!isCurrentMonth?\"bg-gray-50 text-gray-400\":\"bg-white\",\" \").concat(isToday?\"ring-2 ring-blue-500\":\"\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium mb-1\",children:date.getDate()}),isCurrentMonth&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1\",children:attendanceRecord?/*#__PURE__*/_jsx(\"div\",{className:\"text-xs px-1 py-0.5 rounded \".concat(getStatusDisplay(attendanceRecord.status).color),children:attendanceRecord.status.charAt(0).toUpperCase()+attendanceRecord.status.slice(1)}):/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-400\",children:\"No attendance\"})})]},index);})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-6 border-t border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-6 text-gray-800\",children:\"Monthly Attendance Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-5 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center bg-white rounded-lg p-4 shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-green-600 mb-1\",children:attendance.filter(a=>{const attendanceDate=new Date(a.date);const monthStart=getMonthDates(currentMonth).start;const monthEnd=getMonthDates(currentMonth).end;return attendanceDate>=monthStart&&attendanceDate<=monthEnd&&a.status===\"present\";}).length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-700\",children:\"Present\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center bg-white rounded-lg p-4 shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-blue-600 mb-1\",children:attendance.filter(a=>{const attendanceDate=new Date(a.date);const monthStart=getMonthDates(currentMonth).start;const monthEnd=getMonthDates(currentMonth).end;return attendanceDate>=monthStart&&attendanceDate<=monthEnd&&a.status===\"wfh\";}).length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-700\",children:\"WFH\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center bg-white rounded-lg p-4 shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-red-600 mb-1\",children:attendance.filter(a=>{const attendanceDate=new Date(a.date);const monthStart=getMonthDates(currentMonth).start;const monthEnd=getMonthDates(currentMonth).end;return attendanceDate>=monthStart&&attendanceDate<=monthEnd&&a.status===\"leave\";}).length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-700\",children:\"Leave\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center bg-white rounded-lg p-4 shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-gray-600 mb-1\",children:attendance.filter(a=>{const attendanceDate=new Date(a.date);const monthStart=getMonthDates(currentMonth).start;const monthEnd=getMonthDates(currentMonth).end;return attendanceDate>=monthStart&&attendanceDate<=monthEnd&&a.status===\"absent\";}).length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-700\",children:\"Absent\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center bg-white rounded-lg p-4 shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-orange-600 mb-1\",children:attendance.filter(a=>{const attendanceDate=new Date(a.date);const monthStart=getMonthDates(currentMonth).start;const monthEnd=getMonthDates(currentMonth).end;return attendanceDate>=monthStart&&attendanceDate<=monthEnd&&a.status===\"half_day\";}).length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-700\",children:\"Half Day\"})]})]})]})})]})]})})});};export default EmployeeAttendance;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","FaCalendarAlt","FaTable","FaCheck","FaHome","FaTimes","FaClock","FaArrowLeft","toast","useAuth","jsx","_jsx","jsxs","_jsxs","EmployeeAttendance","user","navigate","view","setView","currentMonth","setCurrentMonth","Date","attendance","setAttendance","loading","setLoading","settings","setSettings","projectInputs","setProjectInputs","taskInputs","setTaskInputs","getWeekDates","date","start","day","getDay","diff","getDate","setDate","end","getMonthDates","getFullYear","getMonth","fetchAttendance","startDate","endDate","token","localStorage","getItem","console","log","error","response","fetch","concat","headers","Authorization","ok","contentType","get","includes","data","json","status","errorData","catch","message","removeItem","fetchSettings","markAttendance","checkInTime","arguments","length","undefined","checkOutTime","notes","method","body","JSON","stringify","check_in_time","check_out_time","success","toISOString","split","getAttendanceForDate","inputDate","inputYear","inputMonth","String","padStart","inputDay","formattedInputDate","find","a","attendanceDate","attendanceYear","attendanceMonth","attendanceDay","formattedAttendanceDate","getStatusDisplay","icon","className","color","generateWeekDays","days","i","dayOfWeek","push","formatWeekRange","weekDays","firstDay","lastDay","formatDate","toLocaleDateString","month","generateCalendarDays","isCurrentMonth","goToPreviousMonth","newDate","setMonth","goToNextMonth","id","today","children","onClick","map","index","attendanceRecord","isToday","toDateString","isPast","setHours","weekday","charAt","toUpperCase","slice","type","placeholder","value","onChange","e","dateKey","prev","_objectSpread","target","year","formattedDate","disabled","filter","weekStart","weekEnd","record","_ref","monthStart","monthEnd"],"sources":["/Users/stalin_j/Downloads/test2/onboard/frontend/src/components/EmployeeAttendance.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n  FaCalendarAlt,\n  FaTable,\n  FaCheck,\n  FaHome,\n  FaTimes,\n  FaClock,\n  FaArrowLeft,\n} from \"react-icons/fa\";\nimport { toast } from \"react-toastify\";\nimport { useAuth } from \"../contexts/AuthContext\";\n\nconst EmployeeAttendance = () => {\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const [view, setView] = useState(\"weekly\"); // weekly, calendar\n  const [currentMonth, setCurrentMonth] = useState(new Date());\n  const [attendance, setAttendance] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [settings, setSettings] = useState({});\n  const [projectInputs, setProjectInputs] = useState({});\n  const [taskInputs, setTaskInputs] = useState({});\n\n  // Get week start (Monday) and end (Sunday)\n  const getWeekDates = (date) => {\n    const start = new Date(date);\n    const day = start.getDay();\n    const diff = start.getDate() - day + (day === 0 ? -6 : 1); // Adjust when day is Sunday\n    start.setDate(diff);\n\n    const end = new Date(start);\n    end.setDate(start.getDate() + 6);\n\n    return { start, end };\n  };\n\n  // Get month start and end\n  const getMonthDates = (date) => {\n    const start = new Date(date.getFullYear(), date.getMonth(), 1);\n    const end = new Date(date.getFullYear(), date.getMonth() + 1, 0);\n    return { start, end };\n  };\n\n  // Fetch attendance data\n  const fetchAttendance = async (startDate, endDate) => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem(\"token\");\n      if (!token) {\n        console.log(\"No token found, skipping attendance fetch\");\n        toast.error(\"Please login to view attendance\");\n        setLoading(false);\n        return;\n      }\n\n      // Validate date parameters\n      if (!startDate || !endDate) {\n        console.error(\"Missing date parameters\");\n        toast.error(\"Invalid date range provided\");\n        setLoading(false);\n        return;\n      }\n\n      const response = await fetch(\n        `http://localhost:5001/api/attendance/my-attendance?start_date=${startDate}&end_date=${endDate}`,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n\n      if (response.ok) {\n        const contentType = response.headers.get(\"content-type\");\n        if (contentType && contentType.includes(\"application/json\")) {\n          const data = await response.json();\n          setAttendance(data.attendance || []);\n\n          // Data loaded successfully - no popup needed for empty results\n        } else {\n          console.error(\"Response is not JSON:\", contentType);\n          toast.error(\"Invalid response format from server\");\n          setAttendance([]);\n        }\n      } else if (response.status === 400) {\n        const errorData = await response.json().catch(() => ({}));\n        const message = errorData.error || \"Invalid request parameters\";\n        toast.error(message);\n        setAttendance([]);\n      } else if (response.status === 401) {\n        console.log(\"Unauthorized - user needs to login\");\n        // Clear invalid token\n        localStorage.removeItem(\"token\");\n        toast.error(\"Please login again to continue\");\n        setAttendance([]);\n      } else if (response.status === 404) {\n        const errorData = await response.json().catch(() => ({}));\n        const message = errorData.error || \"No attendance records found\";\n        // Don't show popup for 404 - this is normal when no records exist\n        setAttendance([]);\n      } else if (response.status === 500) {\n        console.error(\"Server error fetching attendance:\", response.status);\n        toast.error(\"Failed to fetch attendance. Please try again.\");\n        setAttendance([]);\n      } else {\n        console.error(\"Failed to fetch attendance:\", response.status);\n        toast.error(\"Failed to fetch attendance. Please try again.\");\n        setAttendance([]);\n      }\n    } catch (error) {\n      console.error(\"Error fetching attendance:\", error);\n      toast.error(\"Failed to fetch attendance. Please try again.\");\n      setAttendance([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fetch attendance settings\n  const fetchSettings = async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      if (!token) {\n        console.log(\"No token found, skipping settings fetch\");\n        return;\n      }\n\n      const response = await fetch(\n        \"http://localhost:5001/api/attendance/settings\",\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n\n      if (response.ok) {\n        const contentType = response.headers.get(\"content-type\");\n        if (contentType && contentType.includes(\"application/json\")) {\n          const data = await response.json();\n          setSettings(data.settings);\n        } else {\n          console.error(\"Response is not JSON:\", contentType);\n        }\n      } else if (response.status === 401) {\n        console.log(\"Unauthorized - user needs to login\");\n        // Clear invalid token\n        localStorage.removeItem(\"token\");\n      } else {\n        console.error(\"Failed to fetch settings:\", response.status);\n      }\n    } catch (error) {\n      console.error(\"Error fetching settings:\", error);\n    }\n  };\n\n  // Mark attendance for a single day\n  const markAttendance = async (\n    date,\n    status,\n    checkInTime = null,\n    checkOutTime = null,\n    notes = \"\"\n  ) => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const response = await fetch(\n        \"http://localhost:5001/api/attendance/mark\",\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n          body: JSON.stringify({\n            date,\n            status,\n            check_in_time: checkInTime,\n            check_out_time: checkOutTime,\n            notes,\n          }),\n        }\n      );\n\n      if (response.ok) {\n        toast.success(\"Attendance marked successfully\");\n        // Refresh attendance data\n        const { start, end } =\n          view === \"weekly\"\n            ? getWeekDates(new Date())\n            : getMonthDates(currentMonth);\n        fetchAttendance(\n          start.toISOString().split(\"T\")[0],\n          end.toISOString().split(\"T\")[0]\n        );\n      } else {\n        const error = await response.json();\n        toast.error(error.error || \"Failed to mark attendance\");\n      }\n    } catch (error) {\n      console.error(\"Error marking attendance:\", error);\n      toast.error(\"Failed to mark attendance\");\n    }\n  };\n\n  // Get attendance status for a specific date\n  const getAttendanceForDate = (date) => {\n    // Format the input date as YYYY-MM-DD without timezone issues\n    const inputDate = new Date(date);\n    const inputYear = inputDate.getFullYear();\n    const inputMonth = String(inputDate.getMonth() + 1).padStart(2, \"0\");\n    const inputDay = String(inputDate.getDate()).padStart(2, \"0\");\n    const formattedInputDate = `${inputYear}-${inputMonth}-${inputDay}`;\n\n    return (\n      attendance.find((a) => {\n        // Format the attendance date as YYYY-MM-DD for comparison\n        const attendanceDate = new Date(a.date);\n        const attendanceYear = attendanceDate.getFullYear();\n        const attendanceMonth = String(attendanceDate.getMonth() + 1).padStart(\n          2,\n          \"0\"\n        );\n        const attendanceDay = String(attendanceDate.getDate()).padStart(2, \"0\");\n        const formattedAttendanceDate = `${attendanceYear}-${attendanceMonth}-${attendanceDay}`;\n        return formattedAttendanceDate === formattedInputDate;\n      }) || null\n    );\n  };\n\n  // Get status icon and color\n  const getStatusDisplay = (status) => {\n    switch (status) {\n      case \"present\":\n        return {\n          icon: <FaCheck className=\"text-green-600\" />,\n          color: \"bg-green-100 text-green-800\",\n        };\n      case \"wfh\":\n        return {\n          icon: <FaHome className=\"text-blue-600\" />,\n          color: \"bg-blue-100 text-blue-800\",\n        };\n      case \"leave\":\n        return {\n          icon: <FaTimes className=\"text-red-600\" />,\n          color: \"bg-red-100 text-red-800\",\n        };\n      case \"absent\":\n        return {\n          icon: <FaTimes className=\"text-gray-600\" />,\n          color: \"bg-gray-100 text-gray-800\",\n        };\n      case \"half_day\":\n        return {\n          icon: <FaClock className=\"text-orange-600\" />,\n          color: \"bg-orange-100 text-orange-800\",\n        };\n      default:\n        return { icon: null, color: \"bg-gray-100 text-gray-800\" };\n    }\n  };\n\n  // Generate week days - Only Monday to Friday\n  const generateWeekDays = () => {\n    const { start } = getWeekDates(new Date());\n    const days = [];\n\n    for (let i = 0; i < 7; i++) {\n      const date = new Date(start);\n      date.setDate(start.getDate() + i);\n      const dayOfWeek = date.getDay();\n      // Skip Saturday (6) and Sunday (0)\n      if (dayOfWeek !== 0 && dayOfWeek !== 6) {\n        days.push(date);\n      }\n    }\n\n    return days;\n  };\n\n  // Format week range showing only weekdays (Mon-Fri)\n  const formatWeekRange = () => {\n    const weekDays = generateWeekDays();\n    if (weekDays.length === 0) return \"\";\n\n    const firstDay = weekDays[0];\n    const lastDay = weekDays[weekDays.length - 1];\n\n    const formatDate = (date) => {\n      return date.toLocaleDateString(\"en-US\", {\n        month: \"short\",\n        day: \"numeric\",\n      });\n    };\n\n    return `${formatDate(firstDay)} - ${formatDate(lastDay)}`;\n  };\n\n  // Generate calendar days\n  const generateCalendarDays = () => {\n    const { start, end } = getMonthDates(currentMonth);\n    const days = [];\n\n    // Add days from previous month to fill first week\n    const firstDay = start.getDay();\n    for (let i = firstDay - 1; i >= 0; i--) {\n      const date = new Date(start);\n      date.setDate(start.getDate() - i - 1);\n      days.push({ date, isCurrentMonth: false });\n    }\n\n    // Add current month days\n    for (let i = 0; i < end.getDate(); i++) {\n      const date = new Date(start);\n      date.setDate(start.getDate() + i);\n      days.push({ date, isCurrentMonth: true });\n    }\n\n    // Add days from next month to fill last week\n    const lastDay = end.getDay();\n    for (let i = 1; i <= 6 - lastDay; i++) {\n      const date = new Date(end);\n      date.setDate(end.getDate() + i);\n      days.push({ date, isCurrentMonth: false });\n    }\n\n    return days;\n  };\n\n  // Navigation functions - Only for calendar view (managers can navigate months)\n  const goToPreviousMonth = () => {\n    const newDate = new Date(currentMonth);\n    newDate.setMonth(newDate.getMonth() - 1);\n    setCurrentMonth(newDate);\n  };\n\n  const goToNextMonth = () => {\n    const newDate = new Date(currentMonth);\n    newDate.setMonth(newDate.getMonth() + 1);\n    setCurrentMonth(newDate);\n  };\n\n  // Initialize component\n  useEffect(() => {\n    if (user && user.id) {\n      fetchSettings();\n    }\n  }, [user]);\n\n  useEffect(() => {\n    if (user && user.id) {\n      if (view === \"weekly\") {\n        // Always use current week (today's week)\n        const today = new Date();\n        const { start, end } = getWeekDates(today);\n        fetchAttendance(\n          start.toISOString().split(\"T\")[0],\n          end.toISOString().split(\"T\")[0]\n        );\n      } else if (view === \"calendar\") {\n        const { start, end } = getMonthDates(currentMonth);\n        fetchAttendance(\n          start.toISOString().split(\"T\")[0],\n          end.toISOString().split(\"T\")[0]\n        );\n      }\n    }\n  }, [user, view, currentMonth]);\n\n  // Show loading or authentication message\n  if (!user) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Loading attendance data...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"space-y-6\">\n          {/* Header */}\n          <div className=\"flex justify-between items-center mb-8\">\n            <div className=\"flex items-center space-x-4\">\n              <button\n                onClick={() => navigate(\"/employee/dashboard\")}\n                className=\"flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors duration-200\"\n              >\n                <FaHome className=\"w-4 h-4 mr-2\" />\n                Home\n              </button>\n              <h2 className=\"text-3xl font-bold text-gray-900\">\n                My Attendance\n              </h2>\n            </div>\n            <div className=\"flex space-x-3\">\n              <button\n                onClick={() => setView(\"weekly\")}\n                className={`px-4 py-2 rounded-lg flex items-center space-x-2 ${\n                  view === \"weekly\"\n                    ? \"bg-blue-600 text-white\"\n                    : \"bg-gray-200 text-gray-700 hover:bg-gray-300\"\n                }`}\n              >\n                <FaTable />\n                <span>Weekly View</span>\n              </button>\n              <button\n                onClick={() => setView(\"calendar\")}\n                className={`px-4 py-2 rounded-lg flex items-center space-x-2 ${\n                  view === \"calendar\"\n                    ? \"bg-blue-600 text-white\"\n                    : \"bg-gray-200 text-gray-700 hover:bg-gray-300\"\n                }`}\n              >\n                <FaCalendarAlt />\n                <span>Calendar View</span>\n              </button>\n            </div>\n          </div>\n\n          {/* Weekly View */}\n          {view === \"weekly\" && (\n            <div className=\"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden\">\n              {/* Current Week Header */}\n              <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200\">\n                <h3 className=\"text-xl font-semibold text-gray-800 text-center\">\n                  Current Week: {formatWeekRange()}\n                </h3>\n              </div>\n\n              {/* Weekly Table */}\n              <div className=\"p-6\">\n                <div className=\"overflow-x-auto rounded-lg border border-gray-200\">\n                  <table className=\"min-w-full divide-y divide-gray-200\">\n                    <thead className=\"bg-gray-50\">\n                      <tr>\n                        <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wider\">\n                          Day\n                        </th>\n                        <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wider\">\n                          Date\n                        </th>\n                        <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wider\">\n                          Status\n                        </th>\n                        <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wider\">\n                          Project\n                        </th>\n                        <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wider\">\n                          Tasks\n                        </th>\n                        <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wider\">\n                          Actions\n                        </th>\n                      </tr>\n                    </thead>\n                    <tbody className=\"bg-white divide-y divide-gray-200\">\n                      {generateWeekDays().map((date, index) => {\n                        const attendanceRecord = getAttendanceForDate(\n                          date.toISOString().split(\"T\")[0]\n                        );\n                        const isToday =\n                          date.toDateString() === new Date().toDateString();\n                        const isPast = date < new Date().setHours(0, 0, 0, 0);\n\n                        return (\n                          <tr\n                            key={index}\n                            className={`hover:bg-gray-50 transition-colors duration-200 ${\n                              isToday\n                                ? \"bg-blue-50 border-l-4 border-blue-500\"\n                                : \"\"\n                            }`}\n                          >\n                            <td className=\"px-6 py-5 whitespace-nowrap text-sm font-semibold text-gray-900\">\n                              {date.toLocaleDateString(\"en-US\", {\n                                weekday: \"short\",\n                              })}\n                            </td>\n                            <td className=\"px-6 py-5 whitespace-nowrap text-sm text-gray-700\">\n                              {date.toLocaleDateString(\"en-US\", {\n                                month: \"short\",\n                                day: \"numeric\",\n                              })}\n                            </td>\n                            <td className=\"px-6 py-5 whitespace-nowrap\">\n                              {attendanceRecord ? (\n                                <span\n                                  className={`inline-flex px-3 py-1 rounded-full text-sm font-medium ${\n                                    getStatusDisplay(attendanceRecord.status)\n                                      .color\n                                  }`}\n                                >\n                                  {attendanceRecord.status\n                                    .charAt(0)\n                                    .toUpperCase() +\n                                    attendanceRecord.status.slice(1)}\n                                </span>\n                              ) : (\n                                <span className=\"text-gray-400 text-sm\">\n                                  Not marked\n                                </span>\n                              )}\n                            </td>\n                            <td className=\"px-6 py-5 whitespace-nowrap\">\n                              <input\n                                type=\"text\"\n                                placeholder=\"Enter project name\"\n                                className=\"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200\"\n                                value={\n                                  projectInputs[\n                                    date.toISOString().split(\"T\")[0]\n                                  ] || \"\"\n                                }\n                                onChange={(e) => {\n                                  const dateKey = date\n                                    .toISOString()\n                                    .split(\"T\")[0];\n                                  setProjectInputs((prev) => ({\n                                    ...prev,\n                                    [dateKey]: e.target.value,\n                                  }));\n                                }}\n                              />\n                            </td>\n                            <td className=\"px-6 py-5 whitespace-nowrap\">\n                              <input\n                                type=\"text\"\n                                placeholder=\"Describe your tasks\"\n                                className=\"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200\"\n                                value={\n                                  taskInputs[\n                                    date.toISOString().split(\"T\")[0]\n                                  ] || \"\"\n                                }\n                                onChange={(e) => {\n                                  const dateKey = date\n                                    .toISOString()\n                                    .split(\"T\")[0];\n                                  setTaskInputs((prev) => ({\n                                    ...prev,\n                                    [dateKey]: e.target.value,\n                                  }));\n                                }}\n                              />\n                            </td>\n                            <td className=\"px-6 py-5 whitespace-nowrap\">\n                              <select\n                                className=\"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white\"\n                                value={attendanceRecord?.status || \"\"}\n                                onChange={(e) => {\n                                  if (e.target.value) {\n                                    // Format date as YYYY-MM-DD without timezone issues\n                                    const year = date.getFullYear();\n                                    const month = String(\n                                      date.getMonth() + 1\n                                    ).padStart(2, \"0\");\n                                    const day = String(date.getDate()).padStart(\n                                      2,\n                                      \"0\"\n                                    );\n                                    const formattedDate = `${year}-${month}-${day}`;\n                                    markAttendance(\n                                      formattedDate,\n                                      e.target.value\n                                    );\n                                  }\n                                }}\n                                disabled={false}\n                              >\n                                <option value=\"\">Select Status</option>\n                                <option value=\"present\">Present</option>\n                                <option value=\"wfh\">WFH</option>\n                                <option value=\"leave\">Leave</option>\n                                <option value=\"absent\">Absent</option>\n                                <option value=\"half_day\">Half Day</option>\n                              </select>\n                            </td>\n                          </tr>\n                        );\n                      })}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n\n              {/* Attendance Summary */}\n              <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-6 border-t border-gray-200\">\n                <div className=\"text-center\">\n                  <p className=\"text-sm text-gray-600 mb-6\">\n                    {loading\n                      ? \"Loading...\"\n                      : `${\n                          attendance.filter((a) => {\n                            const attendanceDate = new Date(a.date);\n                            const weekStart = getWeekDates(new Date()).start;\n                            const weekEnd = getWeekDates(new Date()).end;\n                            return (\n                              attendanceDate >= weekStart &&\n                              attendanceDate <= weekEnd\n                            );\n                          }).length\n                        } days marked this week`}\n                  </p>\n\n                  {/* Week Statistics */}\n                  <div className=\"grid grid-cols-5 gap-6\">\n                    <div className=\"text-center bg-white rounded-lg p-4 shadow-sm\">\n                      <div className=\"text-3xl font-bold text-green-600 mb-1\">\n                        {\n                          attendance.filter(\n                            (record) => record.status === \"present\"\n                          ).length\n                        }\n                      </div>\n                      <div className=\"text-sm font-medium text-gray-700\">\n                        Present\n                      </div>\n                    </div>\n                    <div className=\"text-center bg-white rounded-lg p-4 shadow-sm\">\n                      <div className=\"text-3xl font-bold text-blue-600 mb-1\">\n                        {\n                          attendance.filter((record) => record.status === \"wfh\")\n                            .length\n                        }\n                      </div>\n                      <div className=\"text-sm font-medium text-gray-700\">\n                        WFH\n                      </div>\n                    </div>\n                    <div className=\"text-center bg-white rounded-lg p-4 shadow-sm\">\n                      <div className=\"text-3xl font-bold text-red-600 mb-1\">\n                        {\n                          attendance.filter(\n                            (record) => record.status === \"leave\"\n                          ).length\n                        }\n                      </div>\n                      <div className=\"text-sm font-medium text-gray-700\">\n                        Leave\n                      </div>\n                    </div>\n                    <div className=\"text-center bg-white rounded-lg p-4 shadow-sm\">\n                      <div className=\"text-3xl font-bold text-gray-600 mb-1\">\n                        {\n                          attendance.filter(\n                            (record) => record.status === \"absent\"\n                          ).length\n                        }\n                      </div>\n                      <div className=\"text-sm font-medium text-gray-700\">\n                        Absent\n                      </div>\n                    </div>\n                    <div className=\"text-center bg-white rounded-lg p-4 shadow-sm\">\n                      <div className=\"text-3xl font-bold text-orange-600 mb-1\">\n                        {\n                          attendance.filter(\n                            (record) => record.status === \"half_day\"\n                          ).length\n                        }\n                      </div>\n                      <div className=\"text-sm font-medium text-gray-700\">\n                        Half Day\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Calendar View */}\n          {view === \"calendar\" && (\n            <div className=\"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden\">\n              {/* Month Navigation */}\n              <div className=\"flex justify-between items-center p-4 border-b\">\n                <div className=\"flex items-center space-x-3\">\n                  <button\n                    onClick={() => setView(\"weekly\")}\n                    className=\"flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors duration-200\"\n                  >\n                    <FaArrowLeft className=\"w-4 h-4 mr-2\" />\n                    Back\n                  </button>\n                  <button\n                    onClick={goToPreviousMonth}\n                    className=\"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300\"\n                  >\n                    Previous Month\n                  </button>\n                </div>\n                <h3 className=\"text-lg font-semibold\">\n                  {currentMonth.toLocaleDateString(\"en-US\", {\n                    month: \"long\",\n                    year: \"numeric\",\n                  })}\n                </h3>\n                <button\n                  onClick={goToNextMonth}\n                  className=\"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300\"\n                >\n                  Next Month\n                </button>\n              </div>\n\n              {/* Calendar Grid */}\n              <div className=\"p-4\">\n                <div className=\"grid grid-cols-7 gap-1\">\n                  {/* Day headers */}\n                  {[\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"].map(\n                    (day) => (\n                      <div\n                        key={day}\n                        className=\"p-2 text-center text-sm font-medium text-gray-500\"\n                      >\n                        {day}\n                      </div>\n                    )\n                  )}\n\n                  {/* Calendar days */}\n                  {generateCalendarDays().map(\n                    ({ date, isCurrentMonth }, index) => {\n                      // Format date as YYYY-MM-DD without timezone issues\n                      const year = date.getFullYear();\n                      const month = String(date.getMonth() + 1).padStart(\n                        2,\n                        \"0\"\n                      );\n                      const day = String(date.getDate()).padStart(2, \"0\");\n                      const formattedDate = `${year}-${month}-${day}`;\n                      const attendanceRecord =\n                        getAttendanceForDate(formattedDate);\n                      const isToday =\n                        date.toDateString() === new Date().toDateString();\n                      const isPast = date < new Date().setHours(0, 0, 0, 0);\n\n                      return (\n                        <div\n                          key={index}\n                          className={`p-2 min-h-[80px] border border-gray-200 ${\n                            !isCurrentMonth\n                              ? \"bg-gray-50 text-gray-400\"\n                              : \"bg-white\"\n                          } ${isToday ? \"ring-2 ring-blue-500\" : \"\"}`}\n                        >\n                          <div className=\"text-sm font-medium mb-1\">\n                            {date.getDate()}\n                          </div>\n                          {isCurrentMonth && (\n                            <div className=\"space-y-1\">\n                              {attendanceRecord ? (\n                                <div\n                                  className={`text-xs px-1 py-0.5 rounded ${\n                                    getStatusDisplay(attendanceRecord.status)\n                                      .color\n                                  }`}\n                                >\n                                  {attendanceRecord.status\n                                    .charAt(0)\n                                    .toUpperCase() +\n                                    attendanceRecord.status.slice(1)}\n                                </div>\n                              ) : (\n                                <div className=\"text-xs text-gray-400\">\n                                  No attendance\n                                </div>\n                              )}\n                            </div>\n                          )}\n                        </div>\n                      );\n                    }\n                  )}\n                </div>\n              </div>\n\n              {/* Attendance Summary for Calendar View */}\n              <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-6 border-t border-gray-200\">\n                <div className=\"text-center\">\n                  <h3 className=\"text-xl font-semibold mb-6 text-gray-800\">\n                    Monthly Attendance Summary\n                  </h3>\n\n                  {/* Monthly Statistics */}\n                  <div className=\"grid grid-cols-2 md:grid-cols-5 gap-6\">\n                    <div className=\"text-center bg-white rounded-lg p-4 shadow-sm\">\n                      <div className=\"text-3xl font-bold text-green-600 mb-1\">\n                        {\n                          attendance.filter((a) => {\n                            const attendanceDate = new Date(a.date);\n                            const monthStart =\n                              getMonthDates(currentMonth).start;\n                            const monthEnd = getMonthDates(currentMonth).end;\n                            return (\n                              attendanceDate >= monthStart &&\n                              attendanceDate <= monthEnd &&\n                              a.status === \"present\"\n                            );\n                          }).length\n                        }\n                      </div>\n                      <div className=\"text-sm font-medium text-gray-700\">\n                        Present\n                      </div>\n                    </div>\n                    <div className=\"text-center bg-white rounded-lg p-4 shadow-sm\">\n                      <div className=\"text-3xl font-bold text-blue-600 mb-1\">\n                        {\n                          attendance.filter((a) => {\n                            const attendanceDate = new Date(a.date);\n                            const monthStart =\n                              getMonthDates(currentMonth).start;\n                            const monthEnd = getMonthDates(currentMonth).end;\n                            return (\n                              attendanceDate >= monthStart &&\n                              attendanceDate <= monthEnd &&\n                              a.status === \"wfh\"\n                            );\n                          }).length\n                        }\n                      </div>\n                      <div className=\"text-sm font-medium text-gray-700\">\n                        WFH\n                      </div>\n                    </div>\n                    <div className=\"text-center bg-white rounded-lg p-4 shadow-sm\">\n                      <div className=\"text-3xl font-bold text-red-600 mb-1\">\n                        {\n                          attendance.filter((a) => {\n                            const attendanceDate = new Date(a.date);\n                            const monthStart =\n                              getMonthDates(currentMonth).start;\n                            const monthEnd = getMonthDates(currentMonth).end;\n                            return (\n                              attendanceDate >= monthStart &&\n                              attendanceDate <= monthEnd &&\n                              a.status === \"leave\"\n                            );\n                          }).length\n                        }\n                      </div>\n                      <div className=\"text-sm font-medium text-gray-700\">\n                        Leave\n                      </div>\n                    </div>\n                    <div className=\"text-center bg-white rounded-lg p-4 shadow-sm\">\n                      <div className=\"text-3xl font-bold text-gray-600 mb-1\">\n                        {\n                          attendance.filter((a) => {\n                            const attendanceDate = new Date(a.date);\n                            const monthStart =\n                              getMonthDates(currentMonth).start;\n                            const monthEnd = getMonthDates(currentMonth).end;\n                            return (\n                              attendanceDate >= monthStart &&\n                              attendanceDate <= monthEnd &&\n                              a.status === \"absent\"\n                            );\n                          }).length\n                        }\n                      </div>\n                      <div className=\"text-sm font-medium text-gray-700\">\n                        Absent\n                      </div>\n                    </div>\n                    <div className=\"text-center bg-white rounded-lg p-4 shadow-sm\">\n                      <div className=\"text-3xl font-bold text-orange-600 mb-1\">\n                        {\n                          attendance.filter((a) => {\n                            const attendanceDate = new Date(a.date);\n                            const monthStart =\n                              getMonthDates(currentMonth).start;\n                            const monthEnd = getMonthDates(currentMonth).end;\n                            return (\n                              attendanceDate >= monthStart &&\n                              attendanceDate <= monthEnd &&\n                              a.status === \"half_day\"\n                            );\n                          }).length\n                        }\n                      </div>\n                      <div className=\"text-sm font-medium text-gray-700\">\n                        Half Day\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default EmployeeAttendance;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}