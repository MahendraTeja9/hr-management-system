{"ast":null,"code":"var _jsxFileName = \"/Users/stalin_j/Downloads/test2/onboard/frontend/src/components/AttendancePortal.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport { FaSignOutAlt, FaCalendarAlt, FaClock, FaHome, FaBed, FaArrowLeft } from \"react-icons/fa\";\nimport { format } from \"date-fns\";\nimport axios from \"axios\";\nimport toast from \"react-hot-toast\";\nimport AttendanceCalendar from \"./AttendanceCalendar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AttendancePortal = () => {\n  _s();\n  const {\n    logout\n  } = useAuth();\n  const navigate = useNavigate();\n  const [currentDate, setCurrentDate] = useState(new Date());\n  const [attendance, setAttendance] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showAttendanceForm, setShowAttendanceForm] = useState(false);\n  const [selectedDate, setSelectedDate] = useState(null);\n  const fetchAttendance = useCallback(async () => {\n    try {\n      const month = currentDate.getMonth() + 1;\n      const year = currentDate.getFullYear();\n      console.log(\"üìä Fetching attendance for:\", month, year);\n      console.log(\"üîê Axios headers:\", axios.defaults.headers.common);\n      const response = await axios.get(`http://localhost:5001/api/attendance/calendar?month=${month}&year=${year}`);\n      console.log(\"‚úÖ Attendance data:\", response.data);\n      setAttendance(response.data.calendar);\n    } catch (error) {\n      var _error$response;\n      console.error(\"‚ùå Fetch attendance error:\", error);\n      console.error(\"‚ùå Error response:\", (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data);\n      toast.error(\"Failed to fetch attendance data\");\n    } finally {\n      setLoading(false);\n    }\n  }, [currentDate]);\n  useEffect(() => {\n    fetchAttendance();\n  }, [fetchAttendance]);\n  const handleMarkAttendance = async (date, status, reason = \"\") => {\n    try {\n      console.log(\"üîê Current axios headers:\", axios.defaults.headers.common);\n      console.log(\"üìÖ Marking attendance for:\", format(date, \"yyyy-MM-dd\"), status, reason);\n      const response = await axios.post(\"http://localhost:5001/api/attendance/mark\", {\n        date: format(date, \"yyyy-MM-dd\"),\n        status,\n        reason\n      });\n      console.log(\"‚úÖ Attendance response:\", response.data);\n      toast.success(\"Attendance marked successfully!\");\n      setShowAttendanceForm(false);\n      setSelectedDate(null);\n\n      // Refresh attendance data to show the update immediately\n      fetchAttendance();\n    } catch (error) {\n      var _error$response2, _error$response3, _error$response3$data;\n      console.error(\"‚ùå Attendance error:\", error);\n      console.error(\"‚ùå Error response:\", (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data);\n      toast.error(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.error) || \"Failed to mark attendance\");\n    }\n  };\n  const handleLogout = () => {\n    logout();\n  };\n  const getAttendanceForDate = date => {\n    const dateStr = format(date, \"yyyy-MM-dd\");\n    return attendance.find(a => {\n      const apiDate = new Date(a.date);\n      const apiDateStr = format(apiDate, \"yyyy-MM-dd\");\n      return apiDateStr === dateStr;\n    });\n  };\n  const isDateDisabled = date => {\n    const today = new Date();\n    const todayStr = format(today, \"yyyy-MM-dd\");\n    const dateStr = format(date, \"yyyy-MM-dd\");\n\n    // Only allow marking attendance for today\n    return dateStr !== todayStr;\n  };\n  const getStatusColor = status => {\n    switch (status) {\n      case \"Present\":\n        return \"bg-success-500\";\n      case \"Work From Home\":\n        return \"bg-primary-500\";\n      case \"Leave\":\n        return \"bg-danger-500\";\n      default:\n        return \"bg-gray-300\";\n    }\n  };\n  const getStatusIcon = status => {\n    switch (status) {\n      case \"Present\":\n        return /*#__PURE__*/_jsxDEV(FaClock, {\n          className: \"w-4 h-4 text-white\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 16\n        }, this);\n      case \"Work From Home\":\n        return /*#__PURE__*/_jsxDEV(FaHome, {\n          className: \"w-4 h-4 text-white\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 16\n        }, this);\n      case \"Leave\":\n        return /*#__PURE__*/_jsxDEV(FaBed, {\n          className: \"w-4 h-4 text-white\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 16\n        }, this);\n      default:\n        return null;\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"bg-white shadow-sm border-b\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center py-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => navigate(-1),\n              className: \"flex items-center text-gray-600 hover:text-gray-800 transition-colors duration-200 mr-4\",\n              children: [/*#__PURE__*/_jsxDEV(FaArrowLeft, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 17\n              }, this), \"Back\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold text-gray-900\",\n              children: \"Attendance Portal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleLogout,\n              className: \"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors duration-200\",\n              children: [/*#__PURE__*/_jsxDEV(FaSignOutAlt, {\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 17\n              }, this), \"Logout\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"max-w-6xl mx-auto py-6 px-4 sm:px-6 lg:px-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm border p-6 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold text-gray-900\",\n            children: \"Quick Actions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              const today = new Date();\n              const todayAttendance = getAttendanceForDate(today);\n              if (todayAttendance) {\n                toast(`Attendance already marked as ${todayAttendance.status} for today`, {\n                  icon: \"‚ÑπÔ∏è\",\n                  style: {\n                    background: \"#3b82f6\",\n                    color: \"white\"\n                  }\n                });\n                return;\n              }\n              setSelectedDate(today);\n              setShowAttendanceForm(true);\n            },\n            className: \"btn-primary flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(FaCalendarAlt, {\n              className: \"mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this), \"Mark Today's Attendance (\", format(new Date(), \"MMM dd\"), \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center p-4 bg-success-50 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-12 h-12 bg-success-100 rounded-full flex items-center justify-center mx-auto mb-2\",\n              children: /*#__PURE__*/_jsxDEV(FaClock, {\n                className: \"w-6 h-6 text-success-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-medium text-success-800\",\n              children: \"Present\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-success-600\",\n              children: \"Mark as present\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center p-4 bg-primary-50 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-2\",\n              children: /*#__PURE__*/_jsxDEV(FaHome, {\n                className: \"w-6 h-6 text-primary-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-medium text-primary-800\",\n              children: \"Work From Home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-primary-600\",\n              children: \"Mark as WFH\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center p-4 bg-warning-50 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-12 h-12 bg-warning-100 rounded-full flex items-center justify-center mx-auto mb-2\",\n              children: /*#__PURE__*/_jsxDEV(FaBed, {\n                className: \"w-6 h-6 text-warning-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-medium text-warning-800\",\n              children: \"Leave\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-warning-600\",\n              children: \"Request leave\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm border p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold text-gray-900\",\n            children: \"Attendance Calendar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() - 1, 1)),\n              className: \"px-3 py-1 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors duration-200\",\n              children: \"Previous\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg font-medium text-gray-900\",\n              children: format(currentDate, \"MMMM yyyy\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 1)),\n              className: \"px-3 py-1 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors duration-200\",\n              children: \"Next\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AttendanceCalendar, {\n          currentDate: currentDate,\n          attendance: attendance,\n          onDateClick: date => {\n            if (!isDateDisabled(date)) {\n              setSelectedDate(date);\n              setShowAttendanceForm(true);\n            }\n          },\n          getAttendanceForDate: getAttendanceForDate,\n          isDateDisabled: isDateDisabled,\n          getStatusColor: getStatusColor,\n          getStatusIcon: getStatusIcon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this), showAttendanceForm && selectedDate && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-900 mb-4\",\n              children: [\"Mark Attendance for \", format(selectedDate, \"MMMM dd, yyyy\")]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleMarkAttendance(selectedDate, \"Present\"),\n                className: \"w-full flex items-center justify-center px-4 py-2 bg-success-600 text-white rounded-lg hover:bg-success-700 transition-colors duration-200\",\n                children: [/*#__PURE__*/_jsxDEV(FaClock, {\n                  className: \"mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 21\n                }, this), \"Present\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleMarkAttendance(selectedDate, \"Work From Home\"),\n                className: \"w-full flex items-center justify-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors duration-200\",\n                children: [/*#__PURE__*/_jsxDEV(FaHome, {\n                  className: \"mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 21\n                }, this), \"Work From Home\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleMarkAttendance(selectedDate, \"Leave\", \"Personal leave\"),\n                className: \"w-full flex items-center justify-center px-4 py-2 bg-warning-600 text-white rounded-lg hover:bg-warning-700 transition-colors duration-200\",\n                children: [/*#__PURE__*/_jsxDEV(FaBed, {\n                  className: \"mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 21\n                }, this), \"Leave\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setShowAttendanceForm(false);\n                  setSelectedDate(null);\n                },\n                className: \"w-full px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors duration-200\",\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 5\n  }, this);\n};\n_s(AttendancePortal, \"6mj31Cv4hEgkczSXkj6KfJesjf0=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = AttendancePortal;\nexport default AttendancePortal;\nvar _c;\n$RefreshReg$(_c, \"AttendancePortal\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useAuth","useNavigate","FaSignOutAlt","FaCalendarAlt","FaClock","FaHome","FaBed","FaArrowLeft","format","axios","toast","AttendanceCalendar","jsxDEV","_jsxDEV","AttendancePortal","_s","logout","navigate","currentDate","setCurrentDate","Date","attendance","setAttendance","loading","setLoading","showAttendanceForm","setShowAttendanceForm","selectedDate","setSelectedDate","fetchAttendance","month","getMonth","year","getFullYear","console","log","defaults","headers","common","response","get","data","calendar","error","_error$response","handleMarkAttendance","date","status","reason","post","success","_error$response2","_error$response3","_error$response3$data","handleLogout","getAttendanceForDate","dateStr","find","a","apiDate","apiDateStr","isDateDisabled","today","todayStr","getStatusColor","getStatusIcon","className","fileName","_jsxFileName","lineNumber","columnNumber","children","onClick","todayAttendance","icon","style","background","color","onDateClick","_c","$RefreshReg$"],"sources":["/Users/stalin_j/Downloads/test2/onboard/frontend/src/components/AttendancePortal.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n  FaSignOutAlt,\n  FaCalendarAlt,\n  FaClock,\n  FaHome,\n  FaBed,\n  FaArrowLeft,\n} from \"react-icons/fa\";\nimport { format } from \"date-fns\";\nimport axios from \"axios\";\nimport toast from \"react-hot-toast\";\nimport AttendanceCalendar from \"./AttendanceCalendar\";\n\nconst AttendancePortal = () => {\n  const { logout } = useAuth();\n  const navigate = useNavigate();\n  const [currentDate, setCurrentDate] = useState(new Date());\n  const [attendance, setAttendance] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showAttendanceForm, setShowAttendanceForm] = useState(false);\n  const [selectedDate, setSelectedDate] = useState(null);\n\n  const fetchAttendance = useCallback(async () => {\n    try {\n      const month = currentDate.getMonth() + 1;\n      const year = currentDate.getFullYear();\n\n      console.log(\"üìä Fetching attendance for:\", month, year);\n      console.log(\"üîê Axios headers:\", axios.defaults.headers.common);\n\n      const response = await axios.get(\n        `http://localhost:5001/api/attendance/calendar?month=${month}&year=${year}`\n      );\n      console.log(\"‚úÖ Attendance data:\", response.data);\n      setAttendance(response.data.calendar);\n    } catch (error) {\n      console.error(\"‚ùå Fetch attendance error:\", error);\n      console.error(\"‚ùå Error response:\", error.response?.data);\n      toast.error(\"Failed to fetch attendance data\");\n    } finally {\n      setLoading(false);\n    }\n  }, [currentDate]);\n\n  useEffect(() => {\n    fetchAttendance();\n  }, [fetchAttendance]);\n\n  const handleMarkAttendance = async (date, status, reason = \"\") => {\n    try {\n      console.log(\"üîê Current axios headers:\", axios.defaults.headers.common);\n      console.log(\n        \"üìÖ Marking attendance for:\",\n        format(date, \"yyyy-MM-dd\"),\n        status,\n        reason\n      );\n\n      const response = await axios.post(\n        \"http://localhost:5001/api/attendance/mark\",\n        {\n          date: format(date, \"yyyy-MM-dd\"),\n          status,\n          reason,\n        }\n      );\n\n      console.log(\"‚úÖ Attendance response:\", response.data);\n      toast.success(\"Attendance marked successfully!\");\n      setShowAttendanceForm(false);\n      setSelectedDate(null);\n\n      // Refresh attendance data to show the update immediately\n      fetchAttendance();\n    } catch (error) {\n      console.error(\"‚ùå Attendance error:\", error);\n      console.error(\"‚ùå Error response:\", error.response?.data);\n      toast.error(error.response?.data?.error || \"Failed to mark attendance\");\n    }\n  };\n\n  const handleLogout = () => {\n    logout();\n  };\n\n  const getAttendanceForDate = (date) => {\n    const dateStr = format(date, \"yyyy-MM-dd\");\n    return attendance.find((a) => {\n      const apiDate = new Date(a.date);\n      const apiDateStr = format(apiDate, \"yyyy-MM-dd\");\n      return apiDateStr === dateStr;\n    });\n  };\n\n  const isDateDisabled = (date) => {\n    const today = new Date();\n    const todayStr = format(today, \"yyyy-MM-dd\");\n    const dateStr = format(date, \"yyyy-MM-dd\");\n\n    // Only allow marking attendance for today\n    return dateStr !== todayStr;\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case \"Present\":\n        return \"bg-success-500\";\n      case \"Work From Home\":\n        return \"bg-primary-500\";\n      case \"Leave\":\n        return \"bg-danger-500\";\n      default:\n        return \"bg-gray-300\";\n    }\n  };\n\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case \"Present\":\n        return <FaClock className=\"w-4 h-4 text-white\" />;\n      case \"Work From Home\":\n        return <FaHome className=\"w-4 h-4 text-white\" />;\n      case \"Leave\":\n        return <FaBed className=\"w-4 h-4 text-white\" />;\n      default:\n        return null;\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <header className=\"bg-white shadow-sm border-b\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center py-4\">\n            <div className=\"flex items-center\">\n              <button\n                onClick={() => navigate(-1)}\n                className=\"flex items-center text-gray-600 hover:text-gray-800 transition-colors duration-200 mr-4\"\n              >\n                <FaArrowLeft className=\"w-4 h-4 mr-2\" />\n                Back\n              </button>\n              <h1 className=\"text-2xl font-bold text-gray-900\">\n                Attendance Portal\n              </h1>\n            </div>\n            <div className=\"flex items-center space-x-4\">\n              <button\n                onClick={handleLogout}\n                className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors duration-200\"\n              >\n                <FaSignOutAlt className=\"mr-2\" />\n                Logout\n              </button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"max-w-6xl mx-auto py-6 px-4 sm:px-6 lg:px-8\">\n        {/* Quick Actions */}\n        <div className=\"bg-white rounded-lg shadow-sm border p-6 mb-6\">\n          <div className=\"flex justify-between items-center\">\n            <h2 className=\"text-xl font-semibold text-gray-900\">\n              Quick Actions\n            </h2>\n            <button\n              onClick={() => {\n                const today = new Date();\n                const todayAttendance = getAttendanceForDate(today);\n\n                if (todayAttendance) {\n                  toast(\n                    `Attendance already marked as ${todayAttendance.status} for today`,\n                    {\n                      icon: \"‚ÑπÔ∏è\",\n                      style: {\n                        background: \"#3b82f6\",\n                        color: \"white\",\n                      },\n                    }\n                  );\n                  return;\n                }\n\n                setSelectedDate(today);\n                setShowAttendanceForm(true);\n              }}\n              className=\"btn-primary flex items-center\"\n            >\n              <FaCalendarAlt className=\"mr-2\" />\n              Mark Today's Attendance ({format(new Date(), \"MMM dd\")})\n            </button>\n          </div>\n\n          <div className=\"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div className=\"text-center p-4 bg-success-50 rounded-lg\">\n              <div className=\"w-12 h-12 bg-success-100 rounded-full flex items-center justify-center mx-auto mb-2\">\n                <FaClock className=\"w-6 h-6 text-success-600\" />\n              </div>\n              <h3 className=\"font-medium text-success-800\">Present</h3>\n              <p className=\"text-sm text-success-600\">Mark as present</p>\n            </div>\n\n            <div className=\"text-center p-4 bg-primary-50 rounded-lg\">\n              <div className=\"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-2\">\n                <FaHome className=\"w-6 h-6 text-primary-600\" />\n              </div>\n              <h3 className=\"font-medium text-primary-800\">Work From Home</h3>\n              <p className=\"text-sm text-primary-600\">Mark as WFH</p>\n            </div>\n\n            <div className=\"text-center p-4 bg-warning-50 rounded-lg\">\n              <div className=\"w-12 h-12 bg-warning-100 rounded-full flex items-center justify-center mx-auto mb-2\">\n                <FaBed className=\"w-6 h-6 text-warning-600\" />\n              </div>\n              <h3 className=\"font-medium text-warning-800\">Leave</h3>\n              <p className=\"text-sm text-warning-600\">Request leave</p>\n            </div>\n          </div>\n        </div>\n\n        {/* Calendar View */}\n        <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n          <div className=\"flex justify-between items-center mb-6\">\n            <h2 className=\"text-xl font-semibold text-gray-900\">\n              Attendance Calendar\n            </h2>\n            <div className=\"flex items-center space-x-2\">\n              <button\n                onClick={() =>\n                  setCurrentDate(\n                    new Date(\n                      currentDate.getFullYear(),\n                      currentDate.getMonth() - 1,\n                      1\n                    )\n                  )\n                }\n                className=\"px-3 py-1 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors duration-200\"\n              >\n                Previous\n              </button>\n              <span className=\"text-lg font-medium text-gray-900\">\n                {format(currentDate, \"MMMM yyyy\")}\n              </span>\n              <button\n                onClick={() =>\n                  setCurrentDate(\n                    new Date(\n                      currentDate.getFullYear(),\n                      currentDate.getMonth() + 1,\n                      1\n                    )\n                  )\n                }\n                className=\"px-3 py-1 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors duration-200\"\n              >\n                Next\n              </button>\n            </div>\n          </div>\n\n          <AttendanceCalendar\n            currentDate={currentDate}\n            attendance={attendance}\n            onDateClick={(date) => {\n              if (!isDateDisabled(date)) {\n                setSelectedDate(date);\n                setShowAttendanceForm(true);\n              }\n            }}\n            getAttendanceForDate={getAttendanceForDate}\n            isDateDisabled={isDateDisabled}\n            getStatusColor={getStatusColor}\n            getStatusIcon={getStatusIcon}\n          />\n        </div>\n\n        {/* Attendance Form Modal */}\n        {showAttendanceForm && selectedDate && (\n          <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n            <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\n              <div className=\"mt-3\">\n                <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n                  Mark Attendance for {format(selectedDate, \"MMMM dd, yyyy\")}\n                </h3>\n\n                <div className=\"space-y-4\">\n                  <button\n                    onClick={() =>\n                      handleMarkAttendance(selectedDate, \"Present\")\n                    }\n                    className=\"w-full flex items-center justify-center px-4 py-2 bg-success-600 text-white rounded-lg hover:bg-success-700 transition-colors duration-200\"\n                  >\n                    <FaClock className=\"mr-2\" />\n                    Present\n                  </button>\n\n                  <button\n                    onClick={() =>\n                      handleMarkAttendance(selectedDate, \"Work From Home\")\n                    }\n                    className=\"w-full flex items-center justify-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors duration-200\"\n                  >\n                    <FaHome className=\"mr-2\" />\n                    Work From Home\n                  </button>\n\n                  <button\n                    onClick={() =>\n                      handleMarkAttendance(\n                        selectedDate,\n                        \"Leave\",\n                        \"Personal leave\"\n                      )\n                    }\n                    className=\"w-full flex items-center justify-center px-4 py-2 bg-warning-600 text-white rounded-lg hover:bg-warning-700 transition-colors duration-200\"\n                  >\n                    <FaBed className=\"mr-2\" />\n                    Leave\n                  </button>\n\n                  <button\n                    onClick={() => {\n                      setShowAttendanceForm(false);\n                      setSelectedDate(null);\n                    }}\n                    className=\"w-full px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors duration-200\"\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </main>\n    </div>\n  );\n};\n\nexport default AttendancePortal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}