{"ast":null,"code":"import _objectSpread from\"/Users/stalin_j/Downloads/test2/onboard/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{toast}from\"react-hot-toast\";import{useAuth}from\"../contexts/AuthContext\";import{FaTrash,FaDownload,FaSearch,FaCheck,FaTimes,FaFileAlt,FaEdit}from\"react-icons/fa\";import DocumentStatus from\"./DocumentStatus\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const EmployeeFormManagement=_ref=>{var _selectedForm$form_da2,_editingEmployee$form2,_editingEmployee$form3,_editingEmployee$form4,_editingEmployee$form5,_editingEmployee$form6,_editingEmployee$form7,_editingEmployee$form8,_editingEmployee$form9,_editingEmployee$form0,_editingEmployee$form1,_editingEmployee$form10,_editingEmployee$form11,_editingEmployee$form12,_editingEmployee$form13,_editingEmployee$form14,_editingEmployee$form15,_editingEmployee$form16,_editingEmployee$form17,_editingEmployee$form18,_editingEmployee$form19;let{onRefresh}=_ref;const{user}=useAuth();const[employeeForms,setEmployeeForms]=useState([]);const[loading,setLoading]=useState(true);const[searchTerm,setSearchTerm]=useState(\"\");const[statusFilter,setStatusFilter]=useState(\"all\");const[selectedForm,setSelectedForm]=useState(null);const[showFormDetails,setShowFormDetails]=useState(false);const[showDocumentStatus,setShowDocumentStatus]=useState(false);const[selectedEmployeeForDocs,setSelectedEmployeeForDocs]=useState(null);const[showEditForm,setShowEditForm]=useState(false);const[editingEmployee,setEditingEmployee]=useState(null);const[availableManagers,setAvailableManagers]=useState([]);// State for tracking selected managers to prevent duplicates\nconst[selectedManager1,setSelectedManager1]=useState(\"\");const[selectedManager2,setSelectedManager2]=useState(\"\");const[selectedManager3,setSelectedManager3]=useState(\"\");// Helpers for rendering attached files nicely (avoid dumping base64 strings)\nconst parseDataUrl=dataUrl=>{if(!dataUrl||typeof dataUrl!==\"string\")return{mime:\"application/octet-stream\",base64:\"\"};const match=dataUrl.match(/^data:(.*?);base64,(.*)$/);if(!match)return{mime:\"application/octet-stream\",base64:\"\"};return{mime:match[1]||\"application/octet-stream\",base64:match[2]||\"\"};};const getExtensionFromMime=mime=>{if(!mime)return\"bin\";if(mime.includes(\"png\"))return\"png\";if(mime.includes(\"jpeg\"))return\"jpg\";if(mime.includes(\"jpg\"))return\"jpg\";if(mime.includes(\"pdf\"))return\"pdf\";if(mime.includes(\"gif\"))return\"gif\";return mime.split(\"/\")[1]||\"bin\";};const estimateFileSize=base64=>{if(!base64)return 0;// Rough estimate of decoded size in bytes for base64\nreturn Math.ceil(base64.length*3/4);};const formatBytes=bytes=>{if(!bytes)return\"0 B\";const sizes=[\"B\",\"KB\",\"MB\",\"GB\"];const i=Math.min(Math.floor(Math.log(bytes)/Math.log(1024)),sizes.length-1);return\"\".concat((bytes/Math.pow(1024,i)).toFixed(1),\" \").concat(sizes[i]);};const handleDownloadFile=(dataUrl,suggestedName)=>{try{const{mime,base64}=parseDataUrl(dataUrl);const byteCharacters=atob(base64);const byteNumbers=new Array(byteCharacters.length);for(let i=0;i<byteCharacters.length;i++){byteNumbers[i]=byteCharacters.charCodeAt(i);}const byteArray=new Uint8Array(byteNumbers);const blob=new Blob([byteArray],{type:mime});const url=URL.createObjectURL(blob);const link=document.createElement(\"a\");link.href=url;link.download=suggestedName||\"attachment.\".concat(getExtensionFromMime(mime));document.body.appendChild(link);link.click();link.remove();URL.revokeObjectURL(url);}catch(e){console.error(\"Download error:\",e);toast.error(\"Failed to download file\");}};useEffect(()=>{fetchEmployeeForms();fetchAvailableManagers();},[]);const fetchAvailableManagers=async()=>{try{const response=await axios.get(\"http://localhost:5001/api/hr/master-managers\");console.log(\"🔍 Fetched managers from master table:\",response.data.managers);setAvailableManagers(response.data.managers||[]);}catch(error){console.error(\"Error fetching managers from master table:\",error);setAvailableManagers([]);}};const fetchEmployeeForms=async()=>{try{setLoading(true);const response=await axios.get(\"http://localhost:5001/api/hr/employee-forms\");setEmployeeForms(response.data.forms);}catch(error){console.error(\"Error fetching employee forms:\",error);toast.error(\"Failed to fetch employee forms\");}finally{setLoading(false);}};const handleViewDocuments=form=>{var _form$form_data;setSelectedEmployeeForDocs({id:form.employee_id,name:((_form$form_data=form.form_data)===null||_form$form_data===void 0?void 0:_form$form_data.name)||\"\".concat(form.first_name,\" \").concat(form.last_name),employmentType:form.employee_type});setShowDocumentStatus(true);};const handleEditEmployee=form=>{setEditingEmployee(form);// Initialize manager selections with current assignments\nsetSelectedManager1(form.assigned_manager||\"\");setSelectedManager2(form.assigned_manager2||\"\");setSelectedManager3(form.assigned_manager3||\"\");setShowEditForm(true);};// Helper function to get filtered managers for each dropdown\nconst getFilteredManagers=function(){let excludeCurrentSelection=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"\";let dropdownType=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"\";if(!availableManagers)return[];return availableManagers.filter(manager=>{var _editingEmployee$form;// Exclude the current employee from manager list if they are a manager\nconst currentEmployeeEmail=editingEmployee===null||editingEmployee===void 0?void 0:(_editingEmployee$form=editingEmployee.form_data)===null||_editingEmployee$form===void 0?void 0:_editingEmployee$form.email;const currentEmployeeCompanyEmail=editingEmployee===null||editingEmployee===void 0?void 0:editingEmployee.company_email;const currentLoggedInUserEmail=user===null||user===void 0?void 0:user.email;// Get currently selected manager emails to prevent duplicates\nconst selectedEmails=[selectedManager1,selectedManager2,selectedManager3].filter(name=>name&&name!==excludeCurrentSelection).map(name=>{const found=availableManagers.find(m=>m.employee_name===name);return found===null||found===void 0?void 0:found.company_email;}).filter(Boolean);const isExcludedDueToDuplicate=selectedEmails.includes(manager.company_email);const isCurrentEmployee=manager.company_email===currentEmployeeEmail||manager.company_email===currentEmployeeCompanyEmail;const isLoggedInUser=manager.company_email===currentLoggedInUserEmail;console.log(\"\\uD83D\\uDD0D Manager filter for \".concat(dropdownType,\":\"),{managerName:manager.employee_name,managerEmail:manager.company_email,currentEmployeeEmail,currentEmployeeCompanyEmail,currentLoggedInUserEmail,selectedEmails,isExcludedDueToDuplicate,isCurrentEmployee,isLoggedInUser,willShow:!isExcludedDueToDuplicate&&!isCurrentEmployee&&!isLoggedInUser});return!isExcludedDueToDuplicate&&!isCurrentEmployee&&!isLoggedInUser;});};const handleUpdateEmployee=async updatedData=>{try{await axios.put(\"http://localhost:5001/api/hr/employee-forms/\".concat(editingEmployee.id),updatedData);toast.success(\"Employee details updated successfully!\");setShowEditForm(false);setEditingEmployee(null);// Reset manager selections\nsetSelectedManager1(\"\");setSelectedManager2(\"\");setSelectedManager3(\"\");fetchEmployeeForms();if(onRefresh)onRefresh();}catch(error){var _error$response,_error$response$data;console.error(\"Update employee error:\",error);toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||\"Failed to update employee\");}};const handleDeleteForm=async formId=>{if(window.confirm(\"Are you sure you want to delete this form? This action cannot be undone.\")){try{await axios.delete(\"http://localhost:5001/api/hr/employee-forms/\".concat(formId));toast.success(\"Form deleted successfully!\");fetchEmployeeForms();if(onRefresh)onRefresh();}catch(error){console.error(\"Delete form error:\",error);toast.error(\"Failed to delete form\");}}};const handleApproveForm=async form=>{var _form$form_data2;const employeeName=((_form$form_data2=form.form_data)===null||_form$form_data2===void 0?void 0:_form$form_data2.name)||\"\".concat(form.first_name,\" \").concat(form.last_name);if(window.confirm(\"Are you sure you want to approve \".concat(employeeName,\"'s application?\\n\\nNote: Employee can be approved even with missing documents. Documents can be uploaded later during employment.\"))){try{await axios.put(\"http://localhost:5001/api/hr/employee-forms/\".concat(form.id,\"/approve\"),{action:\"approve\"});toast.success(\"Employee form approved! Employee moved to onboarded list.\");fetchEmployeeForms();if(onRefresh)onRefresh();}catch(error){var _error$response2,_error$response2$data;console.error(\"Approve form error:\",error);toast.error(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||\"Failed to approve form\");}}};const handleRejectForm=async form=>{if(window.confirm(\"Are you sure you want to reject \".concat(form.full_name,\"'s application?\"))){try{await axios.put(\"http://localhost:5001/api/hr/employee-forms/\".concat(form.id,\"/approve\"),{action:\"reject\"});toast.success(\"Employee form rejected.\");fetchEmployeeForms();if(onRefresh)onRefresh();}catch(error){var _error$response3,_error$response3$data;console.error(\"Reject form error:\",error);toast.error(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.error)||\"Failed to reject form\");}}};const getStatusBadge=status=>{switch(status){case\"pending\":return/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded-full\",children:\"Pending\"});case\"submitted\":return/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full\",children:\"Submitted\"});case\"approved\":return/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full\",children:\"Approved\"});case\"rejected\":return/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full\",children:\"Rejected\"});default:return/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded-full\",children:status||\"Unknown\"});}};const getTypeBadge=type=>{switch(type){case\"Full-Time\":return/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-medium bg-purple-100 text-purple-800 rounded-full\",children:\"Full-Time\"});case\"Contract\":return/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-medium bg-orange-100 text-orange-800 rounded-full\",children:\"Contract\"});case\"Intern\":return/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-medium bg-indigo-100 text-indigo-800 rounded-full\",children:\"Intern\"});case\"Manager\":return/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full\",children:\"Manager\"});default:return/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded-full\",children:type||\"Unknown\"});}};const formatDate=dateString=>{if(!dateString||dateString===\"1970-01-01T00:00:00.000Z\"||dateString===\"1970-01-01\"){return\"Not submitted\";}try{const date=new Date(dateString);if(isNaN(date.getTime())){return\"Invalid date\";}return date.toLocaleDateString(\"en-US\",{year:\"numeric\",month:\"2-digit\",day:\"2-digit\"});}catch(error){console.error(\"Error formatting date:\",error);return\"Invalid date\";}};const filteredForms=employeeForms.filter(form=>{var _form$user_email,_form$form_data3,_form$form_data3$name,_form$form_data4,_form$form_data4$emai;const matchesSearch=((_form$user_email=form.user_email)===null||_form$user_email===void 0?void 0:_form$user_email.toLowerCase().includes(searchTerm.toLowerCase()))||((_form$form_data3=form.form_data)===null||_form$form_data3===void 0?void 0:(_form$form_data3$name=_form$form_data3.name)===null||_form$form_data3$name===void 0?void 0:_form$form_data3$name.toLowerCase().includes(searchTerm.toLowerCase()))||((_form$form_data4=form.form_data)===null||_form$form_data4===void 0?void 0:(_form$form_data4$emai=_form$form_data4.email)===null||_form$form_data4$emai===void 0?void 0:_form$form_data4$emai.toLowerCase().includes(searchTerm.toLowerCase()));const matchesStatus=statusFilter===\"all\"||form.status===statusFilter;return matchesSearch&&matchesStatus;});if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"})});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"Employee Form Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"View and manage all employee onboarding forms submitted by candidates.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 flex flex-col sm:flex-row gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(FaSearch,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by name, email, or type...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"sm:w-48\",children:/*#__PURE__*/_jsxs(\"select\",{value:statusFilter,onChange:e=>setStatusFilter(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Statuses\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pending\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"submitted\",children:\"Submitted\"}),/*#__PURE__*/_jsx(\"option\",{value:\"approved\",children:\"Approved\"}),/*#__PURE__*/_jsx(\"option\",{value:\"rejected\",children:\"Rejected\"})]})})]}),filteredForms.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400 text-6xl mb-4\",children:\"\\uD83D\\uDCCB\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No Employee Forms Found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:searchTerm||statusFilter!==\"all\"?\"Try adjusting your search or filter criteria.\":\"No employee forms have been submitted yet.\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Employee Details\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Documents\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Manager\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Submitted\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:filteredForms.map(form=>{var _form$form_data5;return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:form.user_email}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:form.first_name&&form.last_name?\"\".concat(form.first_name,\" \").concat(form.last_name):((_form$form_data5=form.form_data)===null||_form$form_data5===void 0?void 0:_form$form_data5.name)||\"Name not available\"}),form.phone&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-400\",children:[\"\\uD83D\\uDCDE \",form.phone]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:getTypeBadge(form.employee_type)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:getStatusBadge(form.status)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-2\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleViewDocuments(form),className:\"inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800 hover:bg-blue-200\",children:[/*#__PURE__*/_jsx(FaFileAlt,{className:\"mr-1\"}),\"View Status\"]})})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:form.assigned_manager?/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-green-600 font-medium\",children:form.assigned_manager}):/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-400\",children:\"Not assigned\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:formatDate(form.submitted_at)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditEmployee(form),className:\"text-purple-600 hover:text-purple-900\",title:\"Edit Employee Details\",children:/*#__PURE__*/_jsx(FaEdit,{className:\"inline-block\"})}),form.status===\"submitted\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleApproveForm(form),className:\"text-green-600 hover:text-green-900\",title:\"Approve Application\",children:/*#__PURE__*/_jsx(FaCheck,{className:\"inline-block\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRejectForm(form),className:\"text-red-600 hover:text-red-900\",title:\"Reject Application\",children:/*#__PURE__*/_jsx(FaTimes,{className:\"inline-block\"})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteForm(form.id),className:\"text-gray-600 hover:text-gray-900\",title:\"Delete Form\",children:/*#__PURE__*/_jsx(FaTrash,{className:\"inline-block\"})})]})})]},form.id);})})]})}),showFormDetails&&selectedForm&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-20 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Employee Form Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{var _selectedForm$form_da;setShowFormDetails(false);setSelectedEmployeeForDocs({id:selectedForm.employee_id,name:((_selectedForm$form_da=selectedForm.form_data)===null||_selectedForm$form_da===void 0?void 0:_selectedForm$form_da.name)||\"\".concat(selectedForm.first_name,\" \").concat(selectedForm.last_name),employmentType:selectedForm.employee_type});setShowDocumentStatus(true);},className:\"inline-flex items-center px-3 py-2 border border-blue-300 rounded-md text-sm font-medium text-blue-700 bg-blue-50 hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(FaFileAlt,{className:\"mr-2\"}),\"View Documents\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowFormDetails(false),className:\"text-gray-400 hover:text-gray-600\",children:\"\\xD7\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Employee Email\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:selectedForm.user_email})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Employee Type\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:selectedForm.employee_type})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Status\"}),/*#__PURE__*/_jsx(\"div\",{children:getStatusBadge(selectedForm.status)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Submitted Date\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:formatDate(selectedForm.submitted_at)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:selectedForm.phone||\"Not provided\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Assigned Manager\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:selectedForm.assigned_manager||\"Not assigned\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Department\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:selectedForm.department||\"Not assigned\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Designation\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:selectedForm.designation||\"Not assigned\"})]})]}),(selectedForm.emergency_contact_name||selectedForm.emergency_contact_phone)&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-medium text-gray-900 mb-3\",children:\"Emergency Contact\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[selectedForm.emergency_contact_name&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-red-700 mb-1\",children:\"Contact Name\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-900\",children:selectedForm.emergency_contact_name})]}),selectedForm.emergency_contact_phone&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-red-700 mb-1\",children:\"Contact Phone\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-900\",children:selectedForm.emergency_contact_phone})]}),selectedForm.emergency_contact_relationship&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-red-700 mb-1\",children:\"Relationship\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-900\",children:selectedForm.emergency_contact_relationship})]})]})})]}),(selectedForm.emergency_contact_name2||selectedForm.emergency_contact_phone2)&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-medium text-gray-900 mb-3\",children:\"Second Emergency Contact\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-orange-50 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[selectedForm.emergency_contact_name2&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-orange-700 mb-1\",children:\"Contact Name\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-orange-900\",children:selectedForm.emergency_contact_name2})]}),selectedForm.emergency_contact_phone2&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-orange-700 mb-1\",children:\"Contact Phone\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-orange-900\",children:selectedForm.emergency_contact_phone2})]}),selectedForm.emergency_contact_relationship2&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-orange-700 mb-1\",children:\"Relationship\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-orange-900\",children:selectedForm.emergency_contact_relationship2})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-medium text-gray-900 mb-3\",children:\"Form Information\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:Object.entries(selectedForm.form_data||{}).map(_ref2=>{let[key,value]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1 capitalize\",children:key.replace(/_/g,\" \")}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:typeof value===\"string\"?value:JSON.stringify(value)})]},key);})})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-medium text-gray-900 mb-3\",children:\"Document Upload Status\"}),/*#__PURE__*/_jsx(DocumentStatus,{employeeId:selectedForm.employee_id,employeeName:((_selectedForm$form_da2=selectedForm.form_data)===null||_selectedForm$form_da2===void 0?void 0:_selectedForm$form_da2.name)||\"\".concat(selectedForm.first_name,\" \").concat(selectedForm.last_name),isHR:true,onRefresh:fetchEmployeeForms})]}),selectedForm.files&&selectedForm.files.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-medium text-gray-900 mb-3\",children:\"Legacy Attached Files\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-3\",children:selectedForm.files.map((file,index)=>{const{mime,base64}=parseDataUrl(file);const ext=getExtensionFromMime(mime);const size=formatBytes(estimateFileSize(base64));const isImage=mime.startsWith(\"image/\");const fileName=\"attachment_\".concat(index+1,\".\").concat(ext);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between bg-white rounded border p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 overflow-hidden\",children:[isImage?/*#__PURE__*/_jsx(\"img\",{src:file,alt:fileName,className:\"w-12 h-12 object-cover rounded\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-gray-100 rounded flex items-center justify-center text-gray-500 text-xs uppercase\",children:ext}),/*#__PURE__*/_jsxs(\"div\",{className:\"min-w-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900 truncate\",children:fileName}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 truncate\",children:[mime,\" \\u2022 \",size]})]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleDownloadFile(file,fileName),className:\"text-blue-600 hover:text-blue-800 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(FaDownload,{className:\"inline-block mr-1\"}),\"Download\"]})]},index);})})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mt-6\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{var _selectedForm$form_da3;setShowFormDetails(false);setSelectedEmployeeForDocs({id:selectedForm.employee_id,name:((_selectedForm$form_da3=selectedForm.form_data)===null||_selectedForm$form_da3===void 0?void 0:_selectedForm$form_da3.name)||\"\".concat(selectedForm.first_name,\" \").concat(selectedForm.last_name)});setShowDocumentStatus(true);},className:\"inline-flex items-center px-4 py-2 border border-blue-300 rounded-md text-sm font-medium text-blue-700 bg-blue-50 hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(FaFileAlt,{className:\"mr-2\"}),\"View All Documents\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowFormDetails(false),className:\"btn-secondary\",children:\"Close\"})]})]})}),showDocumentStatus&&selectedEmployeeForDocs&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-10 mx-auto p-5 border w-11/12 max-w-6xl shadow-lg rounded-md bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:[\"Document Status - \",selectedEmployeeForDocs.name]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setShowDocumentStatus(false);setSelectedEmployeeForDocs(null);},className:\"text-gray-400 hover:text-gray-600\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Close\"}),/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})]})]}),/*#__PURE__*/_jsx(DocumentStatus,{employeeId:selectedEmployeeForDocs.id,employeeName:selectedEmployeeForDocs.name,isHR:true,onRefresh:fetchEmployeeForms}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end mt-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowDocumentStatus(false);setSelectedEmployeeForDocs(null);},className:\"btn-secondary\",children:\"Close\"})})]})}),showEditForm&&editingEmployee&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-10 mx-auto p-5 border w-11/12 max-w-2xl shadow-lg rounded-md bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Edit Employee Details\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setShowEditForm(false);setEditingEmployee(null);},className:\"text-gray-400 hover:text-gray-600\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Close\"}),/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})]})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:e=>{e.preventDefault();const formData=new FormData(e.target);const updatedData={form_data:_objectSpread(_objectSpread({},editingEmployee.form_data),{},{name:formData.get(\"name\"),email:formData.get(\"email\"),phone:formData.get(\"phone\"),address:formData.get(\"address\"),education:formData.get(\"education\"),experience:formData.get(\"experience\"),doj:formData.get(\"doj\"),emergencyContact:{name:formData.get(\"emergency_name\"),phone:formData.get(\"emergency_phone\"),relationship:formData.get(\"emergency_relationship\")},emergencyContact2:{name:formData.get(\"emergency_name2\"),phone:formData.get(\"emergency_phone2\"),relationship:formData.get(\"emergency_relationship2\")}}),employee_type:formData.get(\"employment_type\"),manager1:selectedManager1,manager2:selectedManager2,manager3:selectedManager3};handleUpdateEmployee(updatedData);},className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Full Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",defaultValue:((_editingEmployee$form2=editingEmployee.form_data)===null||_editingEmployee$form2===void 0?void 0:_editingEmployee$form2.name)||\"\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Email *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",defaultValue:((_editingEmployee$form3=editingEmployee.form_data)===null||_editingEmployee$form3===void 0?void 0:_editingEmployee$form3.email)||\"\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Employee ID (6 digits) *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:((_editingEmployee$form4=editingEmployee.form_data)===null||_editingEmployee$form4===void 0?void 0:_editingEmployee$form4.employee_id)||\"\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-600 cursor-not-allowed\",readOnly:true,disabled:true}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Employee ID is permanent and cannot be changed\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",name:\"phone\",defaultValue:((_editingEmployee$form5=editingEmployee.form_data)===null||_editingEmployee$form5===void 0?void 0:_editingEmployee$form5.phone)||\"\",maxLength:\"10\",pattern:\"[0-9]{10}\",placeholder:\"Enter 10 digit number\",onInput:e=>{// Allow only numeric input and limit to 10 digits\ne.target.value=e.target.value.replace(/[^0-9]/g,\"\").slice(0,10);},className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Date of Joining *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"doj\",defaultValue:((_editingEmployee$form6=editingEmployee.form_data)===null||_editingEmployee$form6===void 0?void 0:_editingEmployee$form6.doj)||\"\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Employment Type *\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"employment_type\",defaultValue:editingEmployee.employee_type||\"\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Full-Time\",children:\"Full-Time\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Contract\",children:\"Contract\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Intern\",children:\"Intern\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Manager\",children:\"Manager\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-medium text-gray-900 mb-3\",children:\"Manager Assignment\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Manager 1 *\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"manager1\",value:selectedManager1,onChange:e=>setSelectedManager1(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Manager 1\"}),getFilteredManagers(selectedManager1,\"Manager 1\").map((manager,index)=>/*#__PURE__*/_jsxs(\"option\",{value:manager.employee_name,children:[manager.employee_name,\" (\",manager.company_email,\")\"]},\"\".concat(manager.employee_name,\"-\").concat(manager.company_email,\"-\").concat(index)))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Manager 2 (Optional)\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"manager2\",value:selectedManager2,onChange:e=>setSelectedManager2(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Manager 2\"}),getFilteredManagers(selectedManager2,\"Manager 2\").map((manager,index)=>/*#__PURE__*/_jsxs(\"option\",{value:manager.employee_name,children:[manager.employee_name,\" (\",manager.company_email,\")\"]},\"\".concat(manager.employee_name,\"-\").concat(manager.company_email,\"-manager2-\").concat(index)))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Manager 3 (Optional)\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"manager3\",value:selectedManager3,onChange:e=>setSelectedManager3(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Manager 3\"}),getFilteredManagers(selectedManager3,\"Manager 3\").map((manager,index)=>/*#__PURE__*/_jsxs(\"option\",{value:manager.employee_name,children:[manager.employee_name,\" (\",manager.company_email,\")\"]},\"\".concat(manager.employee_name,\"-\").concat(manager.company_email,\"-manager3-\").concat(index)))]})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-2\",children:\"Manager 1 is required. Manager 2 and 3 are optional for multi-manager approval workflow.\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Address\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"address\",defaultValue:((_editingEmployee$form7=editingEmployee.form_data)===null||_editingEmployee$form7===void 0?void 0:_editingEmployee$form7.address)||\"\",rows:3,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Latest Graduation\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"education\",defaultValue:((_editingEmployee$form8=editingEmployee.form_data)===null||_editingEmployee$form8===void 0?void 0:_editingEmployee$form8.education)||\"\",rows:2,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Experience\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"experience\",defaultValue:((_editingEmployee$form9=editingEmployee.form_data)===null||_editingEmployee$form9===void 0?void 0:_editingEmployee$form9.experience)||\"\",rows:2,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-medium text-gray-900 mb-3\",children:\"Emergency Contact\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Contact Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"emergency_name\",defaultValue:((_editingEmployee$form0=editingEmployee.form_data)===null||_editingEmployee$form0===void 0?void 0:(_editingEmployee$form1=_editingEmployee$form0.emergencyContact)===null||_editingEmployee$form1===void 0?void 0:_editingEmployee$form1.name)||\"\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Contact Phone\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",name:\"emergency_phone\",defaultValue:((_editingEmployee$form10=editingEmployee.form_data)===null||_editingEmployee$form10===void 0?void 0:(_editingEmployee$form11=_editingEmployee$form10.emergencyContact)===null||_editingEmployee$form11===void 0?void 0:_editingEmployee$form11.phone)||\"\",maxLength:\"10\",pattern:\"[0-9]{10}\",placeholder:\"Enter 10 digit number\",onInput:e=>{// Allow only numeric input and limit to 10 digits\ne.target.value=e.target.value.replace(/[^0-9]/g,\"\").slice(0,10);},className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Relationship\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"emergency_relationship\",defaultValue:((_editingEmployee$form12=editingEmployee.form_data)===null||_editingEmployee$form12===void 0?void 0:(_editingEmployee$form13=_editingEmployee$form12.emergencyContact)===null||_editingEmployee$form13===void 0?void 0:_editingEmployee$form13.relationship)||\"\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-medium text-gray-900 mb-3\",children:\"Second Emergency Contact\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Contact Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"emergency_name2\",defaultValue:((_editingEmployee$form14=editingEmployee.form_data)===null||_editingEmployee$form14===void 0?void 0:(_editingEmployee$form15=_editingEmployee$form14.emergencyContact2)===null||_editingEmployee$form15===void 0?void 0:_editingEmployee$form15.name)||\"\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Contact Phone\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",name:\"emergency_phone2\",defaultValue:((_editingEmployee$form16=editingEmployee.form_data)===null||_editingEmployee$form16===void 0?void 0:(_editingEmployee$form17=_editingEmployee$form16.emergencyContact2)===null||_editingEmployee$form17===void 0?void 0:_editingEmployee$form17.phone)||\"\",maxLength:\"10\",pattern:\"[0-9]{10}\",placeholder:\"Enter 10 digit number\",onInput:e=>{// Allow only numeric input and limit to 10 digits\ne.target.value=e.target.value.replace(/[^0-9]/g,\"\").slice(0,10);},className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Relationship\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"emergency_relationship2\",defaultValue:((_editingEmployee$form18=editingEmployee.form_data)===null||_editingEmployee$form18===void 0?void 0:(_editingEmployee$form19=_editingEmployee$form18.emergencyContact2)===null||_editingEmployee$form19===void 0?void 0:_editingEmployee$form19.relationship)||\"\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setShowEditForm(false);setEditingEmployee(null);// Reset manager selections\nsetSelectedManager1(\"\");setSelectedManager2(\"\");setSelectedManager3(\"\");},className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700\",children:\"Update Employee\"})]})]})]})})]});};export default EmployeeFormManagement;","map":{"version":3,"names":["React","useState","useEffect","axios","toast","useAuth","FaTrash","FaDownload","FaSearch","FaCheck","FaTimes","FaFileAlt","FaEdit","DocumentStatus","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EmployeeFormManagement","_ref","_selectedForm$form_da2","_editingEmployee$form2","_editingEmployee$form3","_editingEmployee$form4","_editingEmployee$form5","_editingEmployee$form6","_editingEmployee$form7","_editingEmployee$form8","_editingEmployee$form9","_editingEmployee$form0","_editingEmployee$form1","_editingEmployee$form10","_editingEmployee$form11","_editingEmployee$form12","_editingEmployee$form13","_editingEmployee$form14","_editingEmployee$form15","_editingEmployee$form16","_editingEmployee$form17","_editingEmployee$form18","_editingEmployee$form19","onRefresh","user","employeeForms","setEmployeeForms","loading","setLoading","searchTerm","setSearchTerm","statusFilter","setStatusFilter","selectedForm","setSelectedForm","showFormDetails","setShowFormDetails","showDocumentStatus","setShowDocumentStatus","selectedEmployeeForDocs","setSelectedEmployeeForDocs","showEditForm","setShowEditForm","editingEmployee","setEditingEmployee","availableManagers","setAvailableManagers","selectedManager1","setSelectedManager1","selectedManager2","setSelectedManager2","selectedManager3","setSelectedManager3","parseDataUrl","dataUrl","mime","base64","match","getExtensionFromMime","includes","split","estimateFileSize","Math","ceil","length","formatBytes","bytes","sizes","i","min","floor","log","concat","pow","toFixed","handleDownloadFile","suggestedName","byteCharacters","atob","byteNumbers","Array","charCodeAt","byteArray","Uint8Array","blob","Blob","type","url","URL","createObjectURL","link","document","createElement","href","download","body","appendChild","click","remove","revokeObjectURL","e","console","error","fetchEmployeeForms","fetchAvailableManagers","response","get","data","managers","forms","handleViewDocuments","form","_form$form_data","id","employee_id","name","form_data","first_name","last_name","employmentType","employee_type","handleEditEmployee","assigned_manager","assigned_manager2","assigned_manager3","getFilteredManagers","excludeCurrentSelection","arguments","undefined","dropdownType","filter","manager","_editingEmployee$form","currentEmployeeEmail","email","currentEmployeeCompanyEmail","company_email","currentLoggedInUserEmail","selectedEmails","map","found","find","m","employee_name","Boolean","isExcludedDueToDuplicate","isCurrentEmployee","isLoggedInUser","managerName","managerEmail","willShow","handleUpdateEmployee","updatedData","put","success","_error$response","_error$response$data","handleDeleteForm","formId","window","confirm","delete","handleApproveForm","_form$form_data2","employeeName","action","_error$response2","_error$response2$data","handleRejectForm","full_name","_error$response3","_error$response3$data","getStatusBadge","status","className","children","getTypeBadge","formatDate","dateString","date","Date","isNaN","getTime","toLocaleDateString","year","month","day","filteredForms","_form$user_email","_form$form_data3","_form$form_data3$name","_form$form_data4","_form$form_data4$emai","matchesSearch","user_email","toLowerCase","matchesStatus","placeholder","value","onChange","target","_form$form_data5","phone","onClick","submitted_at","title","_selectedForm$form_da","department","designation","emergency_contact_name","emergency_contact_phone","emergency_contact_relationship","emergency_contact_name2","emergency_contact_phone2","emergency_contact_relationship2","Object","entries","_ref2","key","replace","JSON","stringify","employeeId","isHR","files","file","index","ext","size","isImage","startsWith","fileName","src","alt","_selectedForm$form_da3","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","onSubmit","preventDefault","formData","FormData","_objectSpread","address","education","experience","doj","emergencyContact","relationship","emergencyContact2","manager1","manager2","manager3","defaultValue","required","readOnly","disabled","maxLength","pattern","onInput","slice","rows"],"sources":["/Users/stalin_j/Downloads/test2/onboard/frontend/src/components/EmployeeFormManagement.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { toast } from \"react-hot-toast\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport {\n  FaTrash,\n  FaDownload,\n  FaSearch,\n  FaCheck,\n  FaTimes,\n  FaFileAlt,\n  FaEdit,\n} from \"react-icons/fa\";\nimport DocumentStatus from \"./DocumentStatus\";\n\nconst EmployeeFormManagement = ({ onRefresh }) => {\n  const { user } = useAuth();\n  const [employeeForms, setEmployeeForms] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [statusFilter, setStatusFilter] = useState(\"all\");\n  const [selectedForm, setSelectedForm] = useState(null);\n  const [showFormDetails, setShowFormDetails] = useState(false);\n  const [showDocumentStatus, setShowDocumentStatus] = useState(false);\n  const [selectedEmployeeForDocs, setSelectedEmployeeForDocs] = useState(null);\n  const [showEditForm, setShowEditForm] = useState(false);\n  const [editingEmployee, setEditingEmployee] = useState(null);\n  const [availableManagers, setAvailableManagers] = useState([]);\n\n  // State for tracking selected managers to prevent duplicates\n  const [selectedManager1, setSelectedManager1] = useState(\"\");\n  const [selectedManager2, setSelectedManager2] = useState(\"\");\n  const [selectedManager3, setSelectedManager3] = useState(\"\");\n\n  // Helpers for rendering attached files nicely (avoid dumping base64 strings)\n  const parseDataUrl = (dataUrl) => {\n    if (!dataUrl || typeof dataUrl !== \"string\")\n      return { mime: \"application/octet-stream\", base64: \"\" };\n    const match = dataUrl.match(/^data:(.*?);base64,(.*)$/);\n    if (!match) return { mime: \"application/octet-stream\", base64: \"\" };\n    return {\n      mime: match[1] || \"application/octet-stream\",\n      base64: match[2] || \"\",\n    };\n  };\n\n  const getExtensionFromMime = (mime) => {\n    if (!mime) return \"bin\";\n    if (mime.includes(\"png\")) return \"png\";\n    if (mime.includes(\"jpeg\")) return \"jpg\";\n    if (mime.includes(\"jpg\")) return \"jpg\";\n    if (mime.includes(\"pdf\")) return \"pdf\";\n    if (mime.includes(\"gif\")) return \"gif\";\n    return mime.split(\"/\")[1] || \"bin\";\n  };\n\n  const estimateFileSize = (base64) => {\n    if (!base64) return 0;\n    // Rough estimate of decoded size in bytes for base64\n    return Math.ceil((base64.length * 3) / 4);\n  };\n\n  const formatBytes = (bytes) => {\n    if (!bytes) return \"0 B\";\n    const sizes = [\"B\", \"KB\", \"MB\", \"GB\"];\n    const i = Math.min(\n      Math.floor(Math.log(bytes) / Math.log(1024)),\n      sizes.length - 1\n    );\n    return `${(bytes / Math.pow(1024, i)).toFixed(1)} ${sizes[i]}`;\n  };\n\n  const handleDownloadFile = (dataUrl, suggestedName) => {\n    try {\n      const { mime, base64 } = parseDataUrl(dataUrl);\n      const byteCharacters = atob(base64);\n      const byteNumbers = new Array(byteCharacters.length);\n      for (let i = 0; i < byteCharacters.length; i++) {\n        byteNumbers[i] = byteCharacters.charCodeAt(i);\n      }\n      const byteArray = new Uint8Array(byteNumbers);\n      const blob = new Blob([byteArray], { type: mime });\n      const url = URL.createObjectURL(blob);\n      const link = document.createElement(\"a\");\n      link.href = url;\n      link.download =\n        suggestedName || `attachment.${getExtensionFromMime(mime)}`;\n      document.body.appendChild(link);\n      link.click();\n      link.remove();\n      URL.revokeObjectURL(url);\n    } catch (e) {\n      console.error(\"Download error:\", e);\n      toast.error(\"Failed to download file\");\n    }\n  };\n\n  useEffect(() => {\n    fetchEmployeeForms();\n    fetchAvailableManagers();\n  }, []);\n\n  const fetchAvailableManagers = async () => {\n    try {\n      const response = await axios.get(\n        \"http://localhost:5001/api/hr/master-managers\"\n      );\n      console.log(\n        \"🔍 Fetched managers from master table:\",\n        response.data.managers\n      );\n      setAvailableManagers(response.data.managers || []);\n    } catch (error) {\n      console.error(\"Error fetching managers from master table:\", error);\n      setAvailableManagers([]);\n    }\n  };\n\n  const fetchEmployeeForms = async () => {\n    try {\n      setLoading(true);\n      const response = await axios.get(\n        \"http://localhost:5001/api/hr/employee-forms\"\n      );\n      setEmployeeForms(response.data.forms);\n    } catch (error) {\n      console.error(\"Error fetching employee forms:\", error);\n      toast.error(\"Failed to fetch employee forms\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleViewDocuments = (form) => {\n    setSelectedEmployeeForDocs({\n      id: form.employee_id,\n      name: form.form_data?.name || `${form.first_name} ${form.last_name}`,\n      employmentType: form.employee_type,\n    });\n    setShowDocumentStatus(true);\n  };\n\n  const handleEditEmployee = (form) => {\n    setEditingEmployee(form);\n\n    // Initialize manager selections with current assignments\n    setSelectedManager1(form.assigned_manager || \"\");\n    setSelectedManager2(form.assigned_manager2 || \"\");\n    setSelectedManager3(form.assigned_manager3 || \"\");\n\n    setShowEditForm(true);\n  };\n\n  // Helper function to get filtered managers for each dropdown\n  const getFilteredManagers = (\n    excludeCurrentSelection = \"\",\n    dropdownType = \"\"\n  ) => {\n    if (!availableManagers) return [];\n\n    return availableManagers.filter((manager) => {\n      // Exclude the current employee from manager list if they are a manager\n      const currentEmployeeEmail = editingEmployee?.form_data?.email;\n      const currentEmployeeCompanyEmail = editingEmployee?.company_email;\n      const currentLoggedInUserEmail = user?.email;\n\n      // Get currently selected manager emails to prevent duplicates\n      const selectedEmails = [\n        selectedManager1,\n        selectedManager2,\n        selectedManager3,\n      ]\n        .filter((name) => name && name !== excludeCurrentSelection)\n        .map((name) => {\n          const found = availableManagers.find((m) => m.employee_name === name);\n          return found?.company_email;\n        })\n        .filter(Boolean);\n\n      const isExcludedDueToDuplicate = selectedEmails.includes(\n        manager.company_email\n      );\n      const isCurrentEmployee =\n        manager.company_email === currentEmployeeEmail ||\n        manager.company_email === currentEmployeeCompanyEmail;\n      const isLoggedInUser = manager.company_email === currentLoggedInUserEmail;\n\n      console.log(`🔍 Manager filter for ${dropdownType}:`, {\n        managerName: manager.employee_name,\n        managerEmail: manager.company_email,\n        currentEmployeeEmail,\n        currentEmployeeCompanyEmail,\n        currentLoggedInUserEmail,\n        selectedEmails,\n        isExcludedDueToDuplicate,\n        isCurrentEmployee,\n        isLoggedInUser,\n        willShow:\n          !isExcludedDueToDuplicate && !isCurrentEmployee && !isLoggedInUser,\n      });\n\n      return !isExcludedDueToDuplicate && !isCurrentEmployee && !isLoggedInUser;\n    });\n  };\n\n  const handleUpdateEmployee = async (updatedData) => {\n    try {\n      await axios.put(\n        `http://localhost:5001/api/hr/employee-forms/${editingEmployee.id}`,\n        updatedData\n      );\n      toast.success(\"Employee details updated successfully!\");\n      setShowEditForm(false);\n      setEditingEmployee(null);\n\n      // Reset manager selections\n      setSelectedManager1(\"\");\n      setSelectedManager2(\"\");\n      setSelectedManager3(\"\");\n      fetchEmployeeForms();\n      if (onRefresh) onRefresh();\n    } catch (error) {\n      console.error(\"Update employee error:\", error);\n      toast.error(error.response?.data?.error || \"Failed to update employee\");\n    }\n  };\n\n  const handleDeleteForm = async (formId) => {\n    if (\n      window.confirm(\n        \"Are you sure you want to delete this form? This action cannot be undone.\"\n      )\n    ) {\n      try {\n        await axios.delete(\n          `http://localhost:5001/api/hr/employee-forms/${formId}`\n        );\n        toast.success(\"Form deleted successfully!\");\n        fetchEmployeeForms();\n        if (onRefresh) onRefresh();\n      } catch (error) {\n        console.error(\"Delete form error:\", error);\n        toast.error(\"Failed to delete form\");\n      }\n    }\n  };\n\n  const handleApproveForm = async (form) => {\n    const employeeName =\n      form.form_data?.name || `${form.first_name} ${form.last_name}`;\n    if (\n      window.confirm(\n        `Are you sure you want to approve ${employeeName}'s application?\\n\\nNote: Employee can be approved even with missing documents. Documents can be uploaded later during employment.`\n      )\n    ) {\n      try {\n        await axios.put(\n          `http://localhost:5001/api/hr/employee-forms/${form.id}/approve`,\n          {\n            action: \"approve\",\n          }\n        );\n\n        toast.success(\n          \"Employee form approved! Employee moved to onboarded list.\"\n        );\n        fetchEmployeeForms();\n        if (onRefresh) onRefresh();\n      } catch (error) {\n        console.error(\"Approve form error:\", error);\n        toast.error(error.response?.data?.error || \"Failed to approve form\");\n      }\n    }\n  };\n\n  const handleRejectForm = async (form) => {\n    if (\n      window.confirm(\n        `Are you sure you want to reject ${form.full_name}'s application?`\n      )\n    ) {\n      try {\n        await axios.put(\n          `http://localhost:5001/api/hr/employee-forms/${form.id}/approve`,\n          {\n            action: \"reject\",\n          }\n        );\n\n        toast.success(\"Employee form rejected.\");\n        fetchEmployeeForms();\n        if (onRefresh) onRefresh();\n      } catch (error) {\n        console.error(\"Reject form error:\", error);\n        toast.error(error.response?.data?.error || \"Failed to reject form\");\n      }\n    }\n  };\n\n  const getStatusBadge = (status) => {\n    switch (status) {\n      case \"pending\":\n        return (\n          <span className=\"px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded-full\">\n            Pending\n          </span>\n        );\n      case \"submitted\":\n        return (\n          <span className=\"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full\">\n            Submitted\n          </span>\n        );\n      case \"approved\":\n        return (\n          <span className=\"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full\">\n            Approved\n          </span>\n        );\n      case \"rejected\":\n        return (\n          <span className=\"px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full\">\n            Rejected\n          </span>\n        );\n      default:\n        return (\n          <span className=\"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded-full\">\n            {status || \"Unknown\"}\n          </span>\n        );\n    }\n  };\n\n  const getTypeBadge = (type) => {\n    switch (type) {\n      case \"Full-Time\":\n        return (\n          <span className=\"px-2 py-1 text-xs font-medium bg-purple-100 text-purple-800 rounded-full\">\n            Full-Time\n          </span>\n        );\n      case \"Contract\":\n        return (\n          <span className=\"px-2 py-1 text-xs font-medium bg-orange-100 text-orange-800 rounded-full\">\n            Contract\n          </span>\n        );\n      case \"Intern\":\n        return (\n          <span className=\"px-2 py-1 text-xs font-medium bg-indigo-100 text-indigo-800 rounded-full\">\n            Intern\n          </span>\n        );\n      case \"Manager\":\n        return (\n          <span className=\"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full\">\n            Manager\n          </span>\n        );\n      default:\n        return (\n          <span className=\"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded-full\">\n            {type || \"Unknown\"}\n          </span>\n        );\n    }\n  };\n\n  const formatDate = (dateString) => {\n    if (\n      !dateString ||\n      dateString === \"1970-01-01T00:00:00.000Z\" ||\n      dateString === \"1970-01-01\"\n    ) {\n      return \"Not submitted\";\n    }\n\n    try {\n      const date = new Date(dateString);\n      if (isNaN(date.getTime())) {\n        return \"Invalid date\";\n      }\n      return date.toLocaleDateString(\"en-US\", {\n        year: \"numeric\",\n        month: \"2-digit\",\n        day: \"2-digit\",\n      });\n    } catch (error) {\n      console.error(\"Error formatting date:\", error);\n      return \"Invalid date\";\n    }\n  };\n\n  const filteredForms = employeeForms.filter((form) => {\n    const matchesSearch =\n      form.user_email?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      form.form_data?.name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      form.form_data?.email?.toLowerCase().includes(searchTerm.toLowerCase());\n\n    const matchesStatus =\n      statusFilter === \"all\" || form.status === statusFilter;\n\n    return matchesSearch && matchesStatus;\n  });\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center py-8\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <div className=\"mb-6\">\n        <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\n          Employee Form Management\n        </h2>\n        <p className=\"text-gray-600\">\n          View and manage all employee onboarding forms submitted by candidates.\n        </p>\n      </div>\n\n      {/* Search and Filter Controls */}\n      <div className=\"mb-6 flex flex-col sm:flex-row gap-4\">\n        <div className=\"flex-1\">\n          <div className=\"relative\">\n            <FaSearch className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search by name, email, or type...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            />\n          </div>\n        </div>\n        <div className=\"sm:w-48\">\n          <select\n            value={statusFilter}\n            onChange={(e) => setStatusFilter(e.target.value)}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          >\n            <option value=\"all\">All Statuses</option>\n            <option value=\"pending\">Pending</option>\n            <option value=\"submitted\">Submitted</option>\n            <option value=\"approved\">Approved</option>\n            <option value=\"rejected\">Rejected</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Forms Table */}\n      {filteredForms.length === 0 ? (\n        <div className=\"text-center py-8\">\n          <div className=\"text-gray-400 text-6xl mb-4\">📋</div>\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n            No Employee Forms Found\n          </h3>\n          <p className=\"text-gray-500\">\n            {searchTerm || statusFilter !== \"all\"\n              ? \"Try adjusting your search or filter criteria.\"\n              : \"No employee forms have been submitted yet.\"}\n          </p>\n        </div>\n      ) : (\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Employee Details\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Type\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Status\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Documents\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Manager\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Submitted\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Actions\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {filteredForms.map((form) => (\n                <tr key={form.id} className=\"hover:bg-gray-50\">\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <div>\n                      <div className=\"text-sm font-medium text-gray-900\">\n                        {form.user_email}\n                      </div>\n                      <div className=\"text-sm text-gray-500\">\n                        {form.first_name && form.last_name\n                          ? `${form.first_name} ${form.last_name}`\n                          : form.form_data?.name || \"Name not available\"}\n                      </div>\n                      {form.phone && (\n                        <div className=\"text-xs text-gray-400\">\n                          📞 {form.phone}\n                        </div>\n                      )}\n                    </div>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    {getTypeBadge(form.employee_type)}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    {getStatusBadge(form.status)}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <div className=\"flex space-x-2\">\n                      <button\n                        onClick={() => handleViewDocuments(form)}\n                        className=\"inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800 hover:bg-blue-200\"\n                      >\n                        <FaFileAlt className=\"mr-1\" />\n                        View Status\n                      </button>\n                    </div>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    {form.assigned_manager ? (\n                      <span className=\"text-sm text-green-600 font-medium\">\n                        {form.assigned_manager}\n                      </span>\n                    ) : (\n                      <span className=\"text-sm text-gray-400\">\n                        Not assigned\n                      </span>\n                    )}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                    {formatDate(form.submitted_at)}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                    <div className=\"flex items-center space-x-2\">\n                      <button\n                        onClick={() => handleEditEmployee(form)}\n                        className=\"text-purple-600 hover:text-purple-900\"\n                        title=\"Edit Employee Details\"\n                      >\n                        <FaEdit className=\"inline-block\" />\n                      </button>\n\n                      {/* Show approve/reject buttons only for submitted forms */}\n                      {form.status === \"submitted\" && (\n                        <>\n                          <button\n                            onClick={() => handleApproveForm(form)}\n                            className=\"text-green-600 hover:text-green-900\"\n                            title=\"Approve Application\"\n                          >\n                            <FaCheck className=\"inline-block\" />\n                          </button>\n                          <button\n                            onClick={() => handleRejectForm(form)}\n                            className=\"text-red-600 hover:text-red-900\"\n                            title=\"Reject Application\"\n                          >\n                            <FaTimes className=\"inline-block\" />\n                          </button>\n                        </>\n                      )}\n\n                      <button\n                        onClick={() => handleDeleteForm(form.id)}\n                        className=\"text-gray-600 hover:text-gray-900\"\n                        title=\"Delete Form\"\n                      >\n                        <FaTrash className=\"inline-block\" />\n                      </button>\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n\n      {/* Form Details Modal */}\n      {showFormDetails && selectedForm && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-20 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-lg font-medium text-gray-900\">\n                Employee Form Details\n              </h3>\n              <div className=\"flex items-center space-x-3\">\n                <button\n                  onClick={() => {\n                    setShowFormDetails(false);\n                    setSelectedEmployeeForDocs({\n                      id: selectedForm.employee_id,\n                      name:\n                        selectedForm.form_data?.name ||\n                        `${selectedForm.first_name} ${selectedForm.last_name}`,\n                      employmentType: selectedForm.employee_type,\n                    });\n                    setShowDocumentStatus(true);\n                  }}\n                  className=\"inline-flex items-center px-3 py-2 border border-blue-300 rounded-md text-sm font-medium text-blue-700 bg-blue-50 hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                >\n                  <FaFileAlt className=\"mr-2\" />\n                  View Documents\n                </button>\n                <button\n                  onClick={() => setShowFormDetails(false)}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  ×\n                </button>\n              </div>\n            </div>\n\n            <div className=\"space-y-6\">\n              {/* Basic Information */}\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Employee Email\n                  </label>\n                  <p className=\"text-sm text-gray-900\">\n                    {selectedForm.user_email}\n                  </p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Employee Type\n                  </label>\n                  <p className=\"text-sm text-gray-900\">\n                    {selectedForm.employee_type}\n                  </p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Status\n                  </label>\n                  <div>{getStatusBadge(selectedForm.status)}</div>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Submitted Date\n                  </label>\n                  <p className=\"text-sm text-gray-900\">\n                    {formatDate(selectedForm.submitted_at)}\n                  </p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Phone\n                  </label>\n                  <p className=\"text-sm text-gray-900\">\n                    {selectedForm.phone || \"Not provided\"}\n                  </p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Assigned Manager\n                  </label>\n                  <p className=\"text-sm text-gray-900\">\n                    {selectedForm.assigned_manager || \"Not assigned\"}\n                  </p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Department\n                  </label>\n                  <p className=\"text-sm text-gray-900\">\n                    {selectedForm.department || \"Not assigned\"}\n                  </p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Designation\n                  </label>\n                  <p className=\"text-sm text-gray-900\">\n                    {selectedForm.designation || \"Not assigned\"}\n                  </p>\n                </div>\n              </div>\n\n              {/* Emergency Contact Information */}\n              {(selectedForm.emergency_contact_name ||\n                selectedForm.emergency_contact_phone) && (\n                <div>\n                  <h4 className=\"text-md font-medium text-gray-900 mb-3\">\n                    Emergency Contact\n                  </h4>\n                  <div className=\"bg-red-50 rounded-lg p-4\">\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                      {selectedForm.emergency_contact_name && (\n                        <div>\n                          <label className=\"block text-sm font-medium text-red-700 mb-1\">\n                            Contact Name\n                          </label>\n                          <p className=\"text-sm text-red-900\">\n                            {selectedForm.emergency_contact_name}\n                          </p>\n                        </div>\n                      )}\n                      {selectedForm.emergency_contact_phone && (\n                        <div>\n                          <label className=\"block text-sm font-medium text-red-700 mb-1\">\n                            Contact Phone\n                          </label>\n                          <p className=\"text-sm text-red-900\">\n                            {selectedForm.emergency_contact_phone}\n                          </p>\n                        </div>\n                      )}\n                      {selectedForm.emergency_contact_relationship && (\n                        <div>\n                          <label className=\"block text-sm font-medium text-red-700 mb-1\">\n                            Relationship\n                          </label>\n                          <p className=\"text-sm text-red-900\">\n                            {selectedForm.emergency_contact_relationship}\n                          </p>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* Second Emergency Contact Information */}\n              {(selectedForm.emergency_contact_name2 ||\n                selectedForm.emergency_contact_phone2) && (\n                <div>\n                  <h4 className=\"text-md font-medium text-gray-900 mb-3\">\n                    Second Emergency Contact\n                  </h4>\n                  <div className=\"bg-orange-50 rounded-lg p-4\">\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                      {selectedForm.emergency_contact_name2 && (\n                        <div>\n                          <label className=\"block text-sm font-medium text-orange-700 mb-1\">\n                            Contact Name\n                          </label>\n                          <p className=\"text-sm text-orange-900\">\n                            {selectedForm.emergency_contact_name2}\n                          </p>\n                        </div>\n                      )}\n                      {selectedForm.emergency_contact_phone2 && (\n                        <div>\n                          <label className=\"block text-sm font-medium text-orange-700 mb-1\">\n                            Contact Phone\n                          </label>\n                          <p className=\"text-sm text-orange-900\">\n                            {selectedForm.emergency_contact_phone2}\n                          </p>\n                        </div>\n                      )}\n                      {selectedForm.emergency_contact_relationship2 && (\n                        <div>\n                          <label className=\"block text-sm font-medium text-orange-700 mb-1\">\n                            Relationship\n                          </label>\n                          <p className=\"text-sm text-orange-900\">\n                            {selectedForm.emergency_contact_relationship2}\n                          </p>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* Form Data */}\n              <div>\n                <h4 className=\"text-md font-medium text-gray-900 mb-3\">\n                  Form Information\n                </h4>\n                <div className=\"bg-gray-50 rounded-lg p-4\">\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    {Object.entries(selectedForm.form_data || {}).map(\n                      ([key, value]) => (\n                        <div key={key}>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-1 capitalize\">\n                            {key.replace(/_/g, \" \")}\n                          </label>\n                          <p className=\"text-sm text-gray-900\">\n                            {typeof value === \"string\"\n                              ? value\n                              : JSON.stringify(value)}\n                          </p>\n                        </div>\n                      )\n                    )}\n                  </div>\n                </div>\n              </div>\n\n              {/* Document Status */}\n              <div>\n                <h4 className=\"text-md font-medium text-gray-900 mb-3\">\n                  Document Upload Status\n                </h4>\n                <DocumentStatus\n                  employeeId={selectedForm.employee_id}\n                  employeeName={\n                    selectedForm.form_data?.name ||\n                    `${selectedForm.first_name} ${selectedForm.last_name}`\n                  }\n                  isHR={true}\n                  onRefresh={fetchEmployeeForms}\n                />\n              </div>\n\n              {/* Legacy Files (if any from old system) */}\n              {selectedForm.files && selectedForm.files.length > 0 && (\n                <div>\n                  <h4 className=\"text-md font-medium text-gray-900 mb-3\">\n                    Legacy Attached Files\n                  </h4>\n                  <div className=\"bg-gray-50 rounded-lg p-4\">\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                      {selectedForm.files.map((file, index) => {\n                        const { mime, base64 } = parseDataUrl(file);\n                        const ext = getExtensionFromMime(mime);\n                        const size = formatBytes(estimateFileSize(base64));\n                        const isImage = mime.startsWith(\"image/\");\n                        const fileName = `attachment_${index + 1}.${ext}`;\n                        return (\n                          <div\n                            key={index}\n                            className=\"flex items-center justify-between bg-white rounded border p-3\"\n                          >\n                            <div className=\"flex items-center space-x-3 overflow-hidden\">\n                              {isImage ? (\n                                <img\n                                  src={file}\n                                  alt={fileName}\n                                  className=\"w-12 h-12 object-cover rounded\"\n                                />\n                              ) : (\n                                <div className=\"w-12 h-12 bg-gray-100 rounded flex items-center justify-center text-gray-500 text-xs uppercase\">\n                                  {ext}\n                                </div>\n                              )}\n                              <div className=\"min-w-0\">\n                                <div className=\"text-sm font-medium text-gray-900 truncate\">\n                                  {fileName}\n                                </div>\n                                <div className=\"text-xs text-gray-500 truncate\">\n                                  {mime} • {size}\n                                </div>\n                              </div>\n                            </div>\n                            <button\n                              onClick={() => handleDownloadFile(file, fileName)}\n                              className=\"text-blue-600 hover:text-blue-800 whitespace-nowrap\"\n                            >\n                              <FaDownload className=\"inline-block mr-1\" />\n                              Download\n                            </button>\n                          </div>\n                        );\n                      })}\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n\n            <div className=\"flex justify-between items-center mt-6\">\n              <button\n                onClick={() => {\n                  setShowFormDetails(false);\n                  setSelectedEmployeeForDocs({\n                    id: selectedForm.employee_id,\n                    name:\n                      selectedForm.form_data?.name ||\n                      `${selectedForm.first_name} ${selectedForm.last_name}`,\n                  });\n                  setShowDocumentStatus(true);\n                }}\n                className=\"inline-flex items-center px-4 py-2 border border-blue-300 rounded-md text-sm font-medium text-blue-700 bg-blue-50 hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                <FaFileAlt className=\"mr-2\" />\n                View All Documents\n              </button>\n              <button\n                onClick={() => setShowFormDetails(false)}\n                className=\"btn-secondary\"\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Document Status Modal */}\n      {showDocumentStatus && selectedEmployeeForDocs && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-10 mx-auto p-5 border w-11/12 max-w-6xl shadow-lg rounded-md bg-white\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-lg font-medium text-gray-900\">\n                Document Status - {selectedEmployeeForDocs.name}\n              </h3>\n              <button\n                onClick={() => {\n                  setShowDocumentStatus(false);\n                  setSelectedEmployeeForDocs(null);\n                }}\n                className=\"text-gray-400 hover:text-gray-600\"\n              >\n                <span className=\"sr-only\">Close</span>\n                <svg\n                  className=\"h-6 w-6\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M6 18L18 6M6 6l12 12\"\n                  />\n                </svg>\n              </button>\n            </div>\n\n            <DocumentStatus\n              employeeId={selectedEmployeeForDocs.id}\n              employeeName={selectedEmployeeForDocs.name}\n              isHR={true}\n              onRefresh={fetchEmployeeForms}\n            />\n\n            <div className=\"flex justify-end mt-6\">\n              <button\n                onClick={() => {\n                  setShowDocumentStatus(false);\n                  setSelectedEmployeeForDocs(null);\n                }}\n                className=\"btn-secondary\"\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Edit Employee Modal */}\n      {showEditForm && editingEmployee && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-10 mx-auto p-5 border w-11/12 max-w-2xl shadow-lg rounded-md bg-white\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-lg font-medium text-gray-900\">\n                Edit Employee Details\n              </h3>\n              <button\n                onClick={() => {\n                  setShowEditForm(false);\n                  setEditingEmployee(null);\n                }}\n                className=\"text-gray-400 hover:text-gray-600\"\n              >\n                <span className=\"sr-only\">Close</span>\n                <svg\n                  className=\"h-6 w-6\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M6 18L18 6M6 6l12 12\"\n                  />\n                </svg>\n              </button>\n            </div>\n\n            <form\n              onSubmit={(e) => {\n                e.preventDefault();\n                const formData = new FormData(e.target);\n                const updatedData = {\n                  form_data: {\n                    ...editingEmployee.form_data,\n                    name: formData.get(\"name\"),\n                    email: formData.get(\"email\"),\n                    phone: formData.get(\"phone\"),\n                    address: formData.get(\"address\"),\n                    education: formData.get(\"education\"),\n                    experience: formData.get(\"experience\"),\n                    doj: formData.get(\"doj\"),\n                    emergencyContact: {\n                      name: formData.get(\"emergency_name\"),\n                      phone: formData.get(\"emergency_phone\"),\n                      relationship: formData.get(\"emergency_relationship\"),\n                    },\n                    emergencyContact2: {\n                      name: formData.get(\"emergency_name2\"),\n                      phone: formData.get(\"emergency_phone2\"),\n                      relationship: formData.get(\"emergency_relationship2\"),\n                    },\n                  },\n                  employee_type: formData.get(\"employment_type\"),\n                  manager1: selectedManager1,\n                  manager2: selectedManager2,\n                  manager3: selectedManager3,\n                };\n                handleUpdateEmployee(updatedData);\n              }}\n              className=\"space-y-4\"\n            >\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Full Name *\n                  </label>\n                  <input\n                    type=\"text\"\n                    name=\"name\"\n                    defaultValue={editingEmployee.form_data?.name || \"\"}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    required\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Email *\n                  </label>\n                  <input\n                    type=\"email\"\n                    name=\"email\"\n                    defaultValue={editingEmployee.form_data?.email || \"\"}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    required\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Employee ID (6 digits) *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={editingEmployee.form_data?.employee_id || \"\"}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-600 cursor-not-allowed\"\n                    readOnly\n                    disabled\n                  />\n                  <p className=\"text-xs text-gray-500 mt-1\">\n                    Employee ID is permanent and cannot be changed\n                  </p>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Phone\n                  </label>\n                  <input\n                    type=\"tel\"\n                    name=\"phone\"\n                    defaultValue={editingEmployee.form_data?.phone || \"\"}\n                    maxLength=\"10\"\n                    pattern=\"[0-9]{10}\"\n                    placeholder=\"Enter 10 digit number\"\n                    onInput={(e) => {\n                      // Allow only numeric input and limit to 10 digits\n                      e.target.value = e.target.value\n                        .replace(/[^0-9]/g, \"\")\n                        .slice(0, 10);\n                    }}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Date of Joining *\n                  </label>\n                  <input\n                    type=\"date\"\n                    name=\"doj\"\n                    defaultValue={editingEmployee.form_data?.doj || \"\"}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    required\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Employment Type *\n                  </label>\n                  <select\n                    name=\"employment_type\"\n                    defaultValue={editingEmployee.employee_type || \"\"}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    required\n                  >\n                    <option value=\"Full-Time\">Full-Time</option>\n                    <option value=\"Contract\">Contract</option>\n                    <option value=\"Intern\">Intern</option>\n                    <option value=\"Manager\">Manager</option>\n                  </select>\n                </div>\n              </div>\n\n              {/* Manager Assignment Section */}\n              <div>\n                <h4 className=\"text-md font-medium text-gray-900 mb-3\">\n                  Manager Assignment\n                </h4>\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Manager 1 *\n                    </label>\n                    <select\n                      name=\"manager1\"\n                      value={selectedManager1}\n                      onChange={(e) => setSelectedManager1(e.target.value)}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                      required\n                    >\n                      <option value=\"\">Select Manager 1</option>\n                      {getFilteredManagers(selectedManager1, \"Manager 1\").map(\n                        (manager, index) => (\n                          <option\n                            key={`${manager.employee_name}-${manager.company_email}-${index}`}\n                            value={manager.employee_name}\n                          >\n                            {manager.employee_name} ({manager.company_email})\n                          </option>\n                        )\n                      )}\n                    </select>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Manager 2 (Optional)\n                    </label>\n                    <select\n                      name=\"manager2\"\n                      value={selectedManager2}\n                      onChange={(e) => setSelectedManager2(e.target.value)}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    >\n                      <option value=\"\">Select Manager 2</option>\n                      {getFilteredManagers(selectedManager2, \"Manager 2\").map(\n                        (manager, index) => (\n                          <option\n                            key={`${manager.employee_name}-${manager.company_email}-manager2-${index}`}\n                            value={manager.employee_name}\n                          >\n                            {manager.employee_name} ({manager.company_email})\n                          </option>\n                        )\n                      )}\n                    </select>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Manager 3 (Optional)\n                    </label>\n                    <select\n                      name=\"manager3\"\n                      value={selectedManager3}\n                      onChange={(e) => setSelectedManager3(e.target.value)}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    >\n                      <option value=\"\">Select Manager 3</option>\n                      {getFilteredManagers(selectedManager3, \"Manager 3\").map(\n                        (manager, index) => (\n                          <option\n                            key={`${manager.employee_name}-${manager.company_email}-manager3-${index}`}\n                            value={manager.employee_name}\n                          >\n                            {manager.employee_name} ({manager.company_email})\n                          </option>\n                        )\n                      )}\n                    </select>\n                  </div>\n                </div>\n                <p className=\"text-xs text-gray-500 mt-2\">\n                  Manager 1 is required. Manager 2 and 3 are optional for\n                  multi-manager approval workflow.\n                </p>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Address\n                </label>\n                <textarea\n                  name=\"address\"\n                  defaultValue={editingEmployee.form_data?.address || \"\"}\n                  rows={3}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Latest Graduation\n                  </label>\n                  <textarea\n                    name=\"education\"\n                    defaultValue={editingEmployee.form_data?.education || \"\"}\n                    rows={2}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Experience\n                  </label>\n                  <textarea\n                    name=\"experience\"\n                    defaultValue={editingEmployee.form_data?.experience || \"\"}\n                    rows={2}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  />\n                </div>\n              </div>\n\n              <div>\n                <h4 className=\"text-md font-medium text-gray-900 mb-3\">\n                  Emergency Contact\n                </h4>\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Contact Name\n                    </label>\n                    <input\n                      type=\"text\"\n                      name=\"emergency_name\"\n                      defaultValue={\n                        editingEmployee.form_data?.emergencyContact?.name || \"\"\n                      }\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Contact Phone\n                    </label>\n                    <input\n                      type=\"tel\"\n                      name=\"emergency_phone\"\n                      defaultValue={\n                        editingEmployee.form_data?.emergencyContact?.phone || \"\"\n                      }\n                      maxLength=\"10\"\n                      pattern=\"[0-9]{10}\"\n                      placeholder=\"Enter 10 digit number\"\n                      onInput={(e) => {\n                        // Allow only numeric input and limit to 10 digits\n                        e.target.value = e.target.value\n                          .replace(/[^0-9]/g, \"\")\n                          .slice(0, 10);\n                      }}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Relationship\n                    </label>\n                    <input\n                      type=\"text\"\n                      name=\"emergency_relationship\"\n                      defaultValue={\n                        editingEmployee.form_data?.emergencyContact\n                          ?.relationship || \"\"\n                      }\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    />\n                  </div>\n                </div>\n              </div>\n\n              <div>\n                <h4 className=\"text-md font-medium text-gray-900 mb-3\">\n                  Second Emergency Contact\n                </h4>\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Contact Name\n                    </label>\n                    <input\n                      type=\"text\"\n                      name=\"emergency_name2\"\n                      defaultValue={\n                        editingEmployee.form_data?.emergencyContact2?.name || \"\"\n                      }\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Contact Phone\n                    </label>\n                    <input\n                      type=\"tel\"\n                      name=\"emergency_phone2\"\n                      defaultValue={\n                        editingEmployee.form_data?.emergencyContact2?.phone ||\n                        \"\"\n                      }\n                      maxLength=\"10\"\n                      pattern=\"[0-9]{10}\"\n                      placeholder=\"Enter 10 digit number\"\n                      onInput={(e) => {\n                        // Allow only numeric input and limit to 10 digits\n                        e.target.value = e.target.value\n                          .replace(/[^0-9]/g, \"\")\n                          .slice(0, 10);\n                      }}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Relationship\n                    </label>\n                    <input\n                      type=\"text\"\n                      name=\"emergency_relationship2\"\n                      defaultValue={\n                        editingEmployee.form_data?.emergencyContact2\n                          ?.relationship || \"\"\n                      }\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    />\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"flex justify-end space-x-3 pt-4\">\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setShowEditForm(false);\n                    setEditingEmployee(null);\n                    // Reset manager selections\n                    setSelectedManager1(\"\");\n                    setSelectedManager2(\"\");\n                    setSelectedManager3(\"\");\n                  }}\n                  className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700\"\n                >\n                  Update Employee\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default EmployeeFormManagement;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}