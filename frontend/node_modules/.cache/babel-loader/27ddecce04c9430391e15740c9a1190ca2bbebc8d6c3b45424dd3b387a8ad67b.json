{"ast":null,"code":"import React,{useState,useEffect,useCallback}from\"react\";import{useAuth}from\"../contexts/AuthContext\";import{useNavigate}from\"react-router-dom\";import{FaSignOutAlt,FaCalendarAlt,FaClock,FaHome,FaBed,FaArrowLeft}from\"react-icons/fa\";import{format}from\"date-fns\";import axios from\"axios\";import toast from\"react-hot-toast\";import AttendanceCalendar from\"./AttendanceCalendar\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AttendancePortal=()=>{const{logout}=useAuth();const navigate=useNavigate();const[currentDate,setCurrentDate]=useState(new Date());const[attendance,setAttendance]=useState([]);const[loading,setLoading]=useState(true);const[showAttendanceForm,setShowAttendanceForm]=useState(false);const[selectedDate,setSelectedDate]=useState(null);const fetchAttendance=useCallback(async()=>{try{const month=currentDate.getMonth()+1;const year=currentDate.getFullYear();console.log(\"ðŸ“Š Fetching attendance for:\",month,year);console.log(\"ðŸ” Axios headers:\",axios.defaults.headers.common);const response=await axios.get(\"http://localhost:5001/api/attendance/calendar?month=\".concat(month,\"&year=\").concat(year));console.log(\"âœ… Attendance data:\",response.data);setAttendance(response.data.calendar);}catch(error){var _error$response;console.error(\"âŒ Fetch attendance error:\",error);console.error(\"âŒ Error response:\",(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data);toast.error(\"Failed to fetch attendance data\");}finally{setLoading(false);}},[currentDate]);useEffect(()=>{fetchAttendance();},[fetchAttendance]);const handleMarkAttendance=async function(date,status){let reason=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"\";try{console.log(\"ðŸ” Current axios headers:\",axios.defaults.headers.common);console.log(\"ðŸ“… Marking attendance for:\",format(date,\"yyyy-MM-dd\"),status,reason);const response=await axios.post(\"http://localhost:5001/api/attendance/mark\",{date:format(date,\"yyyy-MM-dd\"),status,reason});console.log(\"âœ… Attendance response:\",response.data);toast.success(\"Attendance marked successfully!\");setShowAttendanceForm(false);setSelectedDate(null);// Refresh attendance data to show the update immediately\nfetchAttendance();}catch(error){var _error$response2,_error$response3,_error$response3$data;console.error(\"âŒ Attendance error:\",error);console.error(\"âŒ Error response:\",(_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.data);toast.error(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.error)||\"Failed to mark attendance\");}};const handleLogout=()=>{logout();};const getAttendanceForDate=date=>{const dateStr=format(date,\"yyyy-MM-dd\");return attendance.find(a=>{const apiDate=new Date(a.date);const apiDateStr=format(apiDate,\"yyyy-MM-dd\");return apiDateStr===dateStr;});};const isDateDisabled=date=>{const today=new Date();const todayStr=format(today,\"yyyy-MM-dd\");const dateStr=format(date,\"yyyy-MM-dd\");// Only allow marking attendance for today\nreturn dateStr!==todayStr;};const getStatusColor=status=>{switch(status){case\"Present\":return\"bg-success-500\";case\"Work From Home\":return\"bg-primary-500\";case\"Leave\":return\"bg-danger-500\";default:return\"bg-gray-300\";}};const getStatusIcon=status=>{switch(status){case\"Present\":return/*#__PURE__*/_jsx(FaClock,{className:\"w-4 h-4 text-white\"});case\"Work From Home\":return/*#__PURE__*/_jsx(FaHome,{className:\"w-4 h-4 text-white\"});case\"Leave\":return/*#__PURE__*/_jsx(FaBed,{className:\"w-4 h-4 text-white\"});default:return null;}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-white shadow-sm border-b\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center py-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate(-1),className:\"flex items-center text-gray-600 hover:text-gray-800 transition-colors duration-200 mr-4\",children:[/*#__PURE__*/_jsx(FaArrowLeft,{className:\"w-4 h-4 mr-2\"}),\"Back\"]}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Attendance Portal\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-4\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,className:\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors duration-200\",children:[/*#__PURE__*/_jsx(FaSignOutAlt,{className:\"mr-2\"}),\"Logout\"]})})]})})}),/*#__PURE__*/_jsxs(\"main\",{className:\"max-w-6xl mx-auto py-6 px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border p-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:\"Quick Actions\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{const today=new Date();const todayAttendance=getAttendanceForDate(today);if(todayAttendance){toast(\"Attendance already marked as \".concat(todayAttendance.status,\" for today\"),{icon:\"â„¹ï¸\",style:{background:\"#3b82f6\",color:\"white\"}});return;}setSelectedDate(today);setShowAttendanceForm(true);},className:\"btn-primary flex items-center\",children:[/*#__PURE__*/_jsx(FaCalendarAlt,{className:\"mr-2\"}),\"Mark Today's Attendance (\",format(new Date(),\"MMM dd\"),\")\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4 bg-success-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-success-100 rounded-full flex items-center justify-center mx-auto mb-2\",children:/*#__PURE__*/_jsx(FaClock,{className:\"w-6 h-6 text-success-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-success-800\",children:\"Present\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-success-600\",children:\"Mark as present\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4 bg-primary-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-2\",children:/*#__PURE__*/_jsx(FaHome,{className:\"w-6 h-6 text-primary-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-primary-800\",children:\"Work From Home\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-primary-600\",children:\"Mark as WFH\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4 bg-warning-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-warning-100 rounded-full flex items-center justify-center mx-auto mb-2\",children:/*#__PURE__*/_jsx(FaBed,{className:\"w-6 h-6 text-warning-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-warning-800\",children:\"Leave\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-warning-600\",children:\"Request leave\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:\"Attendance Calendar\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentDate(new Date(currentDate.getFullYear(),currentDate.getMonth()-1,1)),className:\"px-3 py-1 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors duration-200\",children:\"Previous\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-medium text-gray-900\",children:format(currentDate,\"MMMM yyyy\")}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentDate(new Date(currentDate.getFullYear(),currentDate.getMonth()+1,1)),className:\"px-3 py-1 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors duration-200\",children:\"Next\"})]})]}),/*#__PURE__*/_jsx(AttendanceCalendar,{currentDate:currentDate,attendance:attendance,onDateClick:date=>{if(!isDateDisabled(date)){setSelectedDate(date);setShowAttendanceForm(true);}},getAttendanceForDate:getAttendanceForDate,isDateDisabled:isDateDisabled,getStatusColor:getStatusColor,getStatusIcon:getStatusIcon})]}),showAttendanceForm&&selectedDate&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:[\"Mark Attendance for \",format(selectedDate,\"MMMM dd, yyyy\")]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleMarkAttendance(selectedDate,\"Present\"),className:\"w-full flex items-center justify-center px-4 py-2 bg-success-600 text-white rounded-lg hover:bg-success-700 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(FaClock,{className:\"mr-2\"}),\"Present\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleMarkAttendance(selectedDate,\"Work From Home\"),className:\"w-full flex items-center justify-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(FaHome,{className:\"mr-2\"}),\"Work From Home\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleMarkAttendance(selectedDate,\"Leave\",\"Personal leave\"),className:\"w-full flex items-center justify-center px-4 py-2 bg-warning-600 text-white rounded-lg hover:bg-warning-700 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(FaBed,{className:\"mr-2\"}),\"Leave\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowAttendanceForm(false);setSelectedDate(null);},className:\"w-full px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors duration-200\",children:\"Cancel\"})]})]})})})]})]});};export default AttendancePortal;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useAuth","useNavigate","FaSignOutAlt","FaCalendarAlt","FaClock","FaHome","FaBed","FaArrowLeft","format","axios","toast","AttendanceCalendar","jsx","_jsx","jsxs","_jsxs","AttendancePortal","logout","navigate","currentDate","setCurrentDate","Date","attendance","setAttendance","loading","setLoading","showAttendanceForm","setShowAttendanceForm","selectedDate","setSelectedDate","fetchAttendance","month","getMonth","year","getFullYear","console","log","defaults","headers","common","response","get","concat","data","calendar","error","_error$response","handleMarkAttendance","date","status","reason","arguments","length","undefined","post","success","_error$response2","_error$response3","_error$response3$data","handleLogout","getAttendanceForDate","dateStr","find","a","apiDate","apiDateStr","isDateDisabled","today","todayStr","getStatusColor","getStatusIcon","className","children","onClick","todayAttendance","icon","style","background","color","onDateClick"],"sources":["/Users/stalin_j/Downloads/test2/onboard/frontend/src/components/AttendancePortal.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n  FaSignOutAlt,\n  FaCalendarAlt,\n  FaClock,\n  FaHome,\n  FaBed,\n  FaArrowLeft,\n} from \"react-icons/fa\";\nimport { format } from \"date-fns\";\nimport axios from \"axios\";\nimport toast from \"react-hot-toast\";\nimport AttendanceCalendar from \"./AttendanceCalendar\";\n\nconst AttendancePortal = () => {\n  const { logout } = useAuth();\n  const navigate = useNavigate();\n  const [currentDate, setCurrentDate] = useState(new Date());\n  const [attendance, setAttendance] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showAttendanceForm, setShowAttendanceForm] = useState(false);\n  const [selectedDate, setSelectedDate] = useState(null);\n\n  const fetchAttendance = useCallback(async () => {\n    try {\n      const month = currentDate.getMonth() + 1;\n      const year = currentDate.getFullYear();\n\n      console.log(\"ðŸ“Š Fetching attendance for:\", month, year);\n      console.log(\"ðŸ” Axios headers:\", axios.defaults.headers.common);\n\n      const response = await axios.get(\n        `http://localhost:5001/api/attendance/calendar?month=${month}&year=${year}`\n      );\n      console.log(\"âœ… Attendance data:\", response.data);\n      setAttendance(response.data.calendar);\n    } catch (error) {\n      console.error(\"âŒ Fetch attendance error:\", error);\n      console.error(\"âŒ Error response:\", error.response?.data);\n      toast.error(\"Failed to fetch attendance data\");\n    } finally {\n      setLoading(false);\n    }\n  }, [currentDate]);\n\n  useEffect(() => {\n    fetchAttendance();\n  }, [fetchAttendance]);\n\n  const handleMarkAttendance = async (date, status, reason = \"\") => {\n    try {\n      console.log(\"ðŸ” Current axios headers:\", axios.defaults.headers.common);\n      console.log(\n        \"ðŸ“… Marking attendance for:\",\n        format(date, \"yyyy-MM-dd\"),\n        status,\n        reason\n      );\n\n      const response = await axios.post(\n        \"http://localhost:5001/api/attendance/mark\",\n        {\n          date: format(date, \"yyyy-MM-dd\"),\n          status,\n          reason,\n        }\n      );\n\n      console.log(\"âœ… Attendance response:\", response.data);\n      toast.success(\"Attendance marked successfully!\");\n      setShowAttendanceForm(false);\n      setSelectedDate(null);\n\n      // Refresh attendance data to show the update immediately\n      fetchAttendance();\n    } catch (error) {\n      console.error(\"âŒ Attendance error:\", error);\n      console.error(\"âŒ Error response:\", error.response?.data);\n      toast.error(error.response?.data?.error || \"Failed to mark attendance\");\n    }\n  };\n\n  const handleLogout = () => {\n    logout();\n  };\n\n  const getAttendanceForDate = (date) => {\n    const dateStr = format(date, \"yyyy-MM-dd\");\n    return attendance.find((a) => {\n      const apiDate = new Date(a.date);\n      const apiDateStr = format(apiDate, \"yyyy-MM-dd\");\n      return apiDateStr === dateStr;\n    });\n  };\n\n  const isDateDisabled = (date) => {\n    const today = new Date();\n    const todayStr = format(today, \"yyyy-MM-dd\");\n    const dateStr = format(date, \"yyyy-MM-dd\");\n\n    // Only allow marking attendance for today\n    return dateStr !== todayStr;\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case \"Present\":\n        return \"bg-success-500\";\n      case \"Work From Home\":\n        return \"bg-primary-500\";\n      case \"Leave\":\n        return \"bg-danger-500\";\n      default:\n        return \"bg-gray-300\";\n    }\n  };\n\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case \"Present\":\n        return <FaClock className=\"w-4 h-4 text-white\" />;\n      case \"Work From Home\":\n        return <FaHome className=\"w-4 h-4 text-white\" />;\n      case \"Leave\":\n        return <FaBed className=\"w-4 h-4 text-white\" />;\n      default:\n        return null;\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <header className=\"bg-white shadow-sm border-b\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center py-4\">\n            <div className=\"flex items-center\">\n              <button\n                onClick={() => navigate(-1)}\n                className=\"flex items-center text-gray-600 hover:text-gray-800 transition-colors duration-200 mr-4\"\n              >\n                <FaArrowLeft className=\"w-4 h-4 mr-2\" />\n                Back\n              </button>\n              <h1 className=\"text-2xl font-bold text-gray-900\">\n                Attendance Portal\n              </h1>\n            </div>\n            <div className=\"flex items-center space-x-4\">\n              <button\n                onClick={handleLogout}\n                className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors duration-200\"\n              >\n                <FaSignOutAlt className=\"mr-2\" />\n                Logout\n              </button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"max-w-6xl mx-auto py-6 px-4 sm:px-6 lg:px-8\">\n        {/* Quick Actions */}\n        <div className=\"bg-white rounded-lg shadow-sm border p-6 mb-6\">\n          <div className=\"flex justify-between items-center\">\n            <h2 className=\"text-xl font-semibold text-gray-900\">\n              Quick Actions\n            </h2>\n            <button\n              onClick={() => {\n                const today = new Date();\n                const todayAttendance = getAttendanceForDate(today);\n\n                if (todayAttendance) {\n                  toast(\n                    `Attendance already marked as ${todayAttendance.status} for today`,\n                    {\n                      icon: \"â„¹ï¸\",\n                      style: {\n                        background: \"#3b82f6\",\n                        color: \"white\",\n                      },\n                    }\n                  );\n                  return;\n                }\n\n                setSelectedDate(today);\n                setShowAttendanceForm(true);\n              }}\n              className=\"btn-primary flex items-center\"\n            >\n              <FaCalendarAlt className=\"mr-2\" />\n              Mark Today's Attendance ({format(new Date(), \"MMM dd\")})\n            </button>\n          </div>\n\n          <div className=\"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div className=\"text-center p-4 bg-success-50 rounded-lg\">\n              <div className=\"w-12 h-12 bg-success-100 rounded-full flex items-center justify-center mx-auto mb-2\">\n                <FaClock className=\"w-6 h-6 text-success-600\" />\n              </div>\n              <h3 className=\"font-medium text-success-800\">Present</h3>\n              <p className=\"text-sm text-success-600\">Mark as present</p>\n            </div>\n\n            <div className=\"text-center p-4 bg-primary-50 rounded-lg\">\n              <div className=\"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-2\">\n                <FaHome className=\"w-6 h-6 text-primary-600\" />\n              </div>\n              <h3 className=\"font-medium text-primary-800\">Work From Home</h3>\n              <p className=\"text-sm text-primary-600\">Mark as WFH</p>\n            </div>\n\n            <div className=\"text-center p-4 bg-warning-50 rounded-lg\">\n              <div className=\"w-12 h-12 bg-warning-100 rounded-full flex items-center justify-center mx-auto mb-2\">\n                <FaBed className=\"w-6 h-6 text-warning-600\" />\n              </div>\n              <h3 className=\"font-medium text-warning-800\">Leave</h3>\n              <p className=\"text-sm text-warning-600\">Request leave</p>\n            </div>\n          </div>\n        </div>\n\n        {/* Calendar View */}\n        <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n          <div className=\"flex justify-between items-center mb-6\">\n            <h2 className=\"text-xl font-semibold text-gray-900\">\n              Attendance Calendar\n            </h2>\n            <div className=\"flex items-center space-x-2\">\n              <button\n                onClick={() =>\n                  setCurrentDate(\n                    new Date(\n                      currentDate.getFullYear(),\n                      currentDate.getMonth() - 1,\n                      1\n                    )\n                  )\n                }\n                className=\"px-3 py-1 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors duration-200\"\n              >\n                Previous\n              </button>\n              <span className=\"text-lg font-medium text-gray-900\">\n                {format(currentDate, \"MMMM yyyy\")}\n              </span>\n              <button\n                onClick={() =>\n                  setCurrentDate(\n                    new Date(\n                      currentDate.getFullYear(),\n                      currentDate.getMonth() + 1,\n                      1\n                    )\n                  )\n                }\n                className=\"px-3 py-1 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors duration-200\"\n              >\n                Next\n              </button>\n            </div>\n          </div>\n\n          <AttendanceCalendar\n            currentDate={currentDate}\n            attendance={attendance}\n            onDateClick={(date) => {\n              if (!isDateDisabled(date)) {\n                setSelectedDate(date);\n                setShowAttendanceForm(true);\n              }\n            }}\n            getAttendanceForDate={getAttendanceForDate}\n            isDateDisabled={isDateDisabled}\n            getStatusColor={getStatusColor}\n            getStatusIcon={getStatusIcon}\n          />\n        </div>\n\n        {/* Attendance Form Modal */}\n        {showAttendanceForm && selectedDate && (\n          <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n            <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\n              <div className=\"mt-3\">\n                <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n                  Mark Attendance for {format(selectedDate, \"MMMM dd, yyyy\")}\n                </h3>\n\n                <div className=\"space-y-4\">\n                  <button\n                    onClick={() =>\n                      handleMarkAttendance(selectedDate, \"Present\")\n                    }\n                    className=\"w-full flex items-center justify-center px-4 py-2 bg-success-600 text-white rounded-lg hover:bg-success-700 transition-colors duration-200\"\n                  >\n                    <FaClock className=\"mr-2\" />\n                    Present\n                  </button>\n\n                  <button\n                    onClick={() =>\n                      handleMarkAttendance(selectedDate, \"Work From Home\")\n                    }\n                    className=\"w-full flex items-center justify-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors duration-200\"\n                  >\n                    <FaHome className=\"mr-2\" />\n                    Work From Home\n                  </button>\n\n                  <button\n                    onClick={() =>\n                      handleMarkAttendance(\n                        selectedDate,\n                        \"Leave\",\n                        \"Personal leave\"\n                      )\n                    }\n                    className=\"w-full flex items-center justify-center px-4 py-2 bg-warning-600 text-white rounded-lg hover:bg-warning-700 transition-colors duration-200\"\n                  >\n                    <FaBed className=\"mr-2\" />\n                    Leave\n                  </button>\n\n                  <button\n                    onClick={() => {\n                      setShowAttendanceForm(false);\n                      setSelectedDate(null);\n                    }}\n                    className=\"w-full px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors duration-200\"\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </main>\n    </div>\n  );\n};\n\nexport default AttendancePortal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}