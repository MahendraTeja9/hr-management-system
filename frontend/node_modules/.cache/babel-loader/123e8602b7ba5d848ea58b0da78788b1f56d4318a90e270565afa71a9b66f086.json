{"ast":null,"code":"var _jsxFileName = \"/Users/stalin_j/Downloads/test2/onboard/frontend/src/components/DocumentUploadSection.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { FaUpload, FaFile, FaFilePdf, FaFileWord, FaFileImage, FaTrash, FaCheck, FaExclamationTriangle, FaSave, FaPaperPlane, FaClock, FaArrowLeft } from \"react-icons/fa\";\nimport axios from \"axios\";\nimport toast from \"react-hot-toast\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DocumentUploadSection = ({\n  employeeId,\n  onDocumentsChange,\n  readOnly = false,\n  onStatusChange,\n  initialStatus = \"draft\",\n  onBack\n}) => {\n  _s();\n  const [requirements, setRequirements] = useState({});\n  const [uploadedDocuments, setUploadedDocuments] = useState({});\n  const [uploading, setUploading] = useState({});\n  const [validation, setValidation] = useState({});\n  const [formStatus, setFormStatus] = useState(initialStatus);\n  const [loading, setLoading] = useState(false);\n  const [requiredDocuments, setRequiredDocuments] = useState([]);\n  const [uploadedRequiredCount, setUploadedRequiredCount] = useState(0);\n  const fetchRequirements = useCallback(async () => {\n    try {\n      const response = await axios.get(`http://localhost:5001/api/documents/requirements`);\n      setRequirements(response.data);\n\n      // Extract required documents\n      const required = [];\n      Object.entries(response.data).forEach(([category, docs]) => {\n        docs.forEach(doc => {\n          if (doc.required) {\n            required.push({\n              type: doc.type,\n              category: category,\n              name: doc.name\n            });\n          }\n        });\n      });\n      setRequiredDocuments(required);\n    } catch (error) {\n      console.error(\"Error fetching requirements:\", error);\n      toast.error(\"Failed to load document requirements\");\n    }\n  }, []);\n  const fetchUploadedDocuments = useCallback(async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const response = await axios.get(`/documents/employee/${employeeId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setUploadedDocuments(response.data);\n\n      // Calculate uploaded required documents count\n      const uploadedTypes = new Set();\n      Object.values(response.data).flat().forEach(doc => {\n        uploadedTypes.add(doc.document_type);\n      });\n      const uploadedRequired = requiredDocuments.filter(doc => uploadedTypes.has(doc.type)).length;\n      setUploadedRequiredCount(uploadedRequired);\n\n      // Also fetch validation status\n      const validationResponse = await axios.get(`/documents/validation/${employeeId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setValidation(validationResponse.data.validation);\n    } catch (error) {\n      console.error(\"Error fetching uploaded documents:\", error);\n    }\n  }, [employeeId, requiredDocuments]);\n  const fetchFormStatus = useCallback(async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const response = await axios.get(`/employee/form-status`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setFormStatus(response.data.status);\n      if (onStatusChange) {\n        onStatusChange(response.data.status);\n      }\n    } catch (error) {\n      console.error(\"Error fetching form status:\", error);\n    }\n  }, [onStatusChange]);\n  useEffect(() => {\n    fetchRequirements();\n    if (employeeId) {\n      fetchUploadedDocuments();\n      fetchFormStatus();\n    }\n  }, [employeeId, fetchRequirements, fetchUploadedDocuments, fetchFormStatus]);\n  const handleFileUpload = async (documentType, documentCategory, files) => {\n    if (!files || files.length === 0) return;\n    setUploading(prev => ({\n      ...prev,\n      [documentType]: true\n    }));\n    try {\n      const formData = new FormData();\n      const documentTypes = [];\n      const documentCategories = [];\n      Array.from(files).forEach((file, index) => {\n        formData.append(\"documents\", file);\n        documentTypes.push(documentType);\n        documentCategories.push(documentCategory);\n      });\n      formData.append(\"documentTypes\", JSON.stringify(documentTypes));\n      formData.append(\"documentCategories\", JSON.stringify(documentCategories));\n      const token = localStorage.getItem(\"token\");\n      await axios.post(`/documents/upload/${employeeId}`, formData, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      toast.success(\"Documents uploaded successfully!\");\n      fetchUploadedDocuments();\n      if (onDocumentsChange) {\n        onDocumentsChange();\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error(\"Error uploading documents:\", error);\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || \"Failed to upload documents\");\n    } finally {\n      setUploading(prev => ({\n        ...prev,\n        [documentType]: false\n      }));\n    }\n  };\n  const handleSaveDraft = async () => {\n    setLoading(true);\n    try {\n      const token = localStorage.getItem(\"token\");\n      await axios.post(`/employee/save-draft`, {\n        employeeId,\n        documents: uploadedDocuments\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setFormStatus(\"draft\");\n      if (onStatusChange) {\n        onStatusChange(\"draft\");\n      }\n      toast.success(\"Draft saved successfully!\");\n    } catch (error) {\n      console.error(\"Error saving draft:\", error);\n      toast.error(\"Failed to save draft\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSubmitForm = async () => {\n    // Check if all required documents are uploaded\n    if (uploadedRequiredCount < requiredDocuments.length) {\n      toast.error(`Please upload all required documents. ${uploadedRequiredCount}/${requiredDocuments.length} uploaded.`);\n      return;\n    }\n    setLoading(true);\n    try {\n      const token = localStorage.getItem(\"token\");\n      await axios.post(`/employee/submit-form`, {\n        employeeId,\n        documents: uploadedDocuments\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setFormStatus(\"submitted\");\n      if (onStatusChange) {\n        onStatusChange(\"submitted\");\n      }\n      toast.success(\"Form submitted successfully!\");\n    } catch (error) {\n      console.error(\"Error submitting form:\", error);\n      toast.error(\"Failed to submit form\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleDeleteDocument = async documentId => {\n    if (!window.confirm(\"Are you sure you want to delete this document?\")) {\n      return;\n    }\n    try {\n      const token = localStorage.getItem(\"token\");\n      await axios.delete(`/documents/${documentId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      toast.success(\"Document deleted successfully!\");\n      fetchUploadedDocuments();\n      if (onDocumentsChange) {\n        onDocumentsChange();\n      }\n    } catch (error) {\n      console.error(\"Error deleting document:\", error);\n      toast.error(\"Failed to delete document\");\n    }\n  };\n  const getFileIcon = mimeType => {\n    if (mimeType !== null && mimeType !== void 0 && mimeType.includes(\"pdf\")) return /*#__PURE__*/_jsxDEV(FaFilePdf, {\n      className: \"text-red-500\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 14\n    }, this);\n    if (mimeType !== null && mimeType !== void 0 && mimeType.includes(\"word\") || mimeType !== null && mimeType !== void 0 && mimeType.includes(\"document\")) return /*#__PURE__*/_jsxDEV(FaFileWord, {\n      className: \"text-blue-500\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 14\n    }, this);\n    if (mimeType !== null && mimeType !== void 0 && mimeType.includes(\"image\")) return /*#__PURE__*/_jsxDEV(FaFileImage, {\n      className: \"text-green-500\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 14\n    }, this);\n    return /*#__PURE__*/_jsxDEV(FaFile, {\n      className: \"text-gray-500\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 12\n    }, this);\n  };\n  const formatFileSize = bytes => {\n    if (bytes === 0) return \"0 Bytes\";\n    const k = 1024;\n    const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\"];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + \" \" + sizes[i];\n  };\n  const renderDocumentSection = (category, categoryName) => {\n    const categoryRequirements = requirements[category] || [];\n    const categoryDocuments = uploadedDocuments[category] || [];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-gray-900 mb-4 flex items-center\",\n        children: [category === \"employment\" && /*#__PURE__*/_jsxDEV(FaBriefcase, {\n          className: \"mr-2 text-blue-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 13\n        }, this), category === \"education\" && /*#__PURE__*/_jsxDEV(FaGraduationCap, {\n          className: \"mr-2 text-green-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 13\n        }, this), category === \"identity\" && /*#__PURE__*/_jsxDEV(FaIdCard, {\n          className: \"mr-2 text-purple-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 13\n        }, this), categoryName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: categoryRequirements.map(requirement => {\n          var _validation$category;\n          const documentType = requirement.type;\n          const isRequired = requirement.required;\n          const allowMultiple = requirement.multiple;\n          const documentsOfType = categoryDocuments.filter(doc => doc.document_type === documentType);\n          const hasDocuments = documentsOfType.length > 0;\n          const validationInfo = (_validation$category = validation[category]) === null || _validation$category === void 0 ? void 0 : _validation$category.find(v => v.type === documentType);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `border rounded-lg p-4 ${isRequired ? hasDocuments ? \"border-green-200 bg-green-50\" : \"border-red-200 bg-red-50\" : \"border-gray-200\"}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-gray-900\",\n                  children: [requirement.name, isRequired ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-red-500 ml-1\",\n                    children: \"(Required)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 310,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-blue-500 ml-1\",\n                    children: \"(Optional)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 312,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 21\n                }, this), validationInfo && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ml-2\",\n                  children: validationInfo.isValid ? /*#__PURE__*/_jsxDEV(FaCheck, {\n                    className: \"text-green-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 318,\n                    columnNumber: 27\n                  }, this) : /*#__PURE__*/_jsxDEV(FaExclamationTriangle, {\n                    className: \"text-red-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 320,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2\",\n                children: [allowMultiple && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded\",\n                  children: \"Multiple files allowed\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 23\n                }, this), isRequired && !hasDocuments && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-red-500 bg-red-100 px-2 py-1 rounded\",\n                  children: \"Required\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 17\n            }, this), !readOnly && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-blue-400 transition-colors cursor-pointer\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"file\",\n                    multiple: allowMultiple,\n                    accept: \".pdf,.doc,.docx,.jpg,.jpeg,.png\",\n                    onChange: e => handleFileUpload(documentType, category, e.target.files),\n                    className: \"hidden\",\n                    disabled: uploading[documentType]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 344,\n                    columnNumber: 25\n                  }, this), uploading[documentType] ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600 mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 360,\n                      columnNumber: 29\n                    }, this), \"Uploading...\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 359,\n                    columnNumber: 27\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-center\",\n                    children: [/*#__PURE__*/_jsxDEV(FaUpload, {\n                      className: \"mr-2 text-gray-400\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 365,\n                      columnNumber: 29\n                    }, this), \"Click to upload or drag files here\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 364,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500 mt-1\",\n                children: \"Accepted formats: PDF, DOC, DOCX, JPG, PNG (Max 10MB per file)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 19\n            }, this), hasDocuments && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-sm font-medium text-gray-700\",\n                children: \"Uploaded Files:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 21\n              }, this), documentsOfType.map(document => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between bg-gray-50 p-3 rounded\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [getFileIcon(document.mime_type), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ml-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm font-medium text-gray-900\",\n                      children: document.file_name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 392,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs text-gray-500\",\n                      children: [formatFileSize(document.file_size), \" \\u2022 Uploaded\", \" \", new Date(document.uploaded_at).toLocaleDateString()]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 395,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 391,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => window.open(`/documents/download/${document.id}`, \"_blank\"),\n                    className: \"text-blue-600 hover:text-blue-800 text-sm\",\n                    children: \"Download\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 404,\n                    columnNumber: 27\n                  }, this), !readOnly && /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleDeleteDocument(document.id),\n                    className: \"text-red-600 hover:text-red-800\",\n                    children: /*#__PURE__*/_jsxDEV(FaTrash, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 420,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 416,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 403,\n                  columnNumber: 25\n                }, this)]\n              }, document.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 23\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 19\n            }, this), !hasDocuments && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `text-sm p-2 rounded ${isRequired ? \"text-red-600 bg-red-50\" : \"text-blue-600 bg-blue-50\"}`,\n              children: isRequired ? \"This document is required. Please upload it to proceed.\" : \"This document is optional. You can upload it later if needed.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 19\n            }, this)]\n          }, documentType, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this)]\n    }, category, true, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this);\n  };\n  if (Object.keys(requirements).length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-2 text-gray-500\",\n        children: \"Loading document requirements...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `border rounded-lg p-4 ${formStatus === \"submitted\" ? \"bg-green-50 border-green-200\" : \"bg-blue-50 border-blue-200\"}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-4\",\n          children: [onBack && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onBack,\n            className: \"flex items-center px-3 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-md transition-colors\",\n            title: \"Back to form\",\n            children: [/*#__PURE__*/_jsxDEV(FaArrowLeft, {\n              className: \"mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 17\n            }, this), \"Back to Form\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-semibold text-gray-900 mb-2\",\n              children: \"Document Upload\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: formStatus === \"submitted\" ? \"âœ… Form submitted successfully! Your documents are under review.\" : `ðŸ“„ Upload your required documents. ${uploadedRequiredCount}/${requiredDocuments.length} required documents uploaded.`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 15\n            }, this), formStatus === \"draft\" && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mt-1\",\n              children: \"You can save as draft and continue later, or submit when all required documents are uploaded.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [formStatus === \"draft\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSaveDraft,\n              disabled: loading,\n              className: \"flex items-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 disabled:opacity-50\",\n              children: [/*#__PURE__*/_jsxDEV(FaSave, {\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 506,\n                columnNumber: 19\n              }, this), \"Save Draft\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSubmitForm,\n              disabled: loading || uploadedRequiredCount < requiredDocuments.length,\n              className: \"flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50\",\n              children: [/*#__PURE__*/_jsxDEV(FaPaperPlane, {\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 516,\n                columnNumber: 19\n              }, this), \"Submit Form\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), formStatus === \"submitted\" && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center text-green-600\",\n            children: [/*#__PURE__*/_jsxDEV(FaCheck, {\n              className: \"mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 523,\n              columnNumber: 17\n            }, this), \"Submitted\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 522,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 7\n    }, this), formStatus === \"draft\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-100 rounded-lg p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm font-medium text-gray-700\",\n          children: \"Required Documents Progress\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 535,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-gray-500\",\n          children: [uploadedRequiredCount, \"/\", requiredDocuments.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full bg-gray-200 rounded-full h-2\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-green-600 h-2 rounded-full transition-all duration-300\",\n          style: {\n            width: `${uploadedRequiredCount / requiredDocuments.length * 100}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 542,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 533,\n      columnNumber: 9\n    }, this), requirements.employment && renderDocumentSection(\"employment\", \"Employment Documents\"), requirements.education && renderDocumentSection(\"education\", \"Education Documents\"), requirements.identity && renderDocumentSection(\"identity\", \"Identity Proof\")]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 460,\n    columnNumber: 5\n  }, this);\n};\n\n// Missing imports\n_s(DocumentUploadSection, \"LaMlxZTR06ymUsQsIXpuCNSB11s=\");\n_c = DocumentUploadSection;\nconst FaBriefcase = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(\"span\", {\n  className: className,\n  children: \"\\uD83D\\uDCBC\"\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 566,\n  columnNumber: 40\n}, this);\n_c2 = FaBriefcase;\nconst FaGraduationCap = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(\"span\", {\n  className: className,\n  children: \"\\uD83C\\uDF93\"\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 568,\n  columnNumber: 3\n}, this);\n_c3 = FaGraduationCap;\nconst FaIdCard = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(\"span\", {\n  className: className,\n  children: \"\\uD83C\\uDD94\"\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 570,\n  columnNumber: 37\n}, this);\n_c4 = FaIdCard;\nexport default DocumentUploadSection;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"DocumentUploadSection\");\n$RefreshReg$(_c2, \"FaBriefcase\");\n$RefreshReg$(_c3, \"FaGraduationCap\");\n$RefreshReg$(_c4, \"FaIdCard\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","FaUpload","FaFile","FaFilePdf","FaFileWord","FaFileImage","FaTrash","FaCheck","FaExclamationTriangle","FaSave","FaPaperPlane","FaClock","FaArrowLeft","axios","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","DocumentUploadSection","employeeId","onDocumentsChange","readOnly","onStatusChange","initialStatus","onBack","_s","requirements","setRequirements","uploadedDocuments","setUploadedDocuments","uploading","setUploading","validation","setValidation","formStatus","setFormStatus","loading","setLoading","requiredDocuments","setRequiredDocuments","uploadedRequiredCount","setUploadedRequiredCount","fetchRequirements","response","get","data","required","Object","entries","forEach","category","docs","doc","push","type","name","error","console","fetchUploadedDocuments","token","localStorage","getItem","headers","Authorization","uploadedTypes","Set","values","flat","add","document_type","uploadedRequired","filter","has","length","validationResponse","fetchFormStatus","status","handleFileUpload","documentType","documentCategory","files","prev","formData","FormData","documentTypes","documentCategories","Array","from","file","index","append","JSON","stringify","post","success","_error$response","_error$response$data","handleSaveDraft","documents","handleSubmitForm","handleDeleteDocument","documentId","window","confirm","delete","getFileIcon","mimeType","includes","className","fileName","_jsxFileName","lineNumber","columnNumber","formatFileSize","bytes","k","sizes","i","Math","floor","log","parseFloat","pow","toFixed","renderDocumentSection","categoryName","categoryRequirements","categoryDocuments","children","FaBriefcase","FaGraduationCap","FaIdCard","map","requirement","_validation$category","isRequired","allowMultiple","multiple","documentsOfType","hasDocuments","validationInfo","find","v","isValid","accept","onChange","e","target","disabled","document","mime_type","file_name","file_size","Date","uploaded_at","toLocaleDateString","onClick","open","id","keys","title","style","width","employment","education","identity","_c","_c2","_c3","_c4","$RefreshReg$"],"sources":["/Users/stalin_j/Downloads/test2/onboard/frontend/src/components/DocumentUploadSection.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport {\n  FaUpload,\n  FaFile,\n  FaFilePdf,\n  FaFileWord,\n  FaFileImage,\n  FaTrash,\n  FaCheck,\n  FaExclamationTriangle,\n  FaSave,\n  FaPaperPlane,\n  FaClock,\n  FaArrowLeft,\n} from \"react-icons/fa\";\nimport axios from \"axios\";\nimport toast from \"react-hot-toast\";\n\nconst DocumentUploadSection = ({\n  employeeId,\n  onDocumentsChange,\n  readOnly = false,\n  onStatusChange,\n  initialStatus = \"draft\",\n  onBack,\n}) => {\n  const [requirements, setRequirements] = useState({});\n  const [uploadedDocuments, setUploadedDocuments] = useState({});\n  const [uploading, setUploading] = useState({});\n  const [validation, setValidation] = useState({});\n  const [formStatus, setFormStatus] = useState(initialStatus);\n  const [loading, setLoading] = useState(false);\n  const [requiredDocuments, setRequiredDocuments] = useState([]);\n  const [uploadedRequiredCount, setUploadedRequiredCount] = useState(0);\n\n  const fetchRequirements = useCallback(async () => {\n    try {\n      const response = await axios.get(`http://localhost:5001/api/documents/requirements`);\n      setRequirements(response.data);\n\n      // Extract required documents\n      const required = [];\n      Object.entries(response.data).forEach(([category, docs]) => {\n        docs.forEach((doc) => {\n          if (doc.required) {\n            required.push({\n              type: doc.type,\n              category: category,\n              name: doc.name,\n            });\n          }\n        });\n      });\n      setRequiredDocuments(required);\n    } catch (error) {\n      console.error(\"Error fetching requirements:\", error);\n      toast.error(\"Failed to load document requirements\");\n    }\n  }, []);\n\n  const fetchUploadedDocuments = useCallback(async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const response = await axios.get(`/documents/employee/${employeeId}`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      setUploadedDocuments(response.data);\n\n      // Calculate uploaded required documents count\n      const uploadedTypes = new Set();\n      Object.values(response.data)\n        .flat()\n        .forEach((doc) => {\n          uploadedTypes.add(doc.document_type);\n        });\n\n      const uploadedRequired = requiredDocuments.filter((doc) =>\n        uploadedTypes.has(doc.type)\n      ).length;\n      setUploadedRequiredCount(uploadedRequired);\n\n      // Also fetch validation status\n      const validationResponse = await axios.get(\n        `/documents/validation/${employeeId}`,\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n      setValidation(validationResponse.data.validation);\n    } catch (error) {\n      console.error(\"Error fetching uploaded documents:\", error);\n    }\n  }, [employeeId, requiredDocuments]);\n\n  const fetchFormStatus = useCallback(async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const response = await axios.get(`/employee/form-status`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      setFormStatus(response.data.status);\n      if (onStatusChange) {\n        onStatusChange(response.data.status);\n      }\n    } catch (error) {\n      console.error(\"Error fetching form status:\", error);\n    }\n  }, [onStatusChange]);\n\n  useEffect(() => {\n    fetchRequirements();\n    if (employeeId) {\n      fetchUploadedDocuments();\n      fetchFormStatus();\n    }\n  }, [employeeId, fetchRequirements, fetchUploadedDocuments, fetchFormStatus]);\n\n  const handleFileUpload = async (documentType, documentCategory, files) => {\n    if (!files || files.length === 0) return;\n\n    setUploading((prev) => ({ ...prev, [documentType]: true }));\n\n    try {\n      const formData = new FormData();\n      const documentTypes = [];\n      const documentCategories = [];\n\n      Array.from(files).forEach((file, index) => {\n        formData.append(\"documents\", file);\n        documentTypes.push(documentType);\n        documentCategories.push(documentCategory);\n      });\n\n      formData.append(\"documentTypes\", JSON.stringify(documentTypes));\n      formData.append(\"documentCategories\", JSON.stringify(documentCategories));\n\n      const token = localStorage.getItem(\"token\");\n      await axios.post(`/documents/upload/${employeeId}`, formData, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"multipart/form-data\",\n        },\n      });\n\n      toast.success(\"Documents uploaded successfully!\");\n      fetchUploadedDocuments();\n\n      if (onDocumentsChange) {\n        onDocumentsChange();\n      }\n    } catch (error) {\n      console.error(\"Error uploading documents:\", error);\n      toast.error(error.response?.data?.error || \"Failed to upload documents\");\n    } finally {\n      setUploading((prev) => ({ ...prev, [documentType]: false }));\n    }\n  };\n\n  const handleSaveDraft = async () => {\n    setLoading(true);\n    try {\n      const token = localStorage.getItem(\"token\");\n      await axios.post(\n        `/employee/save-draft`,\n        {\n          employeeId,\n          documents: uploadedDocuments,\n        },\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        }\n      );\n\n      setFormStatus(\"draft\");\n      if (onStatusChange) {\n        onStatusChange(\"draft\");\n      }\n      toast.success(\"Draft saved successfully!\");\n    } catch (error) {\n      console.error(\"Error saving draft:\", error);\n      toast.error(\"Failed to save draft\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSubmitForm = async () => {\n    // Check if all required documents are uploaded\n    if (uploadedRequiredCount < requiredDocuments.length) {\n      toast.error(\n        `Please upload all required documents. ${uploadedRequiredCount}/${requiredDocuments.length} uploaded.`\n      );\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const token = localStorage.getItem(\"token\");\n      await axios.post(\n        `/employee/submit-form`,\n        {\n          employeeId,\n          documents: uploadedDocuments,\n        },\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        }\n      );\n\n      setFormStatus(\"submitted\");\n      if (onStatusChange) {\n        onStatusChange(\"submitted\");\n      }\n      toast.success(\"Form submitted successfully!\");\n    } catch (error) {\n      console.error(\"Error submitting form:\", error);\n      toast.error(\"Failed to submit form\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDeleteDocument = async (documentId) => {\n    if (!window.confirm(\"Are you sure you want to delete this document?\")) {\n      return;\n    }\n\n    try {\n      const token = localStorage.getItem(\"token\");\n      await axios.delete(`/documents/${documentId}`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n\n      toast.success(\"Document deleted successfully!\");\n      fetchUploadedDocuments();\n\n      if (onDocumentsChange) {\n        onDocumentsChange();\n      }\n    } catch (error) {\n      console.error(\"Error deleting document:\", error);\n      toast.error(\"Failed to delete document\");\n    }\n  };\n\n  const getFileIcon = (mimeType) => {\n    if (mimeType?.includes(\"pdf\"))\n      return <FaFilePdf className=\"text-red-500\" />;\n    if (mimeType?.includes(\"word\") || mimeType?.includes(\"document\"))\n      return <FaFileWord className=\"text-blue-500\" />;\n    if (mimeType?.includes(\"image\"))\n      return <FaFileImage className=\"text-green-500\" />;\n    return <FaFile className=\"text-gray-500\" />;\n  };\n\n  const formatFileSize = (bytes) => {\n    if (bytes === 0) return \"0 Bytes\";\n    const k = 1024;\n    const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\"];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + \" \" + sizes[i];\n  };\n\n  const renderDocumentSection = (category, categoryName) => {\n    const categoryRequirements = requirements[category] || [];\n    const categoryDocuments = uploadedDocuments[category] || [];\n\n    return (\n      <div key={category} className=\"mb-8\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n          {category === \"employment\" && (\n            <FaBriefcase className=\"mr-2 text-blue-600\" />\n          )}\n          {category === \"education\" && (\n            <FaGraduationCap className=\"mr-2 text-green-600\" />\n          )}\n          {category === \"identity\" && (\n            <FaIdCard className=\"mr-2 text-purple-600\" />\n          )}\n          {categoryName}\n        </h3>\n\n        <div className=\"space-y-4\">\n          {categoryRequirements.map((requirement) => {\n            const documentType = requirement.type;\n            const isRequired = requirement.required;\n            const allowMultiple = requirement.multiple;\n            const documentsOfType = categoryDocuments.filter(\n              (doc) => doc.document_type === documentType\n            );\n            const hasDocuments = documentsOfType.length > 0;\n            const validationInfo = validation[category]?.find(\n              (v) => v.type === documentType\n            );\n\n            return (\n              <div\n                key={documentType}\n                className={`border rounded-lg p-4 ${\n                  isRequired\n                    ? hasDocuments\n                      ? \"border-green-200 bg-green-50\"\n                      : \"border-red-200 bg-red-50\"\n                    : \"border-gray-200\"\n                }`}\n              >\n                <div className=\"flex items-center justify-between mb-3\">\n                  <div className=\"flex items-center\">\n                    <span className=\"font-medium text-gray-900\">\n                      {requirement.name}\n                      {isRequired ? (\n                        <span className=\"text-red-500 ml-1\">(Required)</span>\n                      ) : (\n                        <span className=\"text-blue-500 ml-1\">(Optional)</span>\n                      )}\n                    </span>\n                    {validationInfo && (\n                      <span className=\"ml-2\">\n                        {validationInfo.isValid ? (\n                          <FaCheck className=\"text-green-500\" />\n                        ) : (\n                          <FaExclamationTriangle className=\"text-red-500\" />\n                        )}\n                      </span>\n                    )}\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    {allowMultiple && (\n                      <span className=\"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded\">\n                        Multiple files allowed\n                      </span>\n                    )}\n                    {isRequired && !hasDocuments && (\n                      <span className=\"text-xs text-red-500 bg-red-100 px-2 py-1 rounded\">\n                        Required\n                      </span>\n                    )}\n                  </div>\n                </div>\n\n                {/* Upload Area */}\n                {!readOnly && (\n                  <div className=\"mb-3\">\n                    <label className=\"block\">\n                      <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-blue-400 transition-colors cursor-pointer\">\n                        <input\n                          type=\"file\"\n                          multiple={allowMultiple}\n                          accept=\".pdf,.doc,.docx,.jpg,.jpeg,.png\"\n                          onChange={(e) =>\n                            handleFileUpload(\n                              documentType,\n                              category,\n                              e.target.files\n                            )\n                          }\n                          className=\"hidden\"\n                          disabled={uploading[documentType]}\n                        />\n                        {uploading[documentType] ? (\n                          <div className=\"flex items-center justify-center\">\n                            <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600 mr-2\"></div>\n                            Uploading...\n                          </div>\n                        ) : (\n                          <div className=\"flex items-center justify-center\">\n                            <FaUpload className=\"mr-2 text-gray-400\" />\n                            Click to upload or drag files here\n                          </div>\n                        )}\n                      </div>\n                    </label>\n                    <p className=\"text-xs text-gray-500 mt-1\">\n                      Accepted formats: PDF, DOC, DOCX, JPG, PNG (Max 10MB per\n                      file)\n                    </p>\n                  </div>\n                )}\n\n                {/* Uploaded Documents */}\n                {hasDocuments && (\n                  <div className=\"space-y-2\">\n                    <h4 className=\"text-sm font-medium text-gray-700\">\n                      Uploaded Files:\n                    </h4>\n                    {documentsOfType.map((document) => (\n                      <div\n                        key={document.id}\n                        className=\"flex items-center justify-between bg-gray-50 p-3 rounded\"\n                      >\n                        <div className=\"flex items-center\">\n                          {getFileIcon(document.mime_type)}\n                          <div className=\"ml-3\">\n                            <p className=\"text-sm font-medium text-gray-900\">\n                              {document.file_name}\n                            </p>\n                            <p className=\"text-xs text-gray-500\">\n                              {formatFileSize(document.file_size)} â€¢ Uploaded{\" \"}\n                              {new Date(\n                                document.uploaded_at\n                              ).toLocaleDateString()}\n                            </p>\n                          </div>\n                        </div>\n                        <div className=\"flex items-center space-x-2\">\n                          <button\n                            onClick={() =>\n                              window.open(\n                                `/documents/download/${document.id}`,\n                                \"_blank\"\n                              )\n                            }\n                            className=\"text-blue-600 hover:text-blue-800 text-sm\"\n                          >\n                            Download\n                          </button>\n                          {!readOnly && (\n                            <button\n                              onClick={() => handleDeleteDocument(document.id)}\n                              className=\"text-red-600 hover:text-red-800\"\n                            >\n                              <FaTrash className=\"w-4 h-4\" />\n                            </button>\n                          )}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n\n                {!hasDocuments && (\n                  <div\n                    className={`text-sm p-2 rounded ${\n                      isRequired\n                        ? \"text-red-600 bg-red-50\"\n                        : \"text-blue-600 bg-blue-50\"\n                    }`}\n                  >\n                    {isRequired\n                      ? \"This document is required. Please upload it to proceed.\"\n                      : \"This document is optional. You can upload it later if needed.\"}\n                  </div>\n                )}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  };\n\n  if (Object.keys(requirements).length === 0) {\n    return (\n      <div className=\"text-center py-8\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"></div>\n        <p className=\"mt-2 text-gray-500\">Loading document requirements...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Status Header */}\n      <div\n        className={`border rounded-lg p-4 ${\n          formStatus === \"submitted\"\n            ? \"bg-green-50 border-green-200\"\n            : \"bg-blue-50 border-blue-200\"\n        }`}\n      >\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-4\">\n            {onBack && (\n              <button\n                onClick={onBack}\n                className=\"flex items-center px-3 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-md transition-colors\"\n                title=\"Back to form\"\n              >\n                <FaArrowLeft className=\"mr-2\" />\n                Back to Form\n              </button>\n            )}\n            <div>\n              <h2 className=\"text-lg font-semibold text-gray-900 mb-2\">\n                Document Upload\n              </h2>\n              <p className=\"text-sm text-gray-600\">\n                {formStatus === \"submitted\"\n                  ? \"âœ… Form submitted successfully! Your documents are under review.\"\n                  : `ðŸ“„ Upload your required documents. ${uploadedRequiredCount}/${requiredDocuments.length} required documents uploaded.`}\n              </p>\n              {formStatus === \"draft\" && (\n                <p className=\"text-xs text-gray-500 mt-1\">\n                  You can save as draft and continue later, or submit when all\n                  required documents are uploaded.\n                </p>\n              )}\n            </div>\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            {formStatus === \"draft\" && (\n              <>\n                <button\n                  onClick={handleSaveDraft}\n                  disabled={loading}\n                  className=\"flex items-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 disabled:opacity-50\"\n                >\n                  <FaSave className=\"mr-2\" />\n                  Save Draft\n                </button>\n                <button\n                  onClick={handleSubmitForm}\n                  disabled={\n                    loading || uploadedRequiredCount < requiredDocuments.length\n                  }\n                  className=\"flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50\"\n                >\n                  <FaPaperPlane className=\"mr-2\" />\n                  Submit Form\n                </button>\n              </>\n            )}\n            {formStatus === \"submitted\" && (\n              <div className=\"flex items-center text-green-600\">\n                <FaCheck className=\"mr-2\" />\n                Submitted\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Progress Bar */}\n      {formStatus === \"draft\" && (\n        <div className=\"bg-gray-100 rounded-lg p-4\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <span className=\"text-sm font-medium text-gray-700\">\n              Required Documents Progress\n            </span>\n            <span className=\"text-sm text-gray-500\">\n              {uploadedRequiredCount}/{requiredDocuments.length}\n            </span>\n          </div>\n          <div className=\"w-full bg-gray-200 rounded-full h-2\">\n            <div\n              className=\"bg-green-600 h-2 rounded-full transition-all duration-300\"\n              style={{\n                width: `${\n                  (uploadedRequiredCount / requiredDocuments.length) * 100\n                }%`,\n              }}\n            ></div>\n          </div>\n        </div>\n      )}\n\n      {requirements.employment &&\n        renderDocumentSection(\"employment\", \"Employment Documents\")}\n      {requirements.education &&\n        renderDocumentSection(\"education\", \"Education Documents\")}\n      {requirements.identity &&\n        renderDocumentSection(\"identity\", \"Identity Proof\")}\n    </div>\n  );\n};\n\n// Missing imports\nconst FaBriefcase = ({ className }) => <span className={className}>ðŸ’¼</span>;\nconst FaGraduationCap = ({ className }) => (\n  <span className={className}>ðŸŽ“</span>\n);\nconst FaIdCard = ({ className }) => <span className={className}>ðŸ†”</span>;\n\nexport default DocumentUploadSection;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}