{"ast":null,"code":"import _objectSpread from\"/Users/stalin_j/Downloads/test2/onboard/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{FaPlus,FaFileAlt,FaSync}from\"react-icons/fa\";import toast from\"react-hot-toast\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HRDocumentCollection=()=>{const[documents,setDocuments]=useState([]);const[employees,setEmployees]=useState([]);const[templates,setTemplates]=useState([]);const[employeeForms,setEmployeeForms]=useState([]);const[loading,setLoading]=useState(true);const[showAddModal,setShowAddModal]=useState(false);const[showBulkAddModal,setShowBulkAddModal]=useState(false);const[editingDocument,setEditingDocument]=useState(null);const[showStatusModal,setShowStatusModal]=useState(false);const[selectedDocument,setSelectedDocument]=useState(null);const[filters,setFilters]=useState({status:\"\",documentType:\"\",department:\"\",formStatus:\"\",employmentType:\"\",searchTerm:\"\"});// Pagination state\nconst[currentPage,setCurrentPage]=useState(1);const[employeesPerPage]=useState(5);// Form states\nconst[formData,setFormData]=useState({employee_id:\"\",employee_name:\"\",emp_id:\"\",department:\"\",join_date:\"\",due_date:\"\",document_name:\"\",document_type:\"Required\",notes:\"\"});const[bulkFormData,setBulkFormData]=useState({employee_id:\"\",employee_name:\"\",emp_id:\"\",department:\"\",join_date:\"\",due_date:\"\",selectedDocuments:[]});useEffect(()=>{fetchData();},[]);const fetchData=async()=>{try{var _documentsRes$data$do,_employeesRes$data$em,_formsRes$data$forms;setLoading(true);const[documentsRes,employeesRes,requirementsRes,formsRes]=await Promise.all([axios.get(\"/hr/document-collection\"),axios.get(\"/hr/master\"),axios.get(\"/documents/requirements\"),// Get actual onboarding form documents\naxios.get(\"/hr/approved-employee-forms\")// Use approved employee forms only\n]);console.log(\"ðŸ” Document Collection Data:\",{documents:((_documentsRes$data$do=documentsRes.data.documents)===null||_documentsRes$data$do===void 0?void 0:_documentsRes$data$do.length)||0,employees:((_employeesRes$data$em=employeesRes.data.employees)===null||_employeesRes$data$em===void 0?void 0:_employeesRes$data$em.length)||0,requirements:requirementsRes.data,forms:((_formsRes$data$forms=formsRes.data.forms)===null||_formsRes$data$forms===void 0?void 0:_formsRes$data$forms.length)||0,formsData:formsRes.data.forms});// Convert requirements to templates format for compatibility\nconst onboardingTemplates=[];Object.entries(requirementsRes.data).forEach(_ref=>{let[category,documents]=_ref;documents.forEach((doc,index)=>{onboardingTemplates.push({id:\"\".concat(category,\"_\").concat(doc.type),document_name:doc.name,document_type:doc.type,category:category,is_required:doc.required,is_active:true});});});setDocuments(documentsRes.data.documents||[]);setEmployees(employeesRes.data.employees||[]);setTemplates(onboardingTemplates);// Use only onboarding form documents\nsetEmployeeForms(formsRes.data.forms||[]);}catch(error){console.error(\"Error fetching data:\",error);toast.error(\"Failed to fetch document collection data\");}finally{setLoading(false);}};const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleBulkInputChange=e=>{const{name,value}=e.target;setBulkFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleEmployeeSelect=employeeId=>{const employee=employees.find(emp=>emp.id===parseInt(employeeId));if(employee){setFormData(_objectSpread(_objectSpread({},formData),{},{employee_id:employee.id,employee_name:employee.employee_name,emp_id:employee.employee_id,department:employee.department||\"\",join_date:employee.doj||\"\"}));}};const handleBulkEmployeeSelect=employeeId=>{const employee=employees.find(emp=>emp.id===parseInt(employeeId));if(employee){setBulkFormData(_objectSpread(_objectSpread({},bulkFormData),{},{employee_id:employee.id,employee_name:employee.employee_name,emp_id:employee.employee_id,department:employee.department||\"\",join_date:employee.doj||\"\"}));}};const handleDocumentToggle=templateId=>{const template=templates.find(t=>t.id===templateId);setBulkFormData(prev=>{const isSelected=prev.selectedDocuments.some(doc=>doc.id===templateId);if(isSelected){return _objectSpread(_objectSpread({},prev),{},{selectedDocuments:prev.selectedDocuments.filter(doc=>doc.id!==templateId)});}else{return _objectSpread(_objectSpread({},prev),{},{selectedDocuments:[...prev.selectedDocuments,template]});}});};const handleSubmit=async e=>{e.preventDefault();try{await axios.post(\"/hr/document-collection\",formData);toast.success(\"Document collection record created successfully\");setShowAddModal(false);setFormData({employee_id:\"\",employee_name:\"\",emp_id:\"\",department:\"\",join_date:\"\",due_date:\"\",document_name:\"\",document_type:\"Required\",notes:\"\"});fetchData();}catch(error){var _error$response,_error$response$data;console.error(\"Error creating document record:\",error);toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||\"Failed to create document record\");}};const handleBulkSubmit=async e=>{e.preventDefault();if(bulkFormData.selectedDocuments.length===0){toast.error(\"Please select at least one document\");return;}try{const documents=bulkFormData.selectedDocuments.map(doc=>({document_name:doc.document_name,document_type:doc.document_type,notes:doc.description}));await axios.post(\"/hr/document-collection/bulk\",_objectSpread(_objectSpread({},bulkFormData),{},{documents}));toast.success(\"Document collection records created successfully\");setShowBulkAddModal(false);setBulkFormData({employee_id:\"\",employee_name:\"\",emp_id:\"\",department:\"\",join_date:\"\",due_date:\"\",selectedDocuments:[]});fetchData();}catch(error){var _error$response2,_error$response2$data;console.error(\"Error creating bulk document records:\",error);toast.error(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||\"Failed to create document records\");}};const handleStatusUpdate=async(documentId,newStatus)=>{try{console.log(\"ðŸ” Updating document status:\",{documentId,newStatus});await axios.put(\"/hr/document-collection/\".concat(documentId),{status:newStatus});toast.success(\"Document status updated successfully\");setShowStatusModal(false);setSelectedDocument(null);fetchData();}catch(error){console.error(\"Error updating document status:\",error);toast.error(\"Failed to update document status\");}};const openStatusModal=document=>{console.log(\"ðŸ” Opening status modal for document:\",document);setSelectedDocument(document);setShowStatusModal(true);};const handleSyncDocuments=async()=>{try{const response=await axios.post(\"/hr/sync-document-collection\");toast.success(response.data.message);fetchData();// Refresh the data\n}catch(error){console.error(\"Sync documents error:\",error);toast.error(\"Failed to sync document collection\");}};const getStatusBadge=status=>{const baseClasses=\"px-2 py-1 rounded-full text-xs font-medium\";switch(status){case\"Received\":return\"\".concat(baseClasses,\" bg-green-100 text-green-800\");case\"Pending\":return\"\".concat(baseClasses,\" bg-orange-100 text-orange-800\");case\"Uploaded\":return\"\".concat(baseClasses,\" bg-green-100 text-green-800\");case\"Not Uploaded\":return\"\".concat(baseClasses,\" bg-orange-100 text-orange-800\");case\"Follow-Up\":return\"\".concat(baseClasses,\" bg-blue-100 text-blue-800\");case\"N/A\":return\"\".concat(baseClasses,\" bg-gray-100 text-gray-800\");default:return\"\".concat(baseClasses,\" bg-gray-100 text-gray-800\");}};const getStatusText=status=>{switch(status){case\"Received\":return\"text-green-600\";case\"Pending\":return\"text-orange-600\";case\"Uploaded\":return\"text-green-600\";case\"Not Uploaded\":return\"text-orange-600\";case\"Follow-Up\":return\"text-blue-600\";case\"N/A\":return\"text-gray-600\";default:return\"text-gray-600\";}};const getTypeBadge=type=>{const baseClasses=\"px-2 py-1 rounded-full text-xs font-medium\";switch(type){case\"Required\":return\"\".concat(baseClasses,\" bg-orange-100 text-orange-800\");case\"Optional\":return\"\".concat(baseClasses,\" bg-purple-100 text-purple-800\");default:return\"\".concat(baseClasses,\" bg-gray-100 text-gray-800\");}};// Group employees by form submission status\n// Show only approved employees (who have been moved to onboarded_employees) with their document collection status\nconsole.log(\"ðŸ” Processing employee forms for grouping:\",employeeForms.length);const groupedEmployees=employeeForms.reduce((acc,form)=>{var _form$form_data,_form$form_data2,_form$form_data3,_form$form_data4,_form$form_data5,_form$form_data6,_form$form_data7,_form$form_data8;const key=\"\".concat(form.employee_id,\"-\").concat(form.first_name,\" \").concat(form.last_name);// Find corresponding employee master data\nconst employeeMaster=employees.find(emp=>emp.id===form.employee_id);// Find documents for this employee\nconst employeeDocuments=documents.filter(doc=>doc.employee_id===form.employee_id);// Get employment type for filtering\nconst employmentType=form.employee_type||((_form$form_data=form.form_data)===null||_form$form_data===void 0?void 0:_form$form_data.employmentType)||\"\";// All employees from approved-employee-forms endpoint are already approved\n// No need to filter by status\n// Now all documents shown are from the onboarding form, no need to filter by employment type\nconst requiredDocuments=templates.map(template=>template.document_name);// Create a complete list of required documents for this employment type\n// This ensures we show all required documents even if they don't exist in collection yet\nconst completeDocumentList=requiredDocuments.map(docName=>{// Find if this document exists in the collection\nconst existingDoc=employeeDocuments.find(doc=>doc.document_name===docName);if(existingDoc){return existingDoc;}else{// Create a placeholder document for missing required documents\nreturn{id:\"placeholder-\".concat(docName),employee_id:form.employee_id,document_name:docName,document_type:\"Required\",// Default to Required\nstatus:\"Pending\",effective_status:\"Pending\",uploaded_file_url:null,created_at:null,updated_at:null,is_placeholder:true// Flag to identify placeholder documents\n};}});const filteredDocuments=completeDocumentList;// Debug logging for intern employees\nif(employmentType===\"Intern\"){console.log(\"\\uD83D\\uDD0D Intern Employee \".concat(form.employee_id,\" Debug:\"),{employeeId:form.employee_id,employmentType:employmentType,totalEmployeeDocuments:employeeDocuments.length,requiredDocuments:requiredDocuments,completeDocumentList:completeDocumentList.length,filteredDocuments:filteredDocuments.length});}// Deduplicate documents by document_name, keeping the one with the best status\nconst documentMap=new Map();filteredDocuments.forEach(doc=>{const existingDoc=documentMap.get(doc.document_name);const currentStatus=doc.uploaded_file_url?\"Received\":doc.status||\"Pending\";if(!existingDoc){documentMap.set(doc.document_name,doc);}else{// If existing document has \"Pending\" status and current has \"Received\", replace it\nconst existingStatus=existingDoc.uploaded_file_url?\"Received\":existingDoc.status||\"Pending\";if(existingStatus===\"Pending\"&&currentStatus===\"Received\"){documentMap.set(doc.document_name,doc);}}});// Create document status mapping - use effective_status from backend or fallback to calculated status\nconst documentsWithStatus=Array.from(documentMap.values()).map(doc=>{// Use effective_status from backend if available, otherwise calculate it\nlet displayStatus;if(doc.effective_status){displayStatus=doc.effective_status;}else{// Map backend statuses to frontend display statuses\nif(doc.status===\"Uploaded\"||doc.status===\"Received\"){displayStatus=\"Received\";}else if(doc.status===\"Not Uploaded\"||doc.status===\"Pending\"){displayStatus=\"Pending\";}else{// Fallback calculation\nconst hasUploadedFile=doc.uploaded_file_url;if(hasUploadedFile){displayStatus=\"Received\";}else{displayStatus=\"Pending\";}}}return _objectSpread(_objectSpread({},doc),{},{display_status:displayStatus});});acc[key]={employee_id:form.employee_id,employee_name:\"\".concat(form.first_name,\" \").concat(form.last_name),emp_id:form.assigned_employee_id||(employeeMaster===null||employeeMaster===void 0?void 0:employeeMaster.employee_id)||\"N/A\",department:(employeeMaster===null||employeeMaster===void 0?void 0:employeeMaster.department)||\"N/A\",join_date:((_form$form_data2=form.form_data)===null||_form$form_data2===void 0?void 0:_form$form_data2.doj)||(employeeMaster===null||employeeMaster===void 0?void 0:employeeMaster.doj)||\"N/A\",due_date:filteredDocuments.length>0?filteredDocuments[0].due_date:\"N/A\",// Complete Employee form details\nform_status:form.status||\"Not Submitted\",employment_type:form.employee_type||((_form$form_data3=form.form_data)===null||_form$form_data3===void 0?void 0:_form$form_data3.employmentType)||(employeeMaster===null||employeeMaster===void 0?void 0:employeeMaster.type)||\"Not Specified\",form_submitted_at:form.submitted_at||null,assigned_manager:form.assigned_manager||\"Not assigned\",user_email:form.user_email||\"N/A\",// All form details from employee form\nfirst_name:form.first_name||\"\",last_name:form.last_name||\"\",phone:((_form$form_data4=form.form_data)===null||_form$form_data4===void 0?void 0:_form$form_data4.phone)||\"\",address:((_form$form_data5=form.form_data)===null||_form$form_data5===void 0?void 0:_form$form_data5.address)||\"\",education:((_form$form_data6=form.form_data)===null||_form$form_data6===void 0?void 0:_form$form_data6.education)||\"\",experience:((_form$form_data7=form.form_data)===null||_form$form_data7===void 0?void 0:_form$form_data7.experience)||\"\",emergency_contact:((_form$form_data8=form.form_data)===null||_form$form_data8===void 0?void 0:_form$form_data8.emergencyContact)||{},// Form submission details\nsubmitted_at:form.submitted_at||null,updated_at:form.updated_at||null,reviewed_by:form.reviewed_by||null,reviewed_at:form.reviewed_at||null,review_notes:form.reviewed_notes||null,// Document collection status with proper status mapping\ndocuments:documentsWithStatus,total_documents:documentsWithStatus.length,submitted_documents:documentsWithStatus.filter(doc=>doc.display_status===\"Received\").length,pending_documents:documentsWithStatus.filter(doc=>doc.display_status===\"Pending\").length};return acc;},{});console.log(\"ðŸ” Grouped employees result:\",{totalGrouped:Object.keys(groupedEmployees).length,groupedKeys:Object.keys(groupedEmployees),sampleGroup:Object.values(groupedEmployees)[0]});const filteredGroupedEmployees=Object.values(groupedEmployees).filter(group=>{// Check form status filter\nconst matchesFormStatus=!filters.formStatus||group.form_status===filters.formStatus;// Check employment type filter\nconst matchesEmploymentType=!filters.employmentType||group.employment_type===filters.employmentType;// Check department filter\nconst matchesDepartment=!filters.department||group.department===filters.department;// Check search filter\nconst matchesSearch=!filters.searchTerm||group.employee_name.toLowerCase().includes(filters.searchTerm.toLowerCase())||group.user_email.toLowerCase().includes(filters.searchTerm.toLowerCase())||group.emp_id.toLowerCase().includes(filters.searchTerm.toLowerCase());// Check document status filter - if status filter is applied, only show employees who have documents with that status\nconst hasMatchingDocument=(()=>{// If no status filter is applied (All Status), show all employees\nif(!filters.status){return true;}// If status filter is applied, only show employees who have documents with matching status\nreturn group.documents.some(doc=>{const matchesStatus=doc.display_status===filters.status;const matchesType=!filters.documentType||doc.document_type===filters.documentType;return matchesStatus&&matchesType;});})();return matchesFormStatus&&matchesEmploymentType&&matchesDepartment&&matchesSearch&&hasMatchingDocument;});// Pagination calculations\nconst indexOfLastEmployee=currentPage*employeesPerPage;const indexOfFirstEmployee=indexOfLastEmployee-employeesPerPage;const currentEmployees=filteredGroupedEmployees.slice(indexOfFirstEmployee,indexOfLastEmployee);const totalPages=Math.ceil(filteredGroupedEmployees.length/employeesPerPage);// Reset to first page when filters change\nuseEffect(()=>{setCurrentPage(1);},[filters]);const departments=[...new Set(employees.map(emp=>emp.department).filter(Boolean))];if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center py-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between items-center\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"HR Document Collection - Complete Employee Form Details\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-5 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Search\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Employee name, email, or ID...\",value:filters.searchTerm,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{searchTerm:e.target.value})),className:\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Document Status\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.status,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{status:e.target.value})),className:\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Pending\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Received\",children:\"Received\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Not Uploaded\",children:\"Not Uploaded\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Uploaded\",children:\"Uploaded\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Document Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.documentType,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{documentType:e.target.value})),className:\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Types\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Required\",children:\"Required\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Optional\",children:\"Optional\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Employment Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.employmentType,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{employmentType:e.target.value})),className:\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Types\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Full-Time\",children:\"Full-Time\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Intern\",children:\"Intern\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Contract\",children:\"Contract\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Manager\",children:\"Manager\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Form Status\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.formStatus,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{formStatus:e.target.value})),className:\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"approved\",children:\"Approved\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pending\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"rejected\",children:\"Rejected\"}),/*#__PURE__*/_jsx(\"option\",{value:\"submitted\",children:\"Submitted\"})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",style:{maxWidth:\"100%\"},children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full border border-gray-300\",style:{tableLayout:\"fixed\"},children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-blue-800\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider border border-gray-400 sticky left-0 z-10 bg-blue-800\",style:{width:\"200px\",minWidth:\"200px\"},children:\"Employee Details\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider border border-gray-400\",style:{width:\"120px\",minWidth:\"120px\"},children:\"Join Date\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider border border-gray-400\",style:{width:\"140px\",minWidth:\"140px\"},children:\"Form Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider border border-gray-400\",style:{width:\"120px\",minWidth:\"120px\"},children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider border border-gray-400\",style:{width:\"120px\",minWidth:\"120px\"},children:\"Submitted\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider border border-gray-400\",style:{width:\"150px\",minWidth:\"150px\"},children:\"Document Summary\"}),templates.map(template=>/*#__PURE__*/_jsxs(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider border border-gray-400\",style:{width:\"180px\",minWidth:\"180px\"},children:[template.document_name,template.is_required&&\"*\"]},template.id))]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white\",children:currentEmployees.map((group,groupIndex)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 border border-gray-300 sticky left-0 z-10 bg-white shadow-sm\",style:{width:\"200px\",minWidth:\"200px\"},children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-900 font-medium\",children:group.user_email}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-500 text-xs\",children:[group.first_name,\" \",group.last_name]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 border border-gray-300\",style:{width:\"120px\",minWidth:\"120px\"},children:group.join_date&&group.join_date!==\"N/A\"?new Date(group.join_date).toISOString().split(\"T\")[0]:\"N/A\"}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 border border-gray-300\",style:{width:\"140px\",minWidth:\"140px\"},children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs font-medium \".concat(group.form_status===\"approved\"?\"bg-green-100 text-green-800\":group.form_status===\"pending\"?\"bg-orange-100 text-orange-800\":group.form_status===\"rejected\"?\"bg-red-100 text-red-800\":\"bg-gray-100 text-gray-800\"),children:group.form_status===\"approved\"?\"Form Approved\":group.form_status===\"pending\"?\"Form Pending\":group.form_status===\"rejected\"?\"Form Rejected\":\"Not Submitted\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 border border-gray-300\",style:{width:\"120px\",minWidth:\"120px\"},children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs font-medium \".concat(group.employment_type===\"Full-Time\"?\"bg-purple-100 text-purple-800\":group.employment_type===\"Intern\"?\"bg-blue-100 text-blue-800\":group.employment_type===\"Contract\"?\"bg-orange-100 text-orange-800\":\"bg-gray-100 text-gray-800\"),children:group.employment_type||\"Not Specified\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 border border-gray-300\",style:{width:\"120px\",minWidth:\"120px\"},children:group.form_submitted_at?new Date(group.form_submitted_at).toLocaleDateString(\"en-US\",{month:\"numeric\",day:\"numeric\",year:\"numeric\"}):\"Not submitted\"}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 border border-gray-300\",style:{width:\"150px\",minWidth:\"150px\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-medium text-gray-900\",children:[group.submitted_documents,\"/\",group.total_documents,\" \",\"Submitted\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-500\",children:[group.pending_documents,\" Pending\"]})]})}),templates.map(template=>{// Find the document for this employee and template\nconst document=group.documents.find(doc=>doc.document_name===template.document_name);const status=document?document.display_status:\"Not Uploaded\";return/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 border border-gray-300\",style:{width:\"180px\",minWidth:\"180px\"},children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs font-medium \".concat(status===\"Received\"||status===\"Uploaded\"?\"bg-green-100 text-green-800\":status===\"Pending\"||status===\"Not Uploaded\"?\"bg-orange-100 text-orange-800\":\"bg-gray-100 text-gray-800\"),children:status===\"Received\"||status===\"Uploaded\"?\"Uploaded\":status})},template.id);})]},\"\".concat(group.employee_id,\"-\").concat(groupIndex)))})]})}),currentEmployees.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(FaFileAlt,{className:\"mx-auto text-gray-400 text-4xl mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No Employee Data Found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:filters.searchTerm||Object.values(filters).some(f=>f!==\"\"&&f!==\"all\")?\"Try adjusting your search or filter criteria.\":\"No employee forms have been submitted yet. Employee data will appear here once they submit their onboarding forms.\"})]}),filteredGroupedEmployees.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex justify-between sm:hidden\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(currentPage-1),disabled:currentPage===1,className:\"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",children:\"Previous\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(currentPage+1),disabled:currentPage===totalPages,className:\"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",children:\"Next\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-700\",children:[\"Showing\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:indexOfFirstEmployee+1}),\" \",\"to\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:Math.min(indexOfLastEmployee,filteredGroupedEmployees.length)}),\" \",\"of\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:filteredGroupedEmployees.length}),\" \",\"results\"]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"nav\",{className:\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\",\"aria-label\":\"Pagination\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentPage(currentPage-1),disabled:currentPage===1,className:\"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Previous\"}),/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\",fill:\"currentColor\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z\",clipRule:\"evenodd\"})})]}),Array.from({length:totalPages},(_,i)=>i+1).map(pageNumber=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(pageNumber),className:\"relative inline-flex items-center px-4 py-2 border text-sm font-medium \".concat(pageNumber===currentPage?\"z-10 bg-blue-50 border-blue-500 text-blue-600\":\"bg-white border-gray-300 text-gray-500 hover:bg-gray-50\"),children:pageNumber},pageNumber)),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentPage(currentPage+1),disabled:currentPage===totalPages,className:\"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Next\"}),/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\",fill:\"currentColor\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\",clipRule:\"evenodd\"})})]})]})})]})]})]}),showAddModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Add Document Collection Record\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Employee\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"employee_id\",value:formData.employee_id,onChange:e=>handleEmployeeSelect(e.target.value),className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Employee\"}),employees.map(emp=>/*#__PURE__*/_jsxs(\"option\",{value:emp.id,children:[emp.employee_name,\" (\",emp.employee_id,\")\"]},emp.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Document Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"document_name\",value:formData.document_name,onChange:handleInputChange,className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Document Type\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"document_type\",value:formData.document_type,onChange:handleInputChange,className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Required\",children:\"Required\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Optional\",children:\"Optional\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Due Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"due_date\",value:formData.due_date,onChange:handleInputChange,className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"notes\",value:formData.notes,onChange:handleInputChange,rows:\"3\",className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowAddModal(false),className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 border border-gray-300 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Add Document\"})]})]})]})})}),showBulkAddModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-10 mx-auto p-5 border w-[600px] shadow-lg rounded-md bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Bulk Add Document Collection Records\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleBulkSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Employee\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"employee_id\",value:bulkFormData.employee_id,onChange:e=>handleBulkEmployeeSelect(e.target.value),className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Employee\"}),employees.map(emp=>/*#__PURE__*/_jsxs(\"option\",{value:emp.id,children:[emp.employee_name,\" (\",emp.employee_id,\")\"]},emp.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Due Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"due_date\",value:bulkFormData.due_date,onChange:handleBulkInputChange,className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Select Documents (\",bulkFormData.selectedDocuments.length,\" \",\"selected)\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"max-h-60 overflow-y-auto border border-gray-300 rounded-md p-3\",children:templates.map(template=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 py-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"template-\".concat(template.id),checked:bulkFormData.selectedDocuments.some(doc=>doc.id===template.id),onChange:()=>handleDocumentToggle(template.id),className:\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"template-\".concat(template.id),className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-900\",children:template.document_name}),/*#__PURE__*/_jsx(\"span\",{className:getTypeBadge(template.document_type),children:template.document_type})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:template.description})]})]},template.id))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowBulkAddModal(false),className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 border border-gray-300 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Add Documents\"})]})]})]})})}),showStatusModal&&selectedDocument&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Update Document Status\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mb-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Employee:\"}),\" \",selectedDocument.employee_name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mb-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Document:\"}),\" \",selectedDocument.document_name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Current Status:\"}),\" \",selectedDocument.status]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"New Status\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"newStatus\",className:\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",defaultValue:selectedDocument.status,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Pending\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Received\",children:\"Received\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Follow-Up\",children:\"Follow-Up\"}),/*#__PURE__*/_jsx(\"option\",{value:\"N/A\",children:\"N/A\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setShowStatusModal(false);setSelectedDocument(null);},className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 border border-gray-300 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const newStatus=document.getElementById(\"newStatus\").value;handleStatusUpdate(selectedDocument.id,newStatus);},className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Update Status\"})]})]})})})]});};export default HRDocumentCollection;","map":{"version":3,"names":["React","useState","useEffect","axios","FaPlus","FaFileAlt","FaSync","toast","jsx","_jsx","jsxs","_jsxs","HRDocumentCollection","documents","setDocuments","employees","setEmployees","templates","setTemplates","employeeForms","setEmployeeForms","loading","setLoading","showAddModal","setShowAddModal","showBulkAddModal","setShowBulkAddModal","editingDocument","setEditingDocument","showStatusModal","setShowStatusModal","selectedDocument","setSelectedDocument","filters","setFilters","status","documentType","department","formStatus","employmentType","searchTerm","currentPage","setCurrentPage","employeesPerPage","formData","setFormData","employee_id","employee_name","emp_id","join_date","due_date","document_name","document_type","notes","bulkFormData","setBulkFormData","selectedDocuments","fetchData","_documentsRes$data$do","_employeesRes$data$em","_formsRes$data$forms","documentsRes","employeesRes","requirementsRes","formsRes","Promise","all","get","console","log","data","length","requirements","forms","formsData","onboardingTemplates","Object","entries","forEach","_ref","category","doc","index","push","id","concat","type","name","is_required","required","is_active","error","handleInputChange","e","value","target","prev","_objectSpread","handleBulkInputChange","handleEmployeeSelect","employeeId","employee","find","emp","parseInt","doj","handleBulkEmployeeSelect","handleDocumentToggle","templateId","template","t","isSelected","some","filter","handleSubmit","preventDefault","post","success","_error$response","_error$response$data","response","handleBulkSubmit","map","description","_error$response2","_error$response2$data","handleStatusUpdate","documentId","newStatus","put","openStatusModal","document","handleSyncDocuments","message","getStatusBadge","baseClasses","getStatusText","getTypeBadge","groupedEmployees","reduce","acc","form","_form$form_data","_form$form_data2","_form$form_data3","_form$form_data4","_form$form_data5","_form$form_data6","_form$form_data7","_form$form_data8","key","first_name","last_name","employeeMaster","employeeDocuments","employee_type","form_data","requiredDocuments","completeDocumentList","docName","existingDoc","effective_status","uploaded_file_url","created_at","updated_at","is_placeholder","filteredDocuments","totalEmployeeDocuments","documentMap","Map","currentStatus","set","existingStatus","documentsWithStatus","Array","from","values","displayStatus","hasUploadedFile","display_status","assigned_employee_id","form_status","employment_type","form_submitted_at","submitted_at","assigned_manager","user_email","phone","address","education","experience","emergency_contact","emergencyContact","reviewed_by","reviewed_at","review_notes","reviewed_notes","total_documents","submitted_documents","pending_documents","totalGrouped","keys","groupedKeys","sampleGroup","filteredGroupedEmployees","group","matchesFormStatus","matchesEmploymentType","matchesDepartment","matchesSearch","toLowerCase","includes","hasMatchingDocument","matchesStatus","matchesType","indexOfLastEmployee","indexOfFirstEmployee","currentEmployees","slice","totalPages","Math","ceil","departments","Set","Boolean","className","children","placeholder","onChange","style","maxWidth","tableLayout","width","minWidth","groupIndex","Date","toISOString","split","toLocaleDateString","month","day","year","f","onClick","disabled","min","xmlns","viewBox","fill","fillRule","d","clipRule","_","i","pageNumber","onSubmit","rows","checked","htmlFor","defaultValue","getElementById"],"sources":["/Users/stalin_j/Downloads/test2/onboard/frontend/src/components/HRDocumentCollection.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { FaPlus, FaFileAlt, FaSync } from \"react-icons/fa\";\nimport toast from \"react-hot-toast\";\n\nconst HRDocumentCollection = () => {\n  const [documents, setDocuments] = useState([]);\n  const [employees, setEmployees] = useState([]);\n  const [templates, setTemplates] = useState([]);\n  const [employeeForms, setEmployeeForms] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [showBulkAddModal, setShowBulkAddModal] = useState(false);\n  const [editingDocument, setEditingDocument] = useState(null);\n  const [showStatusModal, setShowStatusModal] = useState(false);\n  const [selectedDocument, setSelectedDocument] = useState(null);\n  const [filters, setFilters] = useState({\n    status: \"\",\n    documentType: \"\",\n    department: \"\",\n    formStatus: \"\",\n    employmentType: \"\",\n    searchTerm: \"\",\n  });\n\n  // Pagination state\n  const [currentPage, setCurrentPage] = useState(1);\n  const [employeesPerPage] = useState(5);\n\n  // Form states\n  const [formData, setFormData] = useState({\n    employee_id: \"\",\n    employee_name: \"\",\n    emp_id: \"\",\n    department: \"\",\n    join_date: \"\",\n    due_date: \"\",\n    document_name: \"\",\n    document_type: \"Required\",\n    notes: \"\",\n  });\n\n  const [bulkFormData, setBulkFormData] = useState({\n    employee_id: \"\",\n    employee_name: \"\",\n    emp_id: \"\",\n    department: \"\",\n    join_date: \"\",\n    due_date: \"\",\n    selectedDocuments: [],\n  });\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData = async () => {\n    try {\n      setLoading(true);\n      const [documentsRes, employeesRes, requirementsRes, formsRes] =\n        await Promise.all([\n          axios.get(\"/hr/document-collection\"),\n          axios.get(\"/hr/master\"),\n          axios.get(\"/documents/requirements\"), // Get actual onboarding form documents\n          axios.get(\"/hr/approved-employee-forms\"), // Use approved employee forms only\n        ]);\n\n      console.log(\"ðŸ” Document Collection Data:\", {\n        documents: documentsRes.data.documents?.length || 0,\n        employees: employeesRes.data.employees?.length || 0,\n        requirements: requirementsRes.data,\n        forms: formsRes.data.forms?.length || 0,\n        formsData: formsRes.data.forms,\n      });\n\n      // Convert requirements to templates format for compatibility\n      const onboardingTemplates = [];\n      Object.entries(requirementsRes.data).forEach(([category, documents]) => {\n        documents.forEach((doc, index) => {\n          onboardingTemplates.push({\n            id: `${category}_${doc.type}`,\n            document_name: doc.name,\n            document_type: doc.type,\n            category: category,\n            is_required: doc.required,\n            is_active: true,\n          });\n        });\n      });\n\n      setDocuments(documentsRes.data.documents || []);\n      setEmployees(employeesRes.data.employees || []);\n      setTemplates(onboardingTemplates); // Use only onboarding form documents\n      setEmployeeForms(formsRes.data.forms || []);\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n      toast.error(\"Failed to fetch document collection data\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({\n      ...prev,\n      [name]: value,\n    }));\n  };\n\n  const handleBulkInputChange = (e) => {\n    const { name, value } = e.target;\n    setBulkFormData((prev) => ({\n      ...prev,\n      [name]: value,\n    }));\n  };\n\n  const handleEmployeeSelect = (employeeId) => {\n    const employee = employees.find((emp) => emp.id === parseInt(employeeId));\n    if (employee) {\n      setFormData({\n        ...formData,\n        employee_id: employee.id,\n        employee_name: employee.employee_name,\n        emp_id: employee.employee_id,\n        department: employee.department || \"\",\n        join_date: employee.doj || \"\",\n      });\n    }\n  };\n\n  const handleBulkEmployeeSelect = (employeeId) => {\n    const employee = employees.find((emp) => emp.id === parseInt(employeeId));\n    if (employee) {\n      setBulkFormData({\n        ...bulkFormData,\n        employee_id: employee.id,\n        employee_name: employee.employee_name,\n        emp_id: employee.employee_id,\n        department: employee.department || \"\",\n        join_date: employee.doj || \"\",\n      });\n    }\n  };\n\n  const handleDocumentToggle = (templateId) => {\n    const template = templates.find((t) => t.id === templateId);\n    setBulkFormData((prev) => {\n      const isSelected = prev.selectedDocuments.some(\n        (doc) => doc.id === templateId\n      );\n      if (isSelected) {\n        return {\n          ...prev,\n          selectedDocuments: prev.selectedDocuments.filter(\n            (doc) => doc.id !== templateId\n          ),\n        };\n      } else {\n        return {\n          ...prev,\n          selectedDocuments: [...prev.selectedDocuments, template],\n        };\n      }\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      await axios.post(\"/hr/document-collection\", formData);\n      toast.success(\"Document collection record created successfully\");\n      setShowAddModal(false);\n      setFormData({\n        employee_id: \"\",\n        employee_name: \"\",\n        emp_id: \"\",\n        department: \"\",\n        join_date: \"\",\n        due_date: \"\",\n        document_name: \"\",\n        document_type: \"Required\",\n        notes: \"\",\n      });\n      fetchData();\n    } catch (error) {\n      console.error(\"Error creating document record:\", error);\n      toast.error(\n        error.response?.data?.error || \"Failed to create document record\"\n      );\n    }\n  };\n\n  const handleBulkSubmit = async (e) => {\n    e.preventDefault();\n    if (bulkFormData.selectedDocuments.length === 0) {\n      toast.error(\"Please select at least one document\");\n      return;\n    }\n\n    try {\n      const documents = bulkFormData.selectedDocuments.map((doc) => ({\n        document_name: doc.document_name,\n        document_type: doc.document_type,\n        notes: doc.description,\n      }));\n\n      await axios.post(\"/hr/document-collection/bulk\", {\n        ...bulkFormData,\n        documents,\n      });\n\n      toast.success(\"Document collection records created successfully\");\n      setShowBulkAddModal(false);\n      setBulkFormData({\n        employee_id: \"\",\n        employee_name: \"\",\n        emp_id: \"\",\n        department: \"\",\n        join_date: \"\",\n        due_date: \"\",\n        selectedDocuments: [],\n      });\n      fetchData();\n    } catch (error) {\n      console.error(\"Error creating bulk document records:\", error);\n      toast.error(\n        error.response?.data?.error || \"Failed to create document records\"\n      );\n    }\n  };\n\n  const handleStatusUpdate = async (documentId, newStatus) => {\n    try {\n      console.log(\"ðŸ” Updating document status:\", { documentId, newStatus });\n      await axios.put(`/hr/document-collection/${documentId}`, {\n        status: newStatus,\n      });\n      toast.success(\"Document status updated successfully\");\n      setShowStatusModal(false);\n      setSelectedDocument(null);\n      fetchData();\n    } catch (error) {\n      console.error(\"Error updating document status:\", error);\n      toast.error(\"Failed to update document status\");\n    }\n  };\n\n  const openStatusModal = (document) => {\n    console.log(\"ðŸ” Opening status modal for document:\", document);\n    setSelectedDocument(document);\n    setShowStatusModal(true);\n  };\n\n  const handleSyncDocuments = async () => {\n    try {\n      const response = await axios.post(\"/hr/sync-document-collection\");\n      toast.success(response.data.message);\n      fetchData(); // Refresh the data\n    } catch (error) {\n      console.error(\"Sync documents error:\", error);\n      toast.error(\"Failed to sync document collection\");\n    }\n  };\n\n  const getStatusBadge = (status) => {\n    const baseClasses = \"px-2 py-1 rounded-full text-xs font-medium\";\n    switch (status) {\n      case \"Received\":\n        return `${baseClasses} bg-green-100 text-green-800`;\n      case \"Pending\":\n        return `${baseClasses} bg-orange-100 text-orange-800`;\n      case \"Uploaded\":\n        return `${baseClasses} bg-green-100 text-green-800`;\n      case \"Not Uploaded\":\n        return `${baseClasses} bg-orange-100 text-orange-800`;\n      case \"Follow-Up\":\n        return `${baseClasses} bg-blue-100 text-blue-800`;\n      case \"N/A\":\n        return `${baseClasses} bg-gray-100 text-gray-800`;\n      default:\n        return `${baseClasses} bg-gray-100 text-gray-800`;\n    }\n  };\n\n  const getStatusText = (status) => {\n    switch (status) {\n      case \"Received\":\n        return \"text-green-600\";\n      case \"Pending\":\n        return \"text-orange-600\";\n      case \"Uploaded\":\n        return \"text-green-600\";\n      case \"Not Uploaded\":\n        return \"text-orange-600\";\n      case \"Follow-Up\":\n        return \"text-blue-600\";\n      case \"N/A\":\n        return \"text-gray-600\";\n      default:\n        return \"text-gray-600\";\n    }\n  };\n\n  const getTypeBadge = (type) => {\n    const baseClasses = \"px-2 py-1 rounded-full text-xs font-medium\";\n    switch (type) {\n      case \"Required\":\n        return `${baseClasses} bg-orange-100 text-orange-800`;\n      case \"Optional\":\n        return `${baseClasses} bg-purple-100 text-purple-800`;\n      default:\n        return `${baseClasses} bg-gray-100 text-gray-800`;\n    }\n  };\n\n  // Group employees by form submission status\n  // Show only approved employees (who have been moved to onboarded_employees) with their document collection status\n  console.log(\n    \"ðŸ” Processing employee forms for grouping:\",\n    employeeForms.length\n  );\n\n  const groupedEmployees = employeeForms.reduce((acc, form) => {\n    const key = `${form.employee_id}-${form.first_name} ${form.last_name}`;\n\n    // Find corresponding employee master data\n    const employeeMaster = employees.find((emp) => emp.id === form.employee_id);\n\n    // Find documents for this employee\n    const employeeDocuments = documents.filter(\n      (doc) => doc.employee_id === form.employee_id\n    );\n\n    // Get employment type for filtering\n    const employmentType =\n      form.employee_type || form.form_data?.employmentType || \"\";\n\n    // All employees from approved-employee-forms endpoint are already approved\n    // No need to filter by status\n\n    // Now all documents shown are from the onboarding form, no need to filter by employment type\n    const requiredDocuments = templates.map(\n      (template) => template.document_name\n    );\n\n    // Create a complete list of required documents for this employment type\n    // This ensures we show all required documents even if they don't exist in collection yet\n    const completeDocumentList = requiredDocuments.map((docName) => {\n      // Find if this document exists in the collection\n      const existingDoc = employeeDocuments.find(\n        (doc) => doc.document_name === docName\n      );\n\n      if (existingDoc) {\n        return existingDoc;\n      } else {\n        // Create a placeholder document for missing required documents\n        return {\n          id: `placeholder-${docName}`,\n          employee_id: form.employee_id,\n          document_name: docName,\n          document_type: \"Required\", // Default to Required\n          status: \"Pending\",\n          effective_status: \"Pending\",\n          uploaded_file_url: null,\n          created_at: null,\n          updated_at: null,\n          is_placeholder: true, // Flag to identify placeholder documents\n        };\n      }\n    });\n\n    const filteredDocuments = completeDocumentList;\n\n    // Debug logging for intern employees\n    if (employmentType === \"Intern\") {\n      console.log(`ðŸ” Intern Employee ${form.employee_id} Debug:`, {\n        employeeId: form.employee_id,\n        employmentType: employmentType,\n        totalEmployeeDocuments: employeeDocuments.length,\n        requiredDocuments: requiredDocuments,\n        completeDocumentList: completeDocumentList.length,\n        filteredDocuments: filteredDocuments.length,\n      });\n    }\n\n    // Deduplicate documents by document_name, keeping the one with the best status\n    const documentMap = new Map();\n    filteredDocuments.forEach((doc) => {\n      const existingDoc = documentMap.get(doc.document_name);\n      const currentStatus = doc.uploaded_file_url\n        ? \"Received\"\n        : doc.status || \"Pending\";\n\n      if (!existingDoc) {\n        documentMap.set(doc.document_name, doc);\n      } else {\n        // If existing document has \"Pending\" status and current has \"Received\", replace it\n        const existingStatus = existingDoc.uploaded_file_url\n          ? \"Received\"\n          : existingDoc.status || \"Pending\";\n        if (existingStatus === \"Pending\" && currentStatus === \"Received\") {\n          documentMap.set(doc.document_name, doc);\n        }\n      }\n    });\n\n    // Create document status mapping - use effective_status from backend or fallback to calculated status\n    const documentsWithStatus = Array.from(documentMap.values()).map((doc) => {\n      // Use effective_status from backend if available, otherwise calculate it\n      let displayStatus;\n      if (doc.effective_status) {\n        displayStatus = doc.effective_status;\n      } else {\n        // Map backend statuses to frontend display statuses\n        if (doc.status === \"Uploaded\" || doc.status === \"Received\") {\n          displayStatus = \"Received\";\n        } else if (doc.status === \"Not Uploaded\" || doc.status === \"Pending\") {\n          displayStatus = \"Pending\";\n        } else {\n          // Fallback calculation\n          const hasUploadedFile = doc.uploaded_file_url;\n          if (hasUploadedFile) {\n            displayStatus = \"Received\";\n          } else {\n            displayStatus = \"Pending\";\n          }\n        }\n      }\n\n      return {\n        ...doc,\n        display_status: displayStatus,\n      };\n    });\n\n    acc[key] = {\n      employee_id: form.employee_id,\n      employee_name: `${form.first_name} ${form.last_name}`,\n      emp_id: form.assigned_employee_id || employeeMaster?.employee_id || \"N/A\",\n      department: employeeMaster?.department || \"N/A\",\n      join_date: form.form_data?.doj || employeeMaster?.doj || \"N/A\",\n      due_date:\n        filteredDocuments.length > 0 ? filteredDocuments[0].due_date : \"N/A\",\n      // Complete Employee form details\n      form_status: form.status || \"Not Submitted\",\n      employment_type:\n        form.employee_type ||\n        form.form_data?.employmentType ||\n        employeeMaster?.type ||\n        \"Not Specified\",\n      form_submitted_at: form.submitted_at || null,\n      assigned_manager: form.assigned_manager || \"Not assigned\",\n      user_email: form.user_email || \"N/A\",\n      // All form details from employee form\n      first_name: form.first_name || \"\",\n      last_name: form.last_name || \"\",\n      phone: form.form_data?.phone || \"\",\n      address: form.form_data?.address || \"\",\n      education: form.form_data?.education || \"\",\n      experience: form.form_data?.experience || \"\",\n      emergency_contact: form.form_data?.emergencyContact || {},\n      // Form submission details\n      submitted_at: form.submitted_at || null,\n      updated_at: form.updated_at || null,\n      reviewed_by: form.reviewed_by || null,\n      reviewed_at: form.reviewed_at || null,\n      review_notes: form.reviewed_notes || null,\n      // Document collection status with proper status mapping\n      documents: documentsWithStatus,\n      total_documents: documentsWithStatus.length,\n      submitted_documents: documentsWithStatus.filter(\n        (doc) => doc.display_status === \"Received\"\n      ).length,\n      pending_documents: documentsWithStatus.filter(\n        (doc) => doc.display_status === \"Pending\"\n      ).length,\n    };\n\n    return acc;\n  }, {});\n\n  console.log(\"ðŸ” Grouped employees result:\", {\n    totalGrouped: Object.keys(groupedEmployees).length,\n    groupedKeys: Object.keys(groupedEmployees),\n    sampleGroup: Object.values(groupedEmployees)[0],\n  });\n\n  const filteredGroupedEmployees = Object.values(groupedEmployees).filter(\n    (group) => {\n      // Check form status filter\n      const matchesFormStatus =\n        !filters.formStatus || group.form_status === filters.formStatus;\n      // Check employment type filter\n      const matchesEmploymentType =\n        !filters.employmentType ||\n        group.employment_type === filters.employmentType;\n      // Check department filter\n      const matchesDepartment =\n        !filters.department || group.department === filters.department;\n\n      // Check search filter\n      const matchesSearch =\n        !filters.searchTerm ||\n        group.employee_name\n          .toLowerCase()\n          .includes(filters.searchTerm.toLowerCase()) ||\n        group.user_email\n          .toLowerCase()\n          .includes(filters.searchTerm.toLowerCase()) ||\n        group.emp_id.toLowerCase().includes(filters.searchTerm.toLowerCase());\n\n      // Check document status filter - if status filter is applied, only show employees who have documents with that status\n      const hasMatchingDocument = (() => {\n        // If no status filter is applied (All Status), show all employees\n        if (!filters.status) {\n          return true;\n        }\n\n        // If status filter is applied, only show employees who have documents with matching status\n        return group.documents.some((doc) => {\n          const matchesStatus = doc.display_status === filters.status;\n          const matchesType =\n            !filters.documentType || doc.document_type === filters.documentType;\n          return matchesStatus && matchesType;\n        });\n      })();\n\n      return (\n        matchesFormStatus &&\n        matchesEmploymentType &&\n        matchesDepartment &&\n        matchesSearch &&\n        hasMatchingDocument\n      );\n    }\n  );\n\n  // Pagination calculations\n  const indexOfLastEmployee = currentPage * employeesPerPage;\n  const indexOfFirstEmployee = indexOfLastEmployee - employeesPerPage;\n  const currentEmployees = filteredGroupedEmployees.slice(\n    indexOfFirstEmployee,\n    indexOfLastEmployee\n  );\n  const totalPages = Math.ceil(\n    filteredGroupedEmployees.length / employeesPerPage\n  );\n\n  // Reset to first page when filters change\n  useEffect(() => {\n    setCurrentPage(1);\n  }, [filters]);\n\n  const departments = [\n    ...new Set(employees.map((emp) => emp.department).filter(Boolean)),\n  ];\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center\">\n        <h2 className=\"text-2xl font-bold text-gray-900\">\n          HR Document Collection - Complete Employee Form Details\n        </h2>\n      </div>\n\n      {/* Filters */}\n      <div className=\"bg-white rounded-lg shadow-sm border p-4\">\n        <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Search\n            </label>\n            <input\n              type=\"text\"\n              placeholder=\"Employee name, email, or ID...\"\n              value={filters.searchTerm}\n              onChange={(e) =>\n                setFilters({ ...filters, searchTerm: e.target.value })\n              }\n              className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Document Status\n            </label>\n            <select\n              value={filters.status}\n              onChange={(e) =>\n                setFilters({ ...filters, status: e.target.value })\n              }\n              className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"\">All Status</option>\n              <option value=\"Pending\">Pending</option>\n              <option value=\"Received\">Received</option>\n              <option value=\"Not Uploaded\">Not Uploaded</option>\n              <option value=\"Uploaded\">Uploaded</option>\n            </select>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Document Type\n            </label>\n            <select\n              value={filters.documentType}\n              onChange={(e) =>\n                setFilters({ ...filters, documentType: e.target.value })\n              }\n              className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"\">All Types</option>\n              <option value=\"Required\">Required</option>\n              <option value=\"Optional\">Optional</option>\n            </select>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Employment Type\n            </label>\n            <select\n              value={filters.employmentType}\n              onChange={(e) =>\n                setFilters({ ...filters, employmentType: e.target.value })\n              }\n              className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"\">All Types</option>\n              <option value=\"Full-Time\">Full-Time</option>\n              <option value=\"Intern\">Intern</option>\n              <option value=\"Contract\">Contract</option>\n              <option value=\"Manager\">Manager</option>\n            </select>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Form Status\n            </label>\n            <select\n              value={filters.formStatus}\n              onChange={(e) =>\n                setFilters({ ...filters, formStatus: e.target.value })\n              }\n              className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"\">All Status</option>\n              <option value=\"approved\">Approved</option>\n              <option value=\"pending\">Pending</option>\n              <option value=\"rejected\">Rejected</option>\n              <option value=\"submitted\">Submitted</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      {/* Documents Table */}\n      <div className=\"bg-white rounded-lg shadow-sm border overflow-hidden\">\n        <div className=\"overflow-x-auto\" style={{ maxWidth: \"100%\" }}>\n          <table\n            className=\"min-w-full border border-gray-300\"\n            style={{ tableLayout: \"fixed\" }}\n          >\n            <thead className=\"bg-blue-800\">\n              <tr>\n                <th\n                  className=\"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider border border-gray-400 sticky left-0 z-10 bg-blue-800\"\n                  style={{ width: \"200px\", minWidth: \"200px\" }}\n                >\n                  Employee Details\n                </th>\n                <th\n                  className=\"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider border border-gray-400\"\n                  style={{ width: \"120px\", minWidth: \"120px\" }}\n                >\n                  Join Date\n                </th>\n                <th\n                  className=\"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider border border-gray-400\"\n                  style={{ width: \"140px\", minWidth: \"140px\" }}\n                >\n                  Form Status\n                </th>\n                <th\n                  className=\"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider border border-gray-400\"\n                  style={{ width: \"120px\", minWidth: \"120px\" }}\n                >\n                  Type\n                </th>\n                <th\n                  className=\"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider border border-gray-400\"\n                  style={{ width: \"120px\", minWidth: \"120px\" }}\n                >\n                  Submitted\n                </th>\n                <th\n                  className=\"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider border border-gray-400\"\n                  style={{ width: \"150px\", minWidth: \"150px\" }}\n                >\n                  Document Summary\n                </th>\n                {/* Dynamic document type columns */}\n                {templates.map((template) => (\n                  <th\n                    key={template.id}\n                    className=\"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider border border-gray-400\"\n                    style={{ width: \"180px\", minWidth: \"180px\" }}\n                  >\n                    {template.document_name}\n                    {template.is_required && \"*\"}\n                  </th>\n                ))}\n              </tr>\n            </thead>\n            <tbody className=\"bg-white\">\n              {currentEmployees.map((group, groupIndex) => (\n                <tr\n                  key={`${group.employee_id}-${groupIndex}`}\n                  className=\"hover:bg-gray-50\"\n                >\n                  {/* Employee Details - Frozen Column */}\n                  <td\n                    className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 border border-gray-300 sticky left-0 z-10 bg-white shadow-sm\"\n                    style={{ width: \"200px\", minWidth: \"200px\" }}\n                  >\n                    <div>\n                      <div className=\"text-gray-900 font-medium\">\n                        {group.user_email}\n                      </div>\n                      <div className=\"text-gray-500 text-xs\">\n                        {group.first_name} {group.last_name}\n                      </div>\n                    </div>\n                  </td>\n\n                  {/* Join Date */}\n                  <td\n                    className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 border border-gray-300\"\n                    style={{ width: \"120px\", minWidth: \"120px\" }}\n                  >\n                    {group.join_date && group.join_date !== \"N/A\"\n                      ? new Date(group.join_date).toISOString().split(\"T\")[0]\n                      : \"N/A\"}\n                  </td>\n\n                  {/* Form Status */}\n                  <td\n                    className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 border border-gray-300\"\n                    style={{ width: \"140px\", minWidth: \"140px\" }}\n                  >\n                    <span\n                      className={`px-2 py-1 rounded-full text-xs font-medium ${\n                        group.form_status === \"approved\"\n                          ? \"bg-green-100 text-green-800\"\n                          : group.form_status === \"pending\"\n                          ? \"bg-orange-100 text-orange-800\"\n                          : group.form_status === \"rejected\"\n                          ? \"bg-red-100 text-red-800\"\n                          : \"bg-gray-100 text-gray-800\"\n                      }`}\n                    >\n                      {group.form_status === \"approved\"\n                        ? \"Form Approved\"\n                        : group.form_status === \"pending\"\n                        ? \"Form Pending\"\n                        : group.form_status === \"rejected\"\n                        ? \"Form Rejected\"\n                        : \"Not Submitted\"}\n                    </span>\n                  </td>\n\n                  {/* Type */}\n                  <td\n                    className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 border border-gray-300\"\n                    style={{ width: \"120px\", minWidth: \"120px\" }}\n                  >\n                    <span\n                      className={`px-2 py-1 rounded-full text-xs font-medium ${\n                        group.employment_type === \"Full-Time\"\n                          ? \"bg-purple-100 text-purple-800\"\n                          : group.employment_type === \"Intern\"\n                          ? \"bg-blue-100 text-blue-800\"\n                          : group.employment_type === \"Contract\"\n                          ? \"bg-orange-100 text-orange-800\"\n                          : \"bg-gray-100 text-gray-800\"\n                      }`}\n                    >\n                      {group.employment_type || \"Not Specified\"}\n                    </span>\n                  </td>\n\n                  {/* Submitted */}\n                  <td\n                    className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 border border-gray-300\"\n                    style={{ width: \"120px\", minWidth: \"120px\" }}\n                  >\n                    {group.form_submitted_at\n                      ? new Date(group.form_submitted_at).toLocaleDateString(\n                          \"en-US\",\n                          {\n                            month: \"numeric\",\n                            day: \"numeric\",\n                            year: \"numeric\",\n                          }\n                        )\n                      : \"Not submitted\"}\n                  </td>\n\n                  {/* Document Summary */}\n                  <td\n                    className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 border border-gray-300\"\n                    style={{ width: \"150px\", minWidth: \"150px\" }}\n                  >\n                    <div className=\"text-xs\">\n                      <div className=\"font-medium text-gray-900\">\n                        {group.submitted_documents}/{group.total_documents}{\" \"}\n                        Submitted\n                      </div>\n                      <div className=\"text-gray-500\">\n                        {group.pending_documents} Pending\n                      </div>\n                    </div>\n                  </td>\n\n                  {/* Individual Document Status Columns */}\n                  {templates.map((template) => {\n                    // Find the document for this employee and template\n                    const document = group.documents.find(\n                      (doc) => doc.document_name === template.document_name\n                    );\n\n                    const status = document\n                      ? document.display_status\n                      : \"Not Uploaded\";\n\n                    return (\n                      <td\n                        key={template.id}\n                        className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 border border-gray-300\"\n                        style={{ width: \"180px\", minWidth: \"180px\" }}\n                      >\n                        <span\n                          className={`px-2 py-1 rounded-full text-xs font-medium ${\n                            status === \"Received\" || status === \"Uploaded\"\n                              ? \"bg-green-100 text-green-800\"\n                              : status === \"Pending\" ||\n                                status === \"Not Uploaded\"\n                              ? \"bg-orange-100 text-orange-800\"\n                              : \"bg-gray-100 text-gray-800\"\n                          }`}\n                        >\n                          {status === \"Received\" || status === \"Uploaded\"\n                            ? \"Uploaded\"\n                            : status}\n                        </span>\n                      </td>\n                    );\n                  })}\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n\n        {currentEmployees.length === 0 && (\n          <div className=\"text-center py-12\">\n            <FaFileAlt className=\"mx-auto text-gray-400 text-4xl mb-4\" />\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n              No Employee Data Found\n            </h3>\n            <p className=\"text-gray-500\">\n              {filters.searchTerm ||\n              Object.values(filters).some((f) => f !== \"\" && f !== \"all\")\n                ? \"Try adjusting your search or filter criteria.\"\n                : \"No employee forms have been submitted yet. Employee data will appear here once they submit their onboarding forms.\"}\n            </p>\n          </div>\n        )}\n\n        {/* Pagination */}\n        {filteredGroupedEmployees.length > 0 && (\n          <div className=\"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6\">\n            <div className=\"flex-1 flex justify-between sm:hidden\">\n              <button\n                onClick={() => setCurrentPage(currentPage - 1)}\n                disabled={currentPage === 1}\n                className=\"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                Previous\n              </button>\n              <button\n                onClick={() => setCurrentPage(currentPage + 1)}\n                disabled={currentPage === totalPages}\n                className=\"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                Next\n              </button>\n            </div>\n            <div className=\"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-700\">\n                  Showing{\" \"}\n                  <span className=\"font-medium\">\n                    {indexOfFirstEmployee + 1}\n                  </span>{\" \"}\n                  to{\" \"}\n                  <span className=\"font-medium\">\n                    {Math.min(\n                      indexOfLastEmployee,\n                      filteredGroupedEmployees.length\n                    )}\n                  </span>{\" \"}\n                  of{\" \"}\n                  <span className=\"font-medium\">\n                    {filteredGroupedEmployees.length}\n                  </span>{\" \"}\n                  results\n                </p>\n              </div>\n              <div>\n                <nav\n                  className=\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\"\n                  aria-label=\"Pagination\"\n                >\n                  <button\n                    onClick={() => setCurrentPage(currentPage - 1)}\n                    disabled={currentPage === 1}\n                    className=\"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    <span className=\"sr-only\">Previous</span>\n                    <svg\n                      className=\"h-5 w-5\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      viewBox=\"0 0 20 20\"\n                      fill=\"currentColor\"\n                      aria-hidden=\"true\"\n                    >\n                      <path\n                        fillRule=\"evenodd\"\n                        d=\"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z\"\n                        clipRule=\"evenodd\"\n                      />\n                    </svg>\n                  </button>\n\n                  {/* Page numbers */}\n                  {Array.from({ length: totalPages }, (_, i) => i + 1).map(\n                    (pageNumber) => (\n                      <button\n                        key={pageNumber}\n                        onClick={() => setCurrentPage(pageNumber)}\n                        className={`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${\n                          pageNumber === currentPage\n                            ? \"z-10 bg-blue-50 border-blue-500 text-blue-600\"\n                            : \"bg-white border-gray-300 text-gray-500 hover:bg-gray-50\"\n                        }`}\n                      >\n                        {pageNumber}\n                      </button>\n                    )\n                  )}\n\n                  <button\n                    onClick={() => setCurrentPage(currentPage + 1)}\n                    disabled={currentPage === totalPages}\n                    className=\"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    <span className=\"sr-only\">Next</span>\n                    <svg\n                      className=\"h-5 w-5\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      viewBox=\"0 0 20 20\"\n                      fill=\"currentColor\"\n                      aria-hidden=\"true\"\n                    >\n                      <path\n                        fillRule=\"evenodd\"\n                        d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\"\n                        clipRule=\"evenodd\"\n                      />\n                    </svg>\n                  </button>\n                </nav>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Add Document Modal */}\n      {showAddModal && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\n            <div className=\"mt-3\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n                Add Document Collection Record\n              </h3>\n              <form onSubmit={handleSubmit}>\n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">\n                      Employee\n                    </label>\n                    <select\n                      name=\"employee_id\"\n                      value={formData.employee_id}\n                      onChange={(e) => handleEmployeeSelect(e.target.value)}\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      required\n                    >\n                      <option value=\"\">Select Employee</option>\n                      {employees.map((emp) => (\n                        <option key={emp.id} value={emp.id}>\n                          {emp.employee_name} ({emp.employee_id})\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">\n                      Document Name\n                    </label>\n                    <input\n                      type=\"text\"\n                      name=\"document_name\"\n                      value={formData.document_name}\n                      onChange={handleInputChange}\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      required\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">\n                      Document Type\n                    </label>\n                    <select\n                      name=\"document_type\"\n                      value={formData.document_type}\n                      onChange={handleInputChange}\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      required\n                    >\n                      <option value=\"Required\">Required</option>\n                      <option value=\"Optional\">Optional</option>\n                    </select>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">\n                      Due Date\n                    </label>\n                    <input\n                      type=\"date\"\n                      name=\"due_date\"\n                      value={formData.due_date}\n                      onChange={handleInputChange}\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      required\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">\n                      Notes\n                    </label>\n                    <textarea\n                      name=\"notes\"\n                      value={formData.notes}\n                      onChange={handleInputChange}\n                      rows=\"3\"\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    />\n                  </div>\n                </div>\n\n                <div className=\"flex justify-end space-x-3 mt-6\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowAddModal(false)}\n                    className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 border border-gray-300 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    type=\"submit\"\n                    className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  >\n                    Add Document\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Bulk Add Documents Modal */}\n      {showBulkAddModal && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-10 mx-auto p-5 border w-[600px] shadow-lg rounded-md bg-white\">\n            <div className=\"mt-3\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n                Bulk Add Document Collection Records\n              </h3>\n              <form onSubmit={handleBulkSubmit}>\n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">\n                      Employee\n                    </label>\n                    <select\n                      name=\"employee_id\"\n                      value={bulkFormData.employee_id}\n                      onChange={(e) => handleBulkEmployeeSelect(e.target.value)}\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      required\n                    >\n                      <option value=\"\">Select Employee</option>\n                      {employees.map((emp) => (\n                        <option key={emp.id} value={emp.id}>\n                          {emp.employee_name} ({emp.employee_id})\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">\n                      Due Date\n                    </label>\n                    <input\n                      type=\"date\"\n                      name=\"due_date\"\n                      value={bulkFormData.due_date}\n                      onChange={handleBulkInputChange}\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      required\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Select Documents ({bulkFormData.selectedDocuments.length}{\" \"}\n                      selected)\n                    </label>\n                    <div className=\"max-h-60 overflow-y-auto border border-gray-300 rounded-md p-3\">\n                      {templates.map((template) => (\n                        <div\n                          key={template.id}\n                          className=\"flex items-center space-x-3 py-2\"\n                        >\n                          <input\n                            type=\"checkbox\"\n                            id={`template-${template.id}`}\n                            checked={bulkFormData.selectedDocuments.some(\n                              (doc) => doc.id === template.id\n                            )}\n                            onChange={() => handleDocumentToggle(template.id)}\n                            className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                          />\n                          <label\n                            htmlFor={`template-${template.id}`}\n                            className=\"flex-1\"\n                          >\n                            <div className=\"flex items-center justify-between\">\n                              <span className=\"text-sm font-medium text-gray-900\">\n                                {template.document_name}\n                              </span>\n                              <span\n                                className={getTypeBadge(template.document_type)}\n                              >\n                                {template.document_type}\n                              </span>\n                            </div>\n                            <p className=\"text-xs text-gray-500\">\n                              {template.description}\n                            </p>\n                          </label>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"flex justify-end space-x-3 mt-6\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowBulkAddModal(false)}\n                    className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 border border-gray-300 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    type=\"submit\"\n                    className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  >\n                    Add Documents\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Status Update Modal */}\n      {showStatusModal && selectedDocument && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\n            <div className=\"mt-3\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n                Update Document Status\n              </h3>\n              <div className=\"mb-4\">\n                <p className=\"text-sm text-gray-600 mb-2\">\n                  <strong>Employee:</strong> {selectedDocument.employee_name}\n                </p>\n                <p className=\"text-sm text-gray-600 mb-2\">\n                  <strong>Document:</strong> {selectedDocument.document_name}\n                </p>\n                <p className=\"text-sm text-gray-600 mb-4\">\n                  <strong>Current Status:</strong> {selectedDocument.status}\n                </p>\n              </div>\n              <div className=\"mb-4\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  New Status\n                </label>\n                <select\n                  id=\"newStatus\"\n                  className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  defaultValue={selectedDocument.status}\n                >\n                  <option value=\"Pending\">Pending</option>\n                  <option value=\"Received\">Received</option>\n                  <option value=\"Follow-Up\">Follow-Up</option>\n                  <option value=\"N/A\">N/A</option>\n                </select>\n              </div>\n              <div className=\"flex justify-end space-x-3\">\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setShowStatusModal(false);\n                    setSelectedDocument(null);\n                  }}\n                  className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 border border-gray-300 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={() => {\n                    const newStatus =\n                      document.getElementById(\"newStatus\").value;\n                    handleStatusUpdate(selectedDocument.id, newStatus);\n                  }}\n                  className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                >\n                  Update Status\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default HRDocumentCollection;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}